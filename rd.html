<html lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta name="generator" content="pandoc" />

    <meta name="author" content="Ryan Hafen" />
  
  
  <title>rbokeh</title>

    <script src="rd_files/jquery-1.11.3/jquery.min.js"></script>
  <link href="rd_files/bootstrap-3.3.2/css/bootstrap.min.css" rel="stylesheet" />
  <script src="rd_files/bootstrap-3.3.2/js/bootstrap.min.js"></script>
  <script src="rd_files/bootstrap-3.3.2/shim/html5shiv.min.js"></script>
  <script src="rd_files/bootstrap-3.3.2/shim/respond.min.js"></script>
  <link href="rd_files/highlight-8.4/tomorrow.css" rel="stylesheet" />
  <script src="rd_files/highlight-8.4/highlight.pack.js"></script>
  <link href="rd_files/fontawesome-4.3.0/css/font-awesome.min.css" rel="stylesheet" />
  <script src="rd_files/stickykit-1.1.1/sticky-kit.min.js"></script>
  <script src="rd_files/jqueryeasing-1.3/jquery.easing.min.js"></script>
  <link href="rd_files/lazyload-0.1.0/lazyload.css" rel="stylesheet" />
  <script src="rd_files/lazyload-0.1.0/lazyload.js"></script>
  <link href="rd_files/packagedocs-0.0.1/pd.css" rel="stylesheet" />
  <script src="rd_files/packagedocs-0.0.1/pd.js"></script>
  <script src="rd_files/packagedocs-0.0.1/pd-collapse-toc.js"></script>
  <script src="rd_files/htmlwidgets-0.7/htmlwidgets.js"></script>
  <link href="rd_files/bokehjs-0.12.2/bokeh.min.css" rel="stylesheet" />
  <link href="rd_files/bokehjs-0.12.2/loader.css" rel="stylesheet" />
  <script src="rd_files/bokehjs-0.12.2/bokeh.min.js"></script>
  <script src="rd_files/rbokeh-binding-0.5.0/rbokeh.js"></script>
  
  
  
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
</head>

<body>

  
  <header class="navbar navbar-white navbar-fixed-top" role="banner" id="header">
    <div class="container">
      <div class="navbar-header">
        <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
                <a href="index.html" class="navbar-brand page-scroll">
        rbokeh - R Interface for Bokeh
        </a>
      </div>
            <nav class="collapse navbar-collapse" role="navigation">
        <ul class="nav nav-pills pull-right">
<li>
<a href='index.html'>Docs</a>
</li>
<li class="active">
<a href='rd.html'>Package Ref</a>
</li>
<li>
<a href='https://github.com/bokeh/rbokeh'>Github <i class='fa fa-github'></i></a>
</li>
        </ul>
      </nav>
          </div>
  </header>

  <!-- Begin Body -->
  <div class="container">
    <div class="row">
            <div class="col-md-3" id="sidebar-col">
        <div id="toc">
          <ul>
          <li><a href="#rbokeh">rbokeh</a><ul>
          <li><a href="#rbokeh-package-rbokeh-rbokeh-package">rbokeh-package: rbokeh, rbokeh-package</a></li>
          </ul></li>
          <li><a href="#plots">Plots</a><ul>
          <li><a href="#figure">figure</a></li>
          <li><a href="#gmap">gmap</a></li>
          <li><a href="#grid_plot">grid_plot</a></li>
          </ul></li>
          <li><a href="#layer-functions">Layer Functions</a><ul>
          <li><a href="#ly_annular_wedge">ly_annular_wedge</a></li>
          <li><a href="#ly_annulus">ly_annulus</a></li>
          <li><a href="#ly_arc">ly_arc</a></li>
          <li><a href="#ly_bezier">ly_bezier</a></li>
          <li><a href="#ly_crect">ly_crect</a></li>
          <li><a href="#ly_image">ly_image</a></li>
          <li><a href="#ly_image_url">ly_image_url</a></li>
          <li><a href="#ly_lines">ly_lines</a></li>
          <li><a href="#ly_multi_line">ly_multi_line</a></li>
          <li><a href="#ly_oval">ly_oval</a></li>
          <li><a href="#ly_patch">ly_patch</a></li>
          <li><a href="#ly_points">ly_points</a></li>
          <li><a href="#ly_polygons">ly_polygons</a></li>
          <li><a href="#ly_quadratic">ly_quadratic</a></li>
          <li><a href="#ly_ray">ly_ray</a></li>
          <li><a href="#ly_rect">ly_rect</a></li>
          <li><a href="#ly_segments">ly_segments</a></li>
          <li><a href="#ly_text">ly_text</a></li>
          <li><a href="#ly_wedge">ly_wedge</a></li>
          </ul></li>
          <li><a href="#higher-level-layer-functions">Higher-Level Layer Functions</a><ul>
          <li><a href="#ly_quantile">ly_quantile</a></li>
          <li><a href="#ly_density">ly_density</a></li>
          <li><a href="#ly_hist">ly_hist</a></li>
          <li><a href="#ly_hexbin">ly_hexbin</a></li>
          <li><a href="#ly_boxplot">ly_boxplot</a></li>
          <li><a href="#ly_abline">ly_abline</a></li>
          <li><a href="#ly_contour">ly_contour</a></li>
          <li><a href="#ly_curve">ly_curve</a></li>
          <li><a href="#ly_map">ly_map</a></li>
          <li><a href="#ly_bar">ly_bar</a></li>
          </ul></li>
          <li><a href="#finer-control">Finer Control</a><ul>
          <li><a href="#x_axis">x_axis</a></li>
          <li><a href="#x_range">x_range</a></li>
          <li><a href="#y_axis">y_axis</a></li>
          <li><a href="#y_range">y_range</a></li>
          </ul></li>
          <li><a href="#themes">Themes</a><ul>
          <li><a href="#set_theme">set_theme</a></li>
          <li><a href="#theme_axis">theme_axis</a></li>
          <li><a href="#theme_grid">theme_grid</a></li>
          <li><a href="#theme_legend">theme_legend</a></li>
          <li><a href="#theme_plot">theme_plot</a></li>
          <li><a href="#theme_title">theme_title</a></li>
          <li><a href="#set_palette">set_palette</a></li>
          <li><a href="#themes-1">themes</a></li>
          <li><a href="#palettes">palettes</a></li>
          </ul></li>
          <li><a href="#interaction-tools">Interaction Tools</a><ul>
          <li><a href="#tool_hover">tool_hover</a></li>
          <li><a href="#tool_selection">tool_selection</a></li>
          <li><a href="#tool_tap">tool_tap</a></li>
          <li><a href="#tool_box_select">tool_box_select</a></li>
          <li><a href="#tool_box_zoom">tool_box_zoom</a></li>
          <li><a href="#tool_crosshair">tool_crosshair</a></li>
          <li><a href="#tool_lasso_select">tool_lasso_select</a></li>
          <li><a href="#tool_pan">tool_pan</a></li>
          <li><a href="#tool_reset">tool_reset</a></li>
          <li><a href="#tool_resize">tool_resize</a></li>
          <li><a href="#tool_save">tool_save</a></li>
          <li><a href="#tool_wheel_zoom">tool_wheel_zoom</a></li>
          </ul></li>
          <li><a href="#callback-interactivity">Callback Interactivity</a><ul>
          <li><a href="#console_callback">console_callback</a></li>
          <li><a href="#custom_callback">custom_callback</a></li>
          <li><a href="#debug_callback">debug_callback</a></li>
          <li><a href="#shiny_callback">shiny_callback</a></li>
          </ul></li>
          <li><a href="#output">Output</a><ul>
          <li><a href="#print_model_json">print_model_json</a></li>
          <li><a href="#bokeh_render_json">bokeh_render_json</a></li>
          <li><a href="#rbokehoutput">rbokehOutput</a></li>
          <li><a href="#renderrbokeh">renderRbokeh</a></li>
          <li><a href="#widget2gist">widget2gist</a></li>
          <li><a href="#widget2png">widget2png</a></li>
          <li><a href="#rbokeh2html">rbokeh2html</a></li>
          </ul></li>
          <li><a href="#misc">Misc</a><ul>
          <li><a href="#flightfreq">flightfreq</a></li>
          <li><a href="#elements">elements</a></li>
          <li><a href="#nyctaxihex">nyctaxihex</a></li>
          <li><a href="#catjitter">catjitter</a></li>
          <li><a href="#get_object_refs">get_object_refs</a></li>
          <li><a href="#phantom_install">phantom_install</a></li>
          <li><a href="#pipe">pipe</a></li>
          <li><a href="#point_types">point_types</a></li>
          <li><a href="#gmap_style">gmap_style</a></li>
          </ul></li>
          </ul>
        </div>
      </div>
      <div class="col-md-9" id="content-col">
      
<div id="content-top"></div>
<h1>
R Interface for Bokeh
</h1>
<p>
<strong>Authors:</strong> <a href="mailto:rhafen@gmail.com">Ryan Hafen</a> [aut, cre],<a href="mailto:kent.russell@timelyportfolio.com">Kenton Russell</a> [ctb],<a href="mailto:jonathanro@gmail.com">Jonathan Owen</a> [ctb],<a href="mailto:schloerke@gmail.com">Barret Schloerke</a> [ctb],<a href="mailto:saptarshi.guha@gmail.com">Saptasrhi Guha</a> [ctb],Continuum Analytics, Inc. [aut, cph]
</p>
<p>
<strong>Version:</strong> 0.5.0
</p>
<p>
<strong>License:</strong> MIT + file LICENSE
</p>
<h4>
Description
</h4>
<p>
A native R plotting library that provides a flexible declarative interface for creating interactive web-based graphics, backed by the Bokeh visualization library <a href="http://bokeh.pydata.org/" class="uri">http://bokeh.pydata.org/</a>.
</p>
<h4>
Imports
</h4>
<p>
htmlwidgets (&gt;= 0.5), maps, methods, jsonlite, digest, hexbin, lazyeval, pryr, magrittr, ggplot2, scales, gistr
</p>
<h4>
Suggests
</h4>
<p>
testthat, data.table, lattice, lintr, roxygen2 (&gt;= 5.0.0), packagedocs, latticeExtra
</p>
<h4>
Enhances
</h4>
<p>
shiny (&gt;= 0.12)
</p>
<div id="rbokeh" class="section level1">
<h1>rbokeh</h1>
<div id="rbokeh-package-rbokeh-rbokeh-package" class="section level2">
<h2>rbokeh-package: rbokeh, rbokeh-package</h2>
<a id="rbokeh-package_alias"></a>
<h3>
rbokeh: R interface for Bokeh
</h3>
<p class="rd-p">
R interface for creating plots in Bokeh. Bokeh by Continuum Analytics, <a href = 'http://bokeh.pydata.org/en/latest/'>http://bokeh.pydata.org/en/latest/</a>
</p>
<h4>
Details
</h4>
<p class="rd-p">
For full documentation on the package, visit <a href = http://hafen.github.io/rbokeh>http://hafen.github.io/rbokeh</a>
</p>
</div>
</div>
<div id="plots" class="section level1">
<h1>Plots</h1>
<div id="figure" class="section level2">
<h2>figure</h2>
<a id="figure_alias"></a>
<h3>
Initialize a Bokeh figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>figure(data&nbsp;=&nbsp;NULL, width&nbsp;=&nbsp;NULL, height&nbsp;=&nbsp;NULL, title&nbsp;=&nbsp;NULL, xlab&nbsp;=&nbsp;NULL, ylab&nbsp;=&nbsp;NULL, xlim&nbsp;=&nbsp;NULL, ylim&nbsp;=&nbsp;NULL, padding_factor&nbsp;=&nbsp;0.07, xgrid&nbsp;=&nbsp;TRUE, ygrid&nbsp;=&nbsp;TRUE, xaxes&nbsp;=&nbsp;"below", yaxes&nbsp;=&nbsp;"left", legend_location&nbsp;=&nbsp;"top_right", tools&nbsp;=&nbsp;c("pan", "wheel_zoom", "box_zoom", "reset", "save", "help"), theme&nbsp;=&nbsp;getOption("bokeh_theme"), toolbar_location&nbsp;=&nbsp;"above", h_symmetry&nbsp;=&nbsp;TRUE, v_symmetry&nbsp;=&nbsp;FALSE, logo&nbsp;=&nbsp;NULL, lod_factor&nbsp;=&nbsp;10, lod_interval&nbsp;=&nbsp;300, lod_threshold&nbsp;=&nbsp;NULL, lod_timeout&nbsp;=&nbsp;500, webgl&nbsp;=&nbsp;FALSE, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data
</dt>
<dd class="rd-dd">
data to be supplied to all layers, if the layer doesnt supply a data value
</dd>
<dt>
width
</dt>
<dd class="rd-dd">
figure width in pixels
</dd>
<dt>
height
</dt>
<dd class="rd-dd">
figure width in pixels
</dd>
<dt>
title
</dt>
<dd class="rd-dd">
a title to display above the plot. - “title” is also the prefix for a set of Text Properties, so you can set the font for the title with the parameter text_font.
</dd>
<dt>
xlab
</dt>
<dd class="rd-dd">
label for x axis
</dd>
<dt>
ylab
</dt>
<dd class="rd-dd">
label for y axis
</dd>
<dt>
xlim
</dt>
<dd class="rd-dd">
the extent of the plotting area in the x-dimension (will be computed automatically if not specified).
</dd>
<dt>
ylim
</dt>
<dd class="rd-dd">
the extent of the plotting area in the y-dimension (will be computed automatically if not specified).
</dd>
<dt>
padding_factor
</dt>
<dd class="rd-dd">
if limits are not specified, by what factor should the extents of the data be padded
</dd>
<dt>
xgrid
</dt>
<dd class="rd-dd">
whether to draw x axis grid lines
</dd>
<dt>
ygrid
</dt>
<dd class="rd-dd">
whether to draw y axis grid lines
</dd>
<dt>
xaxes
</dt>
<dd class="rd-dd">
where to put x axis, or FALSE if no x axis ticks / labels
</dd>
<dt>
yaxes
</dt>
<dd class="rd-dd">
where to put y axis, or FALSE if no y axis ticks / labels
</dd>
<dt>
legend_location
</dt>
<dd class="rd-dd">
(top_right, top_left, bottom_left, bottom_right) the location where the legend should draw itself, or NULL to omit the legend
</dd>
<dt>
tools
</dt>
<dd class="rd-dd">
character vector of interactivity tools options (acceptable values are: “pan”, “wheel_zoom”, “box_zoom”, “resize”, “crosshair”, “box_select”, “lasso_select”, “reset”, “save”, “help”). Additionally, tool functions can be called on a figure to specify more control - see the “See Also” section below for a list of tool functions. If <code>NULL</code>, the toolbar will not be drawn. If <code>“”</code> the toolbar will be drawn but no tools will be added by default.
</dd>
<dt>
theme
</dt>
<dd class="rd-dd">
an rbokeh theme to use
</dd>
<dt>
toolbar_location
</dt>
<dd class="rd-dd">
(above, below, left, right) Where the toolbar will be located. If set to NULL, no toolbar will be attached to the plot.
</dd>
<dt>
h_symmetry
</dt>
<dd class="rd-dd">
(logical) Whether the total horizontal padding on both sides of the plot will be made equal (the left or right padding amount, whichever is larger).
</dd>
<dt>
v_symmetry
</dt>
<dd class="rd-dd">
(logical) Whether the total vertical padding on both sides of the plot will be made equal (the top or bottom padding amount, whichever is larger).
</dd>
<dt>
logo
</dt>
<dd class="rd-dd">
(normal, grey) What version of the Bokeh logo to display on the toolbar. If set to NULL, no logo will be displayed.
</dd>
<dt>
lod_factor
</dt>
<dd class="rd-dd">
(integer) Decimation factor to use when applying level-of-detail decimation (see “Controlling level of detail”).
</dd>
<dt>
lod_interval
</dt>
<dd class="rd-dd">
(integer) Interval (in ms) during which an interactive tool event will enable level-of-detail downsampling (see “Controlling level of detail”).
</dd>
<dt>
lod_threshold
</dt>
<dd class="rd-dd">
(integer) A number of data points, above which level-of-detail downsampling may be performed by glyph renderers. Set to <code>NULL</code> to disable any level-of-detail downsampling (see “Controlling level of detail”).
</dd>
<dt>
lod_timeout
</dt>
<dd class="rd-dd">
(integer) Timeout (in ms) for checking whether interactive tool events are still occurring. Once level-of-detail mode is enabled, a check is made every lod_timeout ms. If no interactive tool events have happened, level-of-detail mode is disabled (see “Controlling level of detail”).
</dd>
<dt>
webgl
</dt>
<dd class="rd-dd">
(logical) should webgl be used for rendering?
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
parameters can be specified here that are available in <code><a href=#theme_plot>theme_plot</a></code>
</dd>
</dl>
<h4>
Controlling level of detail
</h4>
<p class="rd-p">
</p>
<p class="rd-p">
Although the HTML canvas can comfortably display tens or even hundreds of thousands of glyphs, doing so can have adverse affects on interactive performance. In order to accommodate large-ish (but not enormous) data sizes, Bokeh plots offer “Level of Detail” (LOD) capability in the client.
</p>
<p class="rd-p">
The basic idea is that during interactive operations (e.g., panning or zooming), the plot only draws some small fraction data points. This hopefully allows the general sense of the interaction to be preserved mid-flight, while maintaining interactive performance. See the <code>lod_</code> parameters for information on how to control this.
</p>
<h4>
Examples
</h4>
<pre class="r"><code>figure() %&gt;% ly_points(1:10)</code></pre>
<div id="htmlwidget-132f21ec6ffbb214ce90" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-132f21ec6ffbb214ce90" id="htmlwidget-132f21ec6ffbb214ce90-script"></script>
<h4>
See also
</h4>
<p>Layers to add to a figure: <code><a href=#ly_abline>ly_abline</a></code>; <code><a href=#ly_annular_wedge>ly_annular_wedge</a></code>; <code><a href=#ly_annulus>ly_annulus</a></code>; <code><a href=#ly_arc>ly_arc</a></code>; <code><a href=#ly_bezier>ly_bezier</a></code>; <code><a href=#ly_boxplot>ly_boxplot</a></code>; <code><a href=#ly_contour>ly_contour</a></code>; <code><a href=#ly_crect>ly_crect</a></code>; <code><a href=#ly_curve>ly_curve</a></code>; <code><a href=#ly_density>ly_density</a></code>; <code><a href=#ly_hist>ly_hist</a></code>; <code><a href=#ly_image_url>ly_image_url</a></code>; <code><a href=#ly_image>ly_image</a></code>; <code><a href=#ly_lines>ly_lines</a></code>; <code><a href=#ly_map>ly_map</a></code>; <code><a href=#ly_multi_line>ly_multi_line</a></code>; <code><a href=#ly_oval>ly_oval</a></code>; <code><a href=#ly_patch>ly_patch</a></code>; <code><a href=#ly_points>ly_points</a></code>; <code><a href=#ly_polygons>ly_polygons</a></code>; <code><a href=#ly_quadratic>ly_quadratic</a></code>; <code><a href=#ly_quantile>ly_quantile</a></code>; <code><a href=#ly_ray>ly_ray</a></code>; <code><a href=#ly_segments>ly_segments</a></code>; <code><a href=#ly_text>ly_text</a></code>; <code><a href=#ly_wedge>ly_wedge</a></code> Tools to add to a figure: <code><a href=#tool_box_select>tool_box_select</a></code>; <code><a href=#tool_box_zoom>tool_box_zoom</a></code>; <code><a href=#tool_crosshair>tool_crosshair</a></code>; <code><a href=#tool_lasso_select>tool_lasso_select</a></code>; <code><a href=#tool_reset>tool_reset</a></code>; <code><a href=#tool_resize>tool_resize</a></code>; <code><a href=#tool_save>tool_save</a></code>; <code><a href=#tool_wheel_zoom>tool_wheel_zoom</a></code> Other figure types: <code><a href=#grid_plot>grid_plot</a></code>; <code><a href=#gmap>gmap</a></code></p>
</div>
<div id="gmap" class="section level2">
<h2>gmap</h2>
<a id="gmap_alias"></a>
<h3>
Initialize a Bokeh Google Map plot
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>gmap(lat&nbsp;=&nbsp;0, lng&nbsp;=&nbsp;0, zoom&nbsp;=&nbsp;0, api_key&nbsp;=&nbsp;NULL, map_type&nbsp;=&nbsp;"hybrid", map_style&nbsp;=&nbsp;NULL, width&nbsp;=&nbsp;480, height&nbsp;=&nbsp;480, title&nbsp;=&nbsp;NULL, xlab&nbsp;=&nbsp;NULL, ylab&nbsp;=&nbsp;NULL, xlim&nbsp;=&nbsp;NULL, ylim&nbsp;=&nbsp;NULL, padding_factor&nbsp;=&nbsp;0.07, xgrid&nbsp;=&nbsp;FALSE, ygrid&nbsp;=&nbsp;FALSE, xaxes&nbsp;=&nbsp;FALSE, yaxes&nbsp;=&nbsp;FALSE, tools&nbsp;=&nbsp;c("pan", "wheel_zoom", "save"), theme&nbsp;=&nbsp;getOption("bokeh_theme"))</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
lat
</dt>
<dd class="rd-dd">
latitude where the map should be centered
</dd>
<dt>
lng
</dt>
<dd class="rd-dd">
longitude where the map should be centered
</dd>
<dt>
zoom
</dt>
<dd class="rd-dd">
initial <a href = https://developers.google.com/maps/documentation/staticmaps/#Zoomlevels>zoom level</a> to use when displaying the map
</dd>
<dt>
api_key
</dt>
<dd class="rd-dd">
Google Maps <a href = https://developers.google.com/maps/documentation/javascript/get-api-key>API key</a>
</dd>
<dt>
map_type
</dt>
<dd class="rd-dd">
<a href = https://developers.google.com/maps/documentation/staticmaps/#MapTypes>map type</a> to use for the plot - one of “hybrid”, “satellite”, “roadmap”, “terrain”
</dd>
<dt>
map_style
</dt>
<dd class="rd-dd">
a json string of a Google Maps style - see <code><a href=#gmap_style>gmap_style</a></code>
</dd>
<dt>
width
</dt>
<dd class="rd-dd">
figure width in pixels
</dd>
<dt>
height
</dt>
<dd class="rd-dd">
figure width in pixels
</dd>
<dt>
title
</dt>
<dd class="rd-dd">
a title to display above the plot. - “title” is also the prefix for a set of Text Properties, so you can set the font for the title with the parameter text_font.
</dd>
<dt>
xlab
</dt>
<dd class="rd-dd">
label for x axis
</dd>
<dt>
ylab
</dt>
<dd class="rd-dd">
label for y axis
</dd>
<dt>
xlim
</dt>
<dd class="rd-dd">
the extent of the plotting area in the x-dimension (will be computed automatically if not specified).
</dd>
<dt>
ylim
</dt>
<dd class="rd-dd">
the extent of the plotting area in the y-dimension (will be computed automatically if not specified).
</dd>
<dt>
padding_factor
</dt>
<dd class="rd-dd">
if limits are not specified, by what factor should the extents of the data be padded
</dd>
<dt>
xgrid
</dt>
<dd class="rd-dd">
whether to draw x axis grid lines
</dd>
<dt>
ygrid
</dt>
<dd class="rd-dd">
whether to draw y axis grid lines
</dd>
<dt>
xaxes
</dt>
<dd class="rd-dd">
where to put x axis, or FALSE if no x axis ticks / labels
</dd>
<dt>
yaxes
</dt>
<dd class="rd-dd">
where to put y axis, or FALSE if no y axis ticks / labels
</dd>
<dt>
tools
</dt>
<dd class="rd-dd">
character vector of interactivity tools options (acceptable values are: “pan”, “wheel_zoom”, “box_zoom”, “resize”, “crosshair”, “box_select”, “lasso_select”, “reset”, “save”, “help”). Additionally, tool functions can be called on a figure to specify more control - see the “See Also” section below for a list of tool functions. If <code>NULL</code>, the toolbar will not be drawn. If <code>“”</code> the toolbar will be drawn but no tools will be added by default.
</dd>
<dt>
theme
</dt>
<dd class="rd-dd">
an rbokeh theme to use
</dd>
</dl>
<h4>
Note
</h4>
<p class="rd-p">
This can be used in the same way as <code><a href=#figure>figure</a></code>, adding layers on top of the Google Map. There is an open issue documenting points appearing to sometimes be a few pixels off from their intended location. Google has its own terms of service for using Google Maps API and any use of rbokeh with Google Maps must be within Googles Terms of Service
</p>
<h4>
Examples
</h4>
<pre class="r"><code># custom map style
gmap(lat = 40.74, lng = -73.95, zoom = 11,
  width = 600, height = 600,
  map_style = gmap_style(&quot;blue_water&quot;))</code></pre>
<div id="htmlwidget-1dcf6152e3bea5e16109" style="width:600px;height:600px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-1dcf6152e3bea5e16109" id="htmlwidget-1dcf6152e3bea5e16109-script"></script>
<pre class="r"><code>## Not run: 
# gmap(title = &quot;NYC taxi pickups January 2013&quot;,
#   lat = 40.74, lng = -73.95, zoom = 11,
#   map_type = &quot;roadmap&quot;, width = 1000, height = 800) %&gt;%
#   ly_hexbin(nyctaxihex, alpha = 0.5,
#     palette = &quot;Spectral10&quot;, trans = log, inv = exp)
# ## End(Not run)</code></pre>
<h4>
See also
</h4>
<p><code><a href=#gmap_style>gmap_style</a></code></p>
</div>
<div id="grid_plot" class="section level2">
<h2>grid_plot</h2>
<a id="grid_plot_alias"></a>
<h3>
Create a Bokeh grid plot from a list of Bokeh figures
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>grid_plot(figs, width&nbsp;=&nbsp;NULL, height&nbsp;=&nbsp;NULL, nrow&nbsp;=&nbsp;1, ncol&nbsp;=&nbsp;1, byrow&nbsp;=&nbsp;TRUE, xlim&nbsp;=&nbsp;NULL, ylim&nbsp;=&nbsp;NULL, logo&nbsp;=&nbsp;NULL, same_axes&nbsp;=&nbsp;FALSE, simplify_axes&nbsp;=&nbsp;TRUE, y_margin&nbsp;=&nbsp;NULL, x_margin&nbsp;=&nbsp;NULL, link_data&nbsp;=&nbsp;FALSE)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
figs
</dt>
<dd class="rd-dd">
list of Bokeh figures - see details for what is acceptable
</dd>
<dt>
width
</dt>
<dd class="rd-dd">
width of the entire grid plot in pixels - if <code>NULL</code>, the sum of the grid widths of columns will be used - if not <code>NULL</code>, the widths of the plots will be proportionately shrunk to meet the specified width
</dd>
<dt>
height
</dt>
<dd class="rd-dd">
height of the entire grid plot in pixels - if <code>NULL</code>, the sum of the grid heights of rows will be used - if not <code>NULL</code>, the heights of the plots will be proportionately shrunk to meet the specified height
</dd>
<dt>
nrow
</dt>
<dd class="rd-dd">
number of rows in the grid
</dd>
<dt>
ncol
</dt>
<dd class="rd-dd">
number of columns in the grid
</dd>
<dt>
byrow
</dt>
<dd class="rd-dd">
populate the grid by row according to the order of figure elements supplied in <code>params</code>
</dd>
<dt>
xlim
</dt>
<dd class="rd-dd">
the extent of the plotting area in the x-dimension to be applied to every panel (original individual panel limits will be honored if not specified).
</dd>
<dt>
ylim
</dt>
<dd class="rd-dd">
the extent of the plotting area in the y-dimension to be applied to every panel (original individual panel limits will be honored if not specified).
</dd>
<dt>
logo
</dt>
<dd class="rd-dd">
(normal, grey) What version of the Bokeh logo to display on the toolbar. If set to NULL, no logo will be displayed.
</dd>
<dt>
same_axes
</dt>
<dd class="rd-dd">
logical or vector of two logicals specifying whether the x and/or y axis limits should be the same for each plot in the grid
</dd>
<dt>
simplify_axes
</dt>
<dd class="rd-dd">
logical or vector of logicals specifying whether to simply the x and/or y axes (only show the axes along the bottom and left sides of the grid) - only valid if <code>same_axes</code> is <code>TRUE</code> for the axis
</dd>
<dt>
x_margin, y_margin
</dt>
<dd class="rd-dd">
specify the margin space in pixels to be left for axes when using <code>simplify_axes=TRUE</code>
</dd>
<dt>
link_data
</dt>
<dd class="rd-dd">
logical - should an attempt be made to join the data sources of each plot for linked brushing? (see details)
</dd>
</dl>
<h4>
Details
</h4>
<p class="rd-p">
The <code>figs</code> parameter can either be a list of figures or a list of lists of figures. If the latter, the list structure will determine the layout, with each super-list of figures defining a single row of the grid. If the former, the parameters <code>nrow</code> and <code>ncol</code> and <code>byrow</code> are used to determine the layout. The grid is from top to bottom left to right.
</p>
<p class="rd-p">
If <code>link_data</code> is <code>TRUE</code>, then an effort will be made to link all data sources that are common among the different figures in the plot. Note that at this point, only data sources that are specified in the <code>data</code> argument to the different layer functions are checked.
</p>
<h4>
Examples
</h4>
<pre class="r"><code>idx &lt;- split(1:150, iris$Species)
figs &lt;- lapply(idx, function(x) {
  figure(width = 300, height = 300) %&gt;%
    ly_points(Sepal.Length, Sepal.Width, data = iris[x, ],
      hover = list(Sepal.Length, Sepal.Width))
})

# 1 row, 3 columns
grid_plot(figs)</code></pre>
<div id="htmlwidget-416f0774b0ca32232217" style="width:900px;height:300px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-416f0774b0ca32232217" id="htmlwidget-416f0774b0ca32232217-script"></script>
<pre class="r"><code># specify xlim and ylim to be applied to all panels
grid_plot(figs, xlim = c(4, 8), ylim = c(1.5, 4.5))</code></pre>
<div id="htmlwidget-2a91d6d34b8042d5af03" style="width:900px;height:300px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-2a91d6d34b8042d5af03" id="htmlwidget-2a91d6d34b8042d5af03-script"></script>
<pre class="r"><code># unnamed list will remove labels
grid_plot(unname(figs))</code></pre>
<div id="htmlwidget-70a50d32c76aeb57defc" style="width:900px;height:300px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-70a50d32c76aeb57defc" id="htmlwidget-70a50d32c76aeb57defc-script"></script>
<pre class="r"><code># 2 rows, 2 columns
grid_plot(figs, nrow = 2)</code></pre>
<div id="htmlwidget-5ffc30984c4dbe20f2f1" style="width:600px;height:600px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-5ffc30984c4dbe20f2f1" id="htmlwidget-5ffc30984c4dbe20f2f1-script"></script>
<pre class="r"><code># x and y axis with same (and linked) limits
grid_plot(figs, same_axes = TRUE)</code></pre>
<div id="htmlwidget-691afd32fb2d1bafb932" style="width:900px;height:300px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-691afd32fb2d1bafb932" id="htmlwidget-691afd32fb2d1bafb932-script"></script>
<pre class="r"><code># x axis with same (and linked) limits
grid_plot(figs, same_axes = c(TRUE, FALSE), nrow = 2)</code></pre>
<div id="htmlwidget-f86cbaba175c20294e14" style="width:600px;height:600px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-f86cbaba175c20294e14" id="htmlwidget-f86cbaba175c20294e14-script"></script>
<pre class="r"><code># x axis with same (and linked) limits and custom xlim
grid_plot(figs, same_axes = c(TRUE, FALSE), xlim = c(5, 7), nrow = 2)</code></pre>
<div id="htmlwidget-da861984899dbde35c8d" style="width:600px;height:600px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-da861984899dbde35c8d" id="htmlwidget-da861984899dbde35c8d-script"></script>
<pre class="r"><code># send lists instead of specifying nrow and ncol
grid_plot(list(
  c(list(figs[[1]]), list(figs[[3]])),
  c(list(NULL), list(figs[[2]]))
))</code></pre>
<div id="htmlwidget-93dea2e49d3358236b32" style="width:600px;height:600px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-93dea2e49d3358236b32" id="htmlwidget-93dea2e49d3358236b32-script"></script>
<pre class="r"><code># a null entry will be skipped in the grid
figs2 &lt;- figs
figs2[1] &lt;- list(NULL)
grid_plot(figs2, nrow = 2)</code></pre>
<div id="htmlwidget-466808c9f5794ac942a0" style="width:600px;height:600px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-466808c9f5794ac942a0" id="htmlwidget-466808c9f5794ac942a0-script"></script>
<pre class="r"><code># with themes
grid_plot(figs) %&gt;%
  theme_title(text_color = &quot;red&quot;) %&gt;%
  theme_plot(background_fill_color = &quot;#E6E6E6&quot;,
    outline_line_color = &quot;white&quot;) %&gt;%
  theme_grid(c(&quot;x&quot;, &quot;y&quot;), grid_line_color = &quot;white&quot;,
    minor_grid_line_color = &quot;white&quot;,
    minor_grid_line_alpha = 0.4) %&gt;%
  theme_axis(c(&quot;x&quot;, &quot;y&quot;), axis_line_color = &quot;white&quot;,
    major_label_text_color = &quot;#7F7F7F&quot;,
    major_tick_line_color = &quot;#7F7F7F&quot;,
    minor_tick_line_alpha = 0, num_minor_ticks = 2)</code></pre>
<div id="htmlwidget-8720bab251ddb450b650" style="width:900px;height:300px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-8720bab251ddb450b650" id="htmlwidget-8720bab251ddb450b650-script"></script>
<pre class="r"><code># themes again
grid_plot(figs) %&gt;%
  set_theme(bk_ggplot_theme)</code></pre>
<div id="htmlwidget-12837f2e48957cbe7164" style="width:900px;height:300px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-12837f2e48957cbe7164" id="htmlwidget-12837f2e48957cbe7164-script"></script>
<pre class="r"><code># link data across plots in the grid (try box_select tool)
# (data sources must be the same)
tools &lt;- c(&quot;pan&quot;, &quot;wheel_zoom&quot;, &quot;box_zoom&quot;, &quot;box_select&quot;, &quot;reset&quot;)
p1 &lt;- figure(tools = tools, width = 500, height = 500) %&gt;%
  ly_points(Sepal.Length, Sepal.Width, data = iris, color = Species)
p2 &lt;- figure(tools = tools, width = 500, height = 500) %&gt;%
  ly_points(Petal.Length, Petal.Width, data = iris, color = Species)
grid_plot(list(p1, p2), same_axes = TRUE, link_data = TRUE)</code></pre>
<div id="htmlwidget-f89a07109230b13abc58" style="width:1000px;height:500px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-f89a07109230b13abc58" id="htmlwidget-f89a07109230b13abc58-script"></script>
</div>
</div>
<div id="layer-functions" class="section level1">
<h1>Layer Functions</h1>
<div id="ly_annular_wedge" class="section level2">
<h2>ly_annular_wedge</h2>
<a id="ly_annular_wedge_alias"></a>
<h3>
Add an “annular_wedge” layer to a Bokeh figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>ly_annular_wedge(fig, x, y&nbsp;=&nbsp;NULL, data&nbsp;=&nbsp;figure_data(fig), inner_radius&nbsp;=&nbsp;0.1, outer_radius&nbsp;=&nbsp;0.3, start_angle&nbsp;=&nbsp;0, end_angle&nbsp;=&nbsp;2 * pi, direction&nbsp;=&nbsp;"anticlock", color&nbsp;=&nbsp;NULL, alpha&nbsp;=&nbsp;1, hover&nbsp;=&nbsp;NULL, url&nbsp;=&nbsp;NULL, legend&nbsp;=&nbsp;NULL, lname&nbsp;=&nbsp;NULL, lgroup&nbsp;=&nbsp;NULL, visible&nbsp;=&nbsp;TRUE, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
x
</dt>
<dd class="rd-dd">
values or field name of center x coordinates
</dd>
<dt>
y
</dt>
<dd class="rd-dd">
values or field name of center y coordinates
</dd>
<dt>
data
</dt>
<dd class="rd-dd">
an optional data frame, providing the source for inputs x, y, and other glyph properties
</dd>
<dt>
inner_radius
</dt>
<dd class="rd-dd">
values or field name of inner radii
</dd>
<dt>
outer_radius
</dt>
<dd class="rd-dd">
values or field name of outer radii
</dd>
<dt>
start_angle
</dt>
<dd class="rd-dd">
the angles to start the annular wedges, in radians, as measured from the horizontal
</dd>
<dt>
end_angle
</dt>
<dd class="rd-dd">
the angles to end the annular wedges, in radians, as measured from the horizontal
</dd>
<dt>
direction
</dt>
<dd class="rd-dd">
direction to turn between starting and ending angles (“anticlock”, “clock”)
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
color for the glyph - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo - for glyphs with both fill and line properties, see “Handling color” below
</dd>
<dt>
alpha
</dt>
<dd class="rd-dd">
the alpha transparency of the glyph between 0 (transparent) and 1 (opaque) - if glyph has both fill and color properties, see “Handling alpha” below
</dd>
<dt>
hover
</dt>
<dd class="rd-dd">
a data frame of variables to be displayed when hovering over the glyph or a vector of variable names that can be found and extracted from the <code>data</code> argument
</dd>
<dt>
url
</dt>
<dd class="rd-dd">
a string of URLs or a single string that references a variable name (via <span class="citation">@var_name</span>) that can be found and extracted from the <code>data</code> argument
</dd>
<dt>
legend
</dt>
<dd class="rd-dd">
either a logical specifying not to plot a legend for this layer (FALSE) or a string indicating the name of the legend entry for this layer (note that when mapping plot attributes to variables in <code>data</code>, a legend is automatically created and does not need to be specified - see “Mapped plot attributes and legends” below)
</dd>
<dt>
lname
</dt>
<dd class="rd-dd">
layer name
</dd>
<dt>
lgroup
</dt>
<dd class="rd-dd">
layer group
</dd>
<dt>
visible
</dt>
<dd class="rd-dd">
should the layer be visible?
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
additional parameters for fine control over fill and line properties (see “Additional parameters” below)
</dd>
</dl>
<h4>
Handling color
</h4>
<p class="rd-p">
The <code>color</code> parameter is a high-level plot attribute that provides default behavior for coloring glyphs.
<ul>
<li>
When using a glyph that only has line properties, this will be the color of the line.
</li>
<li>
When using a glyph that has has line and fill properties, this will be the color of the line and the fill, with the alpha level of the fill reduced by 50%.
</li>
<li>
If full control over fill and line color is desired, the <code>fill_color</code> and <code>line_color</code> attributes can be specified explicitly and will override <code>color</code>.
</li>
</ul>
</p>
<p class="rd-p">
When color is <code>NULL</code> and <code>fill_color</code> or <code>line_color</code> are not specified, the color will be chosen from the theme.
</p>
<h4>
Handling alpha
</h4>
<p class="rd-p">
The <code>alpha</code> is a high-level plot attribute that sets the transparency of the glyph being plotted.
<ul>
<li>
When using a glyph that only has line properties, this will be the alpha of the line.
</li>
<li>
When using a glyph that has has line and fill properties, this will be the alpha of the line and the alpha of the fill will be set to 50% of this value.
</li>
<li>
Individual fill and line alpha can be specified with <code>fill_alpha</code> and <code>line_alpha</code> and will override <code>alpha</code>.
</li>
</ul>
</p>
<p class="rd-p">
</p>
<h4>
Mapped plot attributes and legends
</h4>
<p class="rd-p">
When specifying an input data frame for a layer through the <code>data</code> argument, columns of <code>data</code> can be used to specify various plot attributes such as <code>color</code>, etc. For example, with <code>ly_points(…, data = iris, color = Species)</code>, the <code>Species</code> variable is used to determine how to color the points. Here, <code>Species</code> is “mapped” to the <code>color</code> attribute. Both continuous and categorical variables can be mapped. In the case of continuous variables, the range is cut into slices and attributes are applied to each interval. The mapping from the values of the variable to the actual plot attributes is determined based on the theme.
</p>
<h4>
Additional parameters
</h4>
<p class="rd-p">
</p>
<p class="rd-p">
<table>
<tr>
<td>
<code>fill_color</code>
</td>
</tr>
<tr>
<td>
color to use to fill the glyph with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</td>
</tr>
<tr>
<td>
<code>fill_alpha</code>
</td>
</tr>
<tr>
<td>
transparency value between 0 (transparent) and 1 (opaque)
</td>
</tr>
<tr>
<td>
<code>line_color</code>
</td>
</tr>
<tr>
<td>
color to use to stroke lines with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</td>
</tr>
<tr>
<td>
<code>line_width</code>
</td>
</tr>
<tr>
<td>
stroke width in units of pixels
</td>
</tr>
<tr>
<td>
<code>line_alpha</code>
</td>
</tr>
<tr>
<td>
transparency value between 0 (transparent) and 1 (opaque)
</td>
</tr>
<tr>
<td>
<code>line_join</code>
</td>
</tr>
<tr>
<td>
how path segments should be joined together miter round bevel
</td>
</tr>
<tr>
<td>
<code>line_cap</code>
</td>
</tr>
<tr>
<td>
how path segments should be terminated butt round square
</td>
</tr>
<tr>
<td>
<code>line_dash</code>
</td>
</tr>
<tr>
<td>
array of integer pixel distances that describe the on-off pattern of dashing to use
</td>
</tr>
</table>
</p>
<h4>
Examples
</h4>
<pre class="r"><code>rescale &lt;- function(x)
  (x - min(x)) / diff(range(x))
figure() %&gt;%
  ly_annular_wedge(Sepal.Length, Sepal.Width, data = iris,
    end_angle = rescale(Petal.Length) * 2 * pi, color = Species,
    inner_radius = 0.1, outer_radius = 0.15, alpha = 0.5,
    hover = Species)</code></pre>
<div id="htmlwidget-adae2a42e61cb155c8f1" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-adae2a42e61cb155c8f1" id="htmlwidget-adae2a42e61cb155c8f1-script"></script>
<h4>
See also
</h4>
<p>Other layer functions: <code><a href=#ly_abline>ly_abline</a></code>, <code><a href=#ly_annulus>ly_annulus</a></code>, <code><a href=#ly_arc>ly_arc</a></code>, <code><a href=#ly_bar>ly_bar</a></code>, <code><a href=#ly_bezier>ly_bezier</a></code>, <code><a href=#ly_boxplot>ly_boxplot</a></code>, <code><a href=#ly_contour>ly_contour</a></code>, <code><a href=#ly_crect>ly_crect</a></code>, <code><a href=#ly_curve>ly_curve</a></code>, <code><a href=#ly_density>ly_density</a></code>, <code><a href=#ly_hist>ly_hist</a></code>, <code><a href=#ly_image_url>ly_image_url</a></code>, <code><a href=#ly_image>ly_image</a></code>, <code><a href=#ly_lines>ly_lines</a></code>, <code><a href=#ly_map>ly_map</a></code>, <code><a href=#ly_multi_line>ly_multi_line</a></code>, <code><a href=#ly_oval>ly_oval</a></code>, <code><a href=#ly_patch>ly_patch</a></code>, <code><a href=#ly_points>ly_points</a></code>, <code><a href=#ly_polygons>ly_polygons</a></code>, <code><a href=#ly_quadratic>ly_quadratic</a></code>, <code><a href=#ly_quantile>ly_quantile</a></code>, <code><a href=#ly_ray>ly_ray</a></code>, <code><a href=#ly_rect>ly_rect</a></code>, <code><a href=#ly_segments>ly_segments</a></code>, <code><a href=#ly_text>ly_text</a></code>, <code><a href=#ly_wedge>ly_wedge</a></code></p>
</div>
<div id="ly_annulus" class="section level2">
<h2>ly_annulus</h2>
<a id="ly_annulus_alias"></a>
<h3>
Add an “annulus” layer to a Bokeh figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>ly_annulus(fig, x, y&nbsp;=&nbsp;NULL, data&nbsp;=&nbsp;figure_data(fig), inner_radius&nbsp;=&nbsp;0.1, outer_radius&nbsp;=&nbsp;0.2, color&nbsp;=&nbsp;NULL, alpha&nbsp;=&nbsp;1, hover&nbsp;=&nbsp;NULL, url&nbsp;=&nbsp;NULL, legend&nbsp;=&nbsp;NULL, lname&nbsp;=&nbsp;NULL, lgroup&nbsp;=&nbsp;NULL, visible&nbsp;=&nbsp;TRUE, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
x
</dt>
<dd class="rd-dd">
values or field name of center x coordinates
</dd>
<dt>
y
</dt>
<dd class="rd-dd">
values or field name of center y coordinates
</dd>
<dt>
data
</dt>
<dd class="rd-dd">
an optional data frame, providing the source for inputs x, y, and other glyph properties
</dd>
<dt>
inner_radius
</dt>
<dd class="rd-dd">
values or field name of inner radii
</dd>
<dt>
outer_radius
</dt>
<dd class="rd-dd">
values or field name of outer radii
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
color for the glyph - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo - for glyphs with both fill and line properties, see “Handling color” below
</dd>
<dt>
alpha
</dt>
<dd class="rd-dd">
the alpha transparency of the glyph between 0 (transparent) and 1 (opaque) - if glyph has both fill and color properties, see “Handling alpha” below
</dd>
<dt>
hover
</dt>
<dd class="rd-dd">
a data frame of variables to be displayed when hovering over the glyph or a vector of variable names that can be found and extracted from the <code>data</code> argument
</dd>
<dt>
url
</dt>
<dd class="rd-dd">
a string of URLs or a single string that references a variable name (via <span class="citation">@var_name</span>) that can be found and extracted from the <code>data</code> argument
</dd>
<dt>
legend
</dt>
<dd class="rd-dd">
either a logical specifying not to plot a legend for this layer (FALSE) or a string indicating the name of the legend entry for this layer (note that when mapping plot attributes to variables in <code>data</code>, a legend is automatically created and does not need to be specified - see “Mapped plot attributes and legends” below)
</dd>
<dt>
lname
</dt>
<dd class="rd-dd">
layer name
</dd>
<dt>
lgroup
</dt>
<dd class="rd-dd">
layer group
</dd>
<dt>
visible
</dt>
<dd class="rd-dd">
should the layer be visible?
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
additional parameters for fine control over fill and line properties (see “Additional parameters” below)
</dd>
</dl>
<h4>
Handling color
</h4>
<p class="rd-p">
The <code>color</code> parameter is a high-level plot attribute that provides default behavior for coloring glyphs.
<ul>
<li>
When using a glyph that only has line properties, this will be the color of the line.
</li>
<li>
When using a glyph that has has line and fill properties, this will be the color of the line and the fill, with the alpha level of the fill reduced by 50%.
</li>
<li>
If full control over fill and line color is desired, the <code>fill_color</code> and <code>line_color</code> attributes can be specified explicitly and will override <code>color</code>.
</li>
</ul>
</p>
<p class="rd-p">
When color is <code>NULL</code> and <code>fill_color</code> or <code>line_color</code> are not specified, the color will be chosen from the theme.
</p>
<h4>
Handling alpha
</h4>
<p class="rd-p">
The <code>alpha</code> is a high-level plot attribute that sets the transparency of the glyph being plotted.
<ul>
<li>
When using a glyph that only has line properties, this will be the alpha of the line.
</li>
<li>
When using a glyph that has has line and fill properties, this will be the alpha of the line and the alpha of the fill will be set to 50% of this value.
</li>
<li>
Individual fill and line alpha can be specified with <code>fill_alpha</code> and <code>line_alpha</code> and will override <code>alpha</code>.
</li>
</ul>
</p>
<p class="rd-p">
</p>
<h4>
Mapped plot attributes and legends
</h4>
<p class="rd-p">
When specifying an input data frame for a layer through the <code>data</code> argument, columns of <code>data</code> can be used to specify various plot attributes such as <code>color</code>, etc. For example, with <code>ly_points(…, data = iris, color = Species)</code>, the <code>Species</code> variable is used to determine how to color the points. Here, <code>Species</code> is “mapped” to the <code>color</code> attribute. Both continuous and categorical variables can be mapped. In the case of continuous variables, the range is cut into slices and attributes are applied to each interval. The mapping from the values of the variable to the actual plot attributes is determined based on the theme.
</p>
<h4>
Additional parameters
</h4>
<p class="rd-p">
</p>
<p class="rd-p">
<table>
<tr>
<td>
<code>fill_color</code>
</td>
</tr>
<tr>
<td>
color to use to fill the glyph with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</td>
</tr>
<tr>
<td>
<code>fill_alpha</code>
</td>
</tr>
<tr>
<td>
transparency value between 0 (transparent) and 1 (opaque)
</td>
</tr>
<tr>
<td>
<code>line_color</code>
</td>
</tr>
<tr>
<td>
color to use to stroke lines with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</td>
</tr>
<tr>
<td>
<code>line_width</code>
</td>
</tr>
<tr>
<td>
stroke width in units of pixels
</td>
</tr>
<tr>
<td>
<code>line_alpha</code>
</td>
</tr>
<tr>
<td>
transparency value between 0 (transparent) and 1 (opaque)
</td>
</tr>
<tr>
<td>
<code>line_join</code>
</td>
</tr>
<tr>
<td>
how path segments should be joined together miter round bevel
</td>
</tr>
<tr>
<td>
<code>line_cap</code>
</td>
</tr>
<tr>
<td>
how path segments should be terminated butt round square
</td>
</tr>
<tr>
<td>
<code>line_dash</code>
</td>
</tr>
<tr>
<td>
array of integer pixel distances that describe the on-off pattern of dashing to use
</td>
</tr>
</table>
</p>
<h4>
Examples
</h4>
<pre class="r"><code>rescale &lt;- function(x)
  (x - min(x)) / diff(range(x))
figure() %&gt;%
  ly_annulus(Sepal.Length, Sepal.Width, data = iris,
    color = Species, hover = Species, alpha = 0.5,
    outer_radius = rescale(Petal.Length) * 0.3,
    inner_radius = rescale(Petal.Length) * 0.1)</code></pre>
<div id="htmlwidget-f8b2391a6d5477962b33" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-f8b2391a6d5477962b33" id="htmlwidget-f8b2391a6d5477962b33-script"></script>
<h4>
See also
</h4>
<p>Other layer functions: <code><a href=#ly_abline>ly_abline</a></code>, <code><a href=#ly_annular_wedge>ly_annular_wedge</a></code>, <code><a href=#ly_arc>ly_arc</a></code>, <code><a href=#ly_bar>ly_bar</a></code>, <code><a href=#ly_bezier>ly_bezier</a></code>, <code><a href=#ly_boxplot>ly_boxplot</a></code>, <code><a href=#ly_contour>ly_contour</a></code>, <code><a href=#ly_crect>ly_crect</a></code>, <code><a href=#ly_curve>ly_curve</a></code>, <code><a href=#ly_density>ly_density</a></code>, <code><a href=#ly_hist>ly_hist</a></code>, <code><a href=#ly_image_url>ly_image_url</a></code>, <code><a href=#ly_image>ly_image</a></code>, <code><a href=#ly_lines>ly_lines</a></code>, <code><a href=#ly_map>ly_map</a></code>, <code><a href=#ly_multi_line>ly_multi_line</a></code>, <code><a href=#ly_oval>ly_oval</a></code>, <code><a href=#ly_patch>ly_patch</a></code>, <code><a href=#ly_points>ly_points</a></code>, <code><a href=#ly_polygons>ly_polygons</a></code>, <code><a href=#ly_quadratic>ly_quadratic</a></code>, <code><a href=#ly_quantile>ly_quantile</a></code>, <code><a href=#ly_ray>ly_ray</a></code>, <code><a href=#ly_rect>ly_rect</a></code>, <code><a href=#ly_segments>ly_segments</a></code>, <code><a href=#ly_text>ly_text</a></code>, <code><a href=#ly_wedge>ly_wedge</a></code></p>
</div>
<div id="ly_arc" class="section level2">
<h2>ly_arc</h2>
<a id="ly_arc_alias"></a>
<h3>
Add an “arc” layer to a Bokeh figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>ly_arc(fig, x, y&nbsp;=&nbsp;NULL, data&nbsp;=&nbsp;figure_data(fig), color&nbsp;=&nbsp;NULL, alpha&nbsp;=&nbsp;1, width&nbsp;=&nbsp;2, type&nbsp;=&nbsp;1, radius&nbsp;=&nbsp;0.2, start_angle&nbsp;=&nbsp;0, end_angle&nbsp;=&nbsp;2 * pi, direction&nbsp;=&nbsp;"anticlock", legend&nbsp;=&nbsp;NULL, lname&nbsp;=&nbsp;NULL, lgroup&nbsp;=&nbsp;NULL, visible&nbsp;=&nbsp;TRUE, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
x
</dt>
<dd class="rd-dd">
values or field name of center x coordinates
</dd>
<dt>
y
</dt>
<dd class="rd-dd">
values or field name of center y coordinates
</dd>
<dt>
data
</dt>
<dd class="rd-dd">
an optional data frame, providing the source for inputs x, y, and other glyph properties
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
color to use to stroke lines with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</dd>
<dt>
alpha
</dt>
<dd class="rd-dd">
transparency value for the line between 0 (transparent) and 1 (opaque)
</dd>
<dt>
width
</dt>
<dd class="rd-dd">
stroke width in units of pixels
</dd>
<dt>
type
</dt>
<dd class="rd-dd">
an integer between 1 and 6 matching the <code>lty</code> property in <code><a href=http://www.rdocumentation.org/packages/graphics/topics/par>par</a></code> or an array of integer pixel distances that describe the on-off pattern of dashing to use
</dd>
<dt>
radius
</dt>
<dd class="rd-dd">
values or field name of arc radii
</dd>
<dt>
start_angle
</dt>
<dd class="rd-dd">
values or field name of starting angles
</dd>
<dt>
end_angle
</dt>
<dd class="rd-dd">
values or field name of ending angles
</dd>
<dt>
direction
</dt>
<dd class="rd-dd">
direction to turn between starting and ending angles (“anticlock”, “clock”)
</dd>
<dt>
legend
</dt>
<dd class="rd-dd">
either a logical specifying not to plot a legend for this layer (FALSE) or a string indicating the name of the legend entry for this layer (note that when mapping plot attributes to variables in <code>data</code>, a legend is automatically created and does not need to be specified - see “Mapped plot attributes and legends” below)
</dd>
<dt>
lname
</dt>
<dd class="rd-dd">
layer name
</dd>
<dt>
lgroup
</dt>
<dd class="rd-dd">
layer group
</dd>
<dt>
visible
</dt>
<dd class="rd-dd">
should the layer be visible?
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
additional parameters for fine control over line properties (see “Additional parameters” below)
</dd>
</dl>
<h4>
Mapped plot attributes and legends
</h4>
<p class="rd-p">
When specifying an input data frame for a layer through the <code>data</code> argument, columns of <code>data</code> can be used to specify various plot attributes such as <code>color</code>, etc. For example, with <code>ly_points(…, data = iris, color = Species)</code>, the <code>Species</code> variable is used to determine how to color the points. Here, <code>Species</code> is “mapped” to the <code>color</code> attribute. Both continuous and categorical variables can be mapped. In the case of continuous variables, the range is cut into slices and attributes are applied to each interval. The mapping from the values of the variable to the actual plot attributes is determined based on the theme.
</p>
<h4>
Additional parameters
</h4>
<p class="rd-p">
</p>
<p class="rd-p">
<table>
<tr>
<td>
<code>line_join</code>
</td>
</tr>
<tr>
<td>
how path segments should be joined together miter round bevel
</td>
</tr>
<tr>
<td>
<code>line_cap</code>
</td>
</tr>
<tr>
<td>
how path segments should be terminated butt round square
</td>
</tr>
<tr>
<td>
<code>line_dash</code>
</td>
</tr>
<tr>
<td>
an integer between 1 and 6 matching the <code>lty</code> property in <code><a href=http://www.rdocumentation.org/packages/graphics/topics/par>par</a></code> or an array of integer pixel distances that describe the on-off pattern of dashing to use
</td>
</tr>
</table>
</p>
<h4>
Examples
</h4>
<pre class="r"><code>rescale &lt;- function(x)
  (x - min(x)) / diff(range(x))
figure() %&gt;%
  ly_arc(Sepal.Length, Sepal.Width, data = iris,
    end_angle = rescale(Petal.Length) * 2 * pi, color = Species,
    alpha = 0.5)</code></pre>
<div id="htmlwidget-5667d86812ecfb353dd9" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-5667d86812ecfb353dd9" id="htmlwidget-5667d86812ecfb353dd9-script"></script>
<h4>
See also
</h4>
<p>Other layer functions: <code><a href=#ly_abline>ly_abline</a></code>, <code><a href=#ly_annular_wedge>ly_annular_wedge</a></code>, <code><a href=#ly_annulus>ly_annulus</a></code>, <code><a href=#ly_bar>ly_bar</a></code>, <code><a href=#ly_bezier>ly_bezier</a></code>, <code><a href=#ly_boxplot>ly_boxplot</a></code>, <code><a href=#ly_contour>ly_contour</a></code>, <code><a href=#ly_crect>ly_crect</a></code>, <code><a href=#ly_curve>ly_curve</a></code>, <code><a href=#ly_density>ly_density</a></code>, <code><a href=#ly_hist>ly_hist</a></code>, <code><a href=#ly_image_url>ly_image_url</a></code>, <code><a href=#ly_image>ly_image</a></code>, <code><a href=#ly_lines>ly_lines</a></code>, <code><a href=#ly_map>ly_map</a></code>, <code><a href=#ly_multi_line>ly_multi_line</a></code>, <code><a href=#ly_oval>ly_oval</a></code>, <code><a href=#ly_patch>ly_patch</a></code>, <code><a href=#ly_points>ly_points</a></code>, <code><a href=#ly_polygons>ly_polygons</a></code>, <code><a href=#ly_quadratic>ly_quadratic</a></code>, <code><a href=#ly_quantile>ly_quantile</a></code>, <code><a href=#ly_ray>ly_ray</a></code>, <code><a href=#ly_rect>ly_rect</a></code>, <code><a href=#ly_segments>ly_segments</a></code>, <code><a href=#ly_text>ly_text</a></code>, <code><a href=#ly_wedge>ly_wedge</a></code></p>
</div>
<div id="ly_bezier" class="section level2">
<h2>ly_bezier</h2>
<a id="ly_bezier_alias"></a>
<h3>
Add a “bezier” layer to a Bokeh figure
</h3>
<p class="rd-p">
Draws Bezier curves with the given starting, ending, and control points.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ly_bezier(fig, x0, y0, x1, y1, cx0, cy0, cx1, cy1, data&nbsp;=&nbsp;figure_data(fig), color&nbsp;=&nbsp;"black", alpha&nbsp;=&nbsp;1, width&nbsp;=&nbsp;1, type&nbsp;=&nbsp;1, legend&nbsp;=&nbsp;NULL, lname&nbsp;=&nbsp;NULL, lgroup&nbsp;=&nbsp;NULL, visible&nbsp;=&nbsp;TRUE, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
x0
</dt>
<dd class="rd-dd">
values or field name of starting x coordinates
</dd>
<dt>
y0
</dt>
<dd class="rd-dd">
values or field name of starting y coordinates
</dd>
<dt>
x1
</dt>
<dd class="rd-dd">
values or field name of ending x coordinates
</dd>
<dt>
y1
</dt>
<dd class="rd-dd">
values or field name of ending y coordinates
</dd>
<dt>
cx0
</dt>
<dd class="rd-dd">
values or field name of first control point x coordinates
</dd>
<dt>
cy0
</dt>
<dd class="rd-dd">
values or field name of first control point y coordinates
</dd>
<dt>
cx1
</dt>
<dd class="rd-dd">
values or field name of second control point x coordinates
</dd>
<dt>
cy1
</dt>
<dd class="rd-dd">
values or field name of second control point y coordinates
</dd>
<dt>
data
</dt>
<dd class="rd-dd">
an optional data frame, providing the source for start, end, and control point intputs, as well as other glyph properties
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
color to use to stroke lines with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</dd>
<dt>
alpha
</dt>
<dd class="rd-dd">
transparency value for the line between 0 (transparent) and 1 (opaque)
</dd>
<dt>
width
</dt>
<dd class="rd-dd">
stroke width in units of pixels
</dd>
<dt>
type
</dt>
<dd class="rd-dd">
an integer between 1 and 6 matching the <code>lty</code> property in <code><a href=http://www.rdocumentation.org/packages/graphics/topics/par>par</a></code> or an array of integer pixel distances that describe the on-off pattern of dashing to use
</dd>
<dt>
legend
</dt>
<dd class="rd-dd">
either a logical specifying not to plot a legend for this layer (FALSE) or a string indicating the name of the legend entry for this layer (note that when mapping plot attributes to variables in <code>data</code>, a legend is automatically created and does not need to be specified - see “Mapped plot attributes and legends” below)
</dd>
<dt>
lname
</dt>
<dd class="rd-dd">
layer name
</dd>
<dt>
lgroup
</dt>
<dd class="rd-dd">
layer group
</dd>
<dt>
visible
</dt>
<dd class="rd-dd">
should the layer be visible?
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
additional parameters for fine control over line properties (see “Additional parameters” below)
</dd>
</dl>
<h4>
Mapped plot attributes and legends
</h4>
<p class="rd-p">
When specifying an input data frame for a layer through the <code>data</code> argument, columns of <code>data</code> can be used to specify various plot attributes such as <code>color</code>, etc. For example, with <code>ly_points(…, data = iris, color = Species)</code>, the <code>Species</code> variable is used to determine how to color the points. Here, <code>Species</code> is “mapped” to the <code>color</code> attribute. Both continuous and categorical variables can be mapped. In the case of continuous variables, the range is cut into slices and attributes are applied to each interval. The mapping from the values of the variable to the actual plot attributes is determined based on the theme.
</p>
<h4>
Additional parameters
</h4>
<p class="rd-p">
</p>
<p class="rd-p">
<table>
<tr>
<td>
<code>line_join</code>
</td>
</tr>
<tr>
<td>
how path segments should be joined together miter round bevel
</td>
</tr>
<tr>
<td>
<code>line_cap</code>
</td>
</tr>
<tr>
<td>
how path segments should be terminated butt round square
</td>
</tr>
<tr>
<td>
<code>line_dash</code>
</td>
</tr>
<tr>
<td>
an integer between 1 and 6 matching the <code>lty</code> property in <code><a href=http://www.rdocumentation.org/packages/graphics/topics/par>par</a></code> or an array of integer pixel distances that describe the on-off pattern of dashing to use
</td>
</tr>
</table>
</p>
<h4>
See also
</h4>
<p>Other layer functions: <code><a href=#ly_abline>ly_abline</a></code>, <code><a href=#ly_annular_wedge>ly_annular_wedge</a></code>, <code><a href=#ly_annulus>ly_annulus</a></code>, <code><a href=#ly_arc>ly_arc</a></code>, <code><a href=#ly_bar>ly_bar</a></code>, <code><a href=#ly_boxplot>ly_boxplot</a></code>, <code><a href=#ly_contour>ly_contour</a></code>, <code><a href=#ly_crect>ly_crect</a></code>, <code><a href=#ly_curve>ly_curve</a></code>, <code><a href=#ly_density>ly_density</a></code>, <code><a href=#ly_hist>ly_hist</a></code>, <code><a href=#ly_image_url>ly_image_url</a></code>, <code><a href=#ly_image>ly_image</a></code>, <code><a href=#ly_lines>ly_lines</a></code>, <code><a href=#ly_map>ly_map</a></code>, <code><a href=#ly_multi_line>ly_multi_line</a></code>, <code><a href=#ly_oval>ly_oval</a></code>, <code><a href=#ly_patch>ly_patch</a></code>, <code><a href=#ly_points>ly_points</a></code>, <code><a href=#ly_polygons>ly_polygons</a></code>, <code><a href=#ly_quadratic>ly_quadratic</a></code>, <code><a href=#ly_quantile>ly_quantile</a></code>, <code><a href=#ly_ray>ly_ray</a></code>, <code><a href=#ly_rect>ly_rect</a></code>, <code><a href=#ly_segments>ly_segments</a></code>, <code><a href=#ly_text>ly_text</a></code>, <code><a href=#ly_wedge>ly_wedge</a></code></p>
</div>
<div id="ly_crect" class="section level2">
<h2>ly_crect</h2>
<a id="ly_crect_alias"></a>
<h3>
Add a “crect” (centered rectangle) layer to a Bokeh figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>ly_crect(fig, x, y&nbsp;=&nbsp;NULL, data&nbsp;=&nbsp;figure_data(fig), width&nbsp;=&nbsp;1, height&nbsp;=&nbsp;1, angle&nbsp;=&nbsp;0, dilate&nbsp;=&nbsp;FALSE, color&nbsp;=&nbsp;NULL, alpha&nbsp;=&nbsp;1, hover&nbsp;=&nbsp;NULL, url&nbsp;=&nbsp;NULL, legend&nbsp;=&nbsp;NULL, lname&nbsp;=&nbsp;NULL, lgroup&nbsp;=&nbsp;NULL, visible&nbsp;=&nbsp;TRUE, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
x
</dt>
<dd class="rd-dd">
values or field name of center x coordinates
</dd>
<dt>
y
</dt>
<dd class="rd-dd">
values or field name of center y coordinates
</dd>
<dt>
data
</dt>
<dd class="rd-dd">
an optional data frame, providing the source for inputs xleft, ybottom, xright, ytop, and other glyph properties
</dd>
<dt>
width
</dt>
<dd class="rd-dd">
values or field name of widths
</dd>
<dt>
height
</dt>
<dd class="rd-dd">
values or field name of heights
</dd>
<dt>
angle
</dt>
<dd class="rd-dd">
values or field name of rotation angles
</dd>
<dt>
dilate
</dt>
<dd class="rd-dd">
logical - whether to dilate pixel distance computations when drawing
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
color for the glyph - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo - for glyphs with both fill and line properties, see “Handling color” below
</dd>
<dt>
alpha
</dt>
<dd class="rd-dd">
the alpha transparency of the glyph between 0 (transparent) and 1 (opaque) - if glyph has both fill and color properties, see “Handling alpha” below
</dd>
<dt>
hover
</dt>
<dd class="rd-dd">
a data frame of variables to be displayed when hovering over the glyph or a vector of variable names that can be found and extracted from the <code>data</code> argument
</dd>
<dt>
url
</dt>
<dd class="rd-dd">
a string of URLs or a single string that references a variable name (via <span class="citation">@var_name</span>) that can be found and extracted from the <code>data</code> argument
</dd>
<dt>
legend
</dt>
<dd class="rd-dd">
either a logical specifying not to plot a legend for this layer (FALSE) or a string indicating the name of the legend entry for this layer (note that when mapping plot attributes to variables in <code>data</code>, a legend is automatically created and does not need to be specified - see “Mapped plot attributes and legends” below)
</dd>
<dt>
lname
</dt>
<dd class="rd-dd">
layer name
</dd>
<dt>
lgroup
</dt>
<dd class="rd-dd">
layer group
</dd>
<dt>
visible
</dt>
<dd class="rd-dd">
should the layer be visible?
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
additional parameters for fine control over fill and line properties (see “Additional parameters” below)
</dd>
</dl>
<h4>
Handling color
</h4>
<p class="rd-p">
The <code>color</code> parameter is a high-level plot attribute that provides default behavior for coloring glyphs.
<ul>
<li>
When using a glyph that only has line properties, this will be the color of the line.
</li>
<li>
When using a glyph that has has line and fill properties, this will be the color of the line and the fill, with the alpha level of the fill reduced by 50%.
</li>
<li>
If full control over fill and line color is desired, the <code>fill_color</code> and <code>line_color</code> attributes can be specified explicitly and will override <code>color</code>.
</li>
</ul>
</p>
<p class="rd-p">
When color is <code>NULL</code> and <code>fill_color</code> or <code>line_color</code> are not specified, the color will be chosen from the theme.
</p>
<h4>
Handling alpha
</h4>
<p class="rd-p">
The <code>alpha</code> is a high-level plot attribute that sets the transparency of the glyph being plotted.
<ul>
<li>
When using a glyph that only has line properties, this will be the alpha of the line.
</li>
<li>
When using a glyph that has has line and fill properties, this will be the alpha of the line and the alpha of the fill will be set to 50% of this value.
</li>
<li>
Individual fill and line alpha can be specified with <code>fill_alpha</code> and <code>line_alpha</code> and will override <code>alpha</code>.
</li>
</ul>
</p>
<p class="rd-p">
</p>
<h4>
Mapped plot attributes and legends
</h4>
<p class="rd-p">
When specifying an input data frame for a layer through the <code>data</code> argument, columns of <code>data</code> can be used to specify various plot attributes such as <code>color</code>, etc. For example, with <code>ly_points(…, data = iris, color = Species)</code>, the <code>Species</code> variable is used to determine how to color the points. Here, <code>Species</code> is “mapped” to the <code>color</code> attribute. Both continuous and categorical variables can be mapped. In the case of continuous variables, the range is cut into slices and attributes are applied to each interval. The mapping from the values of the variable to the actual plot attributes is determined based on the theme.
</p>
<h4>
Additional parameters
</h4>
<p class="rd-p">
</p>
<p class="rd-p">
<table>
<tr>
<td>
<code>fill_color</code>
</td>
</tr>
<tr>
<td>
color to use to fill the glyph with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</td>
</tr>
<tr>
<td>
<code>fill_alpha</code>
</td>
</tr>
<tr>
<td>
transparency value between 0 (transparent) and 1 (opaque)
</td>
</tr>
<tr>
<td>
<code>line_color</code>
</td>
</tr>
<tr>
<td>
color to use to stroke lines with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</td>
</tr>
<tr>
<td>
<code>line_width</code>
</td>
</tr>
<tr>
<td>
stroke width in units of pixels
</td>
</tr>
<tr>
<td>
<code>line_alpha</code>
</td>
</tr>
<tr>
<td>
transparency value between 0 (transparent) and 1 (opaque)
</td>
</tr>
<tr>
<td>
<code>line_join</code>
</td>
</tr>
<tr>
<td>
how path segments should be joined together miter round bevel
</td>
</tr>
<tr>
<td>
<code>line_cap</code>
</td>
</tr>
<tr>
<td>
how path segments should be terminated butt round square
</td>
</tr>
<tr>
<td>
<code>line_dash</code>
</td>
</tr>
<tr>
<td>
array of integer pixel distances that describe the on-off pattern of dashing to use
</td>
</tr>
</table>
</p>
<h4>
Examples
</h4>
<pre class="r"><code># prepare data
elements &lt;- subset(elements, !is.na(group))
elements$group &lt;- as.character(elements$group)
elements$period &lt;- as.character(elements$period)

# add colors for groups
metals &lt;- c(&quot;alkali metal&quot;, &quot;alkaline earth metal&quot;, &quot;halogen&quot;,
  &quot;metal&quot;, &quot;metalloid&quot;, &quot;noble gas&quot;, &quot;nonmetal&quot;, &quot;transition metal&quot;)
colors &lt;- c(&quot;#a6cee3&quot;, &quot;#1f78b4&quot;, &quot;#fdbf6f&quot;, &quot;#b2df8a&quot;, &quot;#33a02c&quot;,
  &quot;#bbbb88&quot;, &quot;#baa2a6&quot;, &quot;#e08e79&quot;)
elements$color &lt;- colors[match(elements$metal, metals)]
elements$type &lt;- elements$metal

# make coordinates for labels
elements$symx &lt;- paste(elements$group, &quot;:0.1&quot;, sep = &quot;&quot;)
elements$numbery &lt;- paste(elements$period, &quot;:0.8&quot;, sep = &quot;&quot;)
elements$massy &lt;- paste(elements$period, &quot;:0.15&quot;, sep = &quot;&quot;)
elements$namey &lt;- paste(elements$period, &quot;:0.3&quot;, sep = &quot;&quot;)

# create figure
p &lt;- figure(title = &quot;Periodic Table&quot;, tools = &quot;&quot;,
  ylim = as.character(c(7:1)), xlim = as.character(1:18),
  xgrid = FALSE, ygrid = FALSE, xlab = &quot;&quot;, ylab = &quot;&quot;,
  height = 600, width = 1200) %&gt;%

# plot rectangles
ly_crect(group, period, data = elements, 0.9, 0.9,
  fill_color = color, line_color = color, fill_alpha = 0.6,
  hover = list(name, atomic.number, type, atomic.mass,
    electronic.configuration)) %&gt;%

# add symbol text
ly_text(symx, period, text = symbol, data = elements,
  font_style = &quot;bold&quot;, font_size = &quot;15pt&quot;,
  align = &quot;left&quot;, baseline = &quot;middle&quot;) %&gt;%

# add atomic number text
ly_text(symx, numbery, text = atomic.number, data = elements,
  font_size = &quot;9pt&quot;, align = &quot;left&quot;, baseline = &quot;middle&quot;) %&gt;%

# add name text
ly_text(symx, namey, text = name, data = elements,
  font_size = &quot;6pt&quot;, align = &quot;left&quot;, baseline = &quot;middle&quot;) %&gt;%

# add atomic mass text
ly_text(symx, massy, text = atomic.mass, data = elements,
  font_size = &quot;6pt&quot;, align = &quot;left&quot;, baseline = &quot;middle&quot;)

p</code></pre>
<div id="htmlwidget-3d19174a4c16bd1e7a85" style="width:1200px;height:600px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-3d19174a4c16bd1e7a85" id="htmlwidget-3d19174a4c16bd1e7a85-script"></script>
<h4>
See also
</h4>
<p>Other layer functions: <code><a href=#ly_abline>ly_abline</a></code>, <code><a href=#ly_annular_wedge>ly_annular_wedge</a></code>, <code><a href=#ly_annulus>ly_annulus</a></code>, <code><a href=#ly_arc>ly_arc</a></code>, <code><a href=#ly_bar>ly_bar</a></code>, <code><a href=#ly_bezier>ly_bezier</a></code>, <code><a href=#ly_boxplot>ly_boxplot</a></code>, <code><a href=#ly_contour>ly_contour</a></code>, <code><a href=#ly_curve>ly_curve</a></code>, <code><a href=#ly_density>ly_density</a></code>, <code><a href=#ly_hist>ly_hist</a></code>, <code><a href=#ly_image_url>ly_image_url</a></code>, <code><a href=#ly_image>ly_image</a></code>, <code><a href=#ly_lines>ly_lines</a></code>, <code><a href=#ly_map>ly_map</a></code>, <code><a href=#ly_multi_line>ly_multi_line</a></code>, <code><a href=#ly_oval>ly_oval</a></code>, <code><a href=#ly_patch>ly_patch</a></code>, <code><a href=#ly_points>ly_points</a></code>, <code><a href=#ly_polygons>ly_polygons</a></code>, <code><a href=#ly_quadratic>ly_quadratic</a></code>, <code><a href=#ly_quantile>ly_quantile</a></code>, <code><a href=#ly_ray>ly_ray</a></code>, <code><a href=#ly_rect>ly_rect</a></code>, <code><a href=#ly_segments>ly_segments</a></code>, <code><a href=#ly_text>ly_text</a></code>, <code><a href=#ly_wedge>ly_wedge</a></code></p>
</div>
<div id="ly_image" class="section level2">
<h2>ly_image</h2>
<a id="ly_image_alias"></a>
<h3>
Add an “image” layer to a Bokeh figure
</h3>
<p class="rd-p">
Draws a grid of rectangles with colors corresponding to the values in <code>z</code>
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ly_image(fig, z, rows, byrow&nbsp;=&nbsp;TRUE, x&nbsp;=&nbsp;0, y&nbsp;=&nbsp;0, dw&nbsp;=&nbsp;1, dh&nbsp;=&nbsp;1, palette&nbsp;=&nbsp;"Spectral10", dilate&nbsp;=&nbsp;FALSE, lname&nbsp;=&nbsp;NULL, lgroup&nbsp;=&nbsp;NULL, visible&nbsp;=&nbsp;TRUE)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
z
</dt>
<dd class="rd-dd">
matrix or vector of image values
</dd>
<dt>
rows
</dt>
<dd class="rd-dd">
if <code>z</code> is a vector, how many rows should be used in treating it as a matrix
</dd>
<dt>
byrow
</dt>
<dd class="rd-dd">
if <code>z</code> is a vector, should it be turned into a matrix by row
</dd>
<dt>
x
</dt>
<dd class="rd-dd">
lower left x coordinates
</dd>
<dt>
y
</dt>
<dd class="rd-dd">
lower left y coordinates
</dd>
<dt>
dw
</dt>
<dd class="rd-dd">
image width distances
</dd>
<dt>
dh
</dt>
<dd class="rd-dd">
image height distances
</dd>
<dt>
palette
</dt>
<dd class="rd-dd">
name of color palette to use for color ramp (see <a href = #http://bokeh.pydata.org/en/latest/docs/reference/palettes>here</a> for acceptable values)
</dd>
<dt>
dilate
</dt>
<dd class="rd-dd">
logical - whether to dilate pixel distance computations when drawing
</dd>
<dt>
lname
</dt>
<dd class="rd-dd">
layer name
</dd>
<dt>
lgroup
</dt>
<dd class="rd-dd">
layer group
</dd>
<dt>
visible
</dt>
<dd class="rd-dd">
should the layer be visible?
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code>p &lt;- figure(xlim = c(0, 1), ylim = c(0, 1), title = &quot;Volcano&quot;) %&gt;%
  ly_image(volcano) %&gt;%
  ly_contour(volcano)
p</code></pre>
<div id="htmlwidget-a2973bfb2ca7f0c245d5" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-a2973bfb2ca7f0c245d5" id="htmlwidget-a2973bfb2ca7f0c245d5-script"></script>
<h4>
See also
</h4>
<p>Other layer functions: <code><a href=#ly_abline>ly_abline</a></code>, <code><a href=#ly_annular_wedge>ly_annular_wedge</a></code>, <code><a href=#ly_annulus>ly_annulus</a></code>, <code><a href=#ly_arc>ly_arc</a></code>, <code><a href=#ly_bar>ly_bar</a></code>, <code><a href=#ly_bezier>ly_bezier</a></code>, <code><a href=#ly_boxplot>ly_boxplot</a></code>, <code><a href=#ly_contour>ly_contour</a></code>, <code><a href=#ly_crect>ly_crect</a></code>, <code><a href=#ly_curve>ly_curve</a></code>, <code><a href=#ly_density>ly_density</a></code>, <code><a href=#ly_hist>ly_hist</a></code>, <code><a href=#ly_image_url>ly_image_url</a></code>, <code><a href=#ly_lines>ly_lines</a></code>, <code><a href=#ly_map>ly_map</a></code>, <code><a href=#ly_multi_line>ly_multi_line</a></code>, <code><a href=#ly_oval>ly_oval</a></code>, <code><a href=#ly_patch>ly_patch</a></code>, <code><a href=#ly_points>ly_points</a></code>, <code><a href=#ly_polygons>ly_polygons</a></code>, <code><a href=#ly_quadratic>ly_quadratic</a></code>, <code><a href=#ly_quantile>ly_quantile</a></code>, <code><a href=#ly_ray>ly_ray</a></code>, <code><a href=#ly_rect>ly_rect</a></code>, <code><a href=#ly_segments>ly_segments</a></code>, <code><a href=#ly_text>ly_text</a></code>, <code><a href=#ly_wedge>ly_wedge</a></code></p>
</div>
<div id="ly_image_url" class="section level2">
<h2>ly_image_url</h2>
<a id="ly_image_url_alias"></a>
<h3>
Add an “image_url” layer to a Bokeh figure
</h3>
<p class="rd-p">
Renders raster images from URLs at provided coordinates
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ly_image_url(fig, x&nbsp;=&nbsp;0, y&nbsp;=&nbsp;0, data&nbsp;=&nbsp;figure_data(fig), w&nbsp;=&nbsp;10, h&nbsp;=&nbsp;10, image_url, dilate&nbsp;=&nbsp;TRUE, anchor&nbsp;=&nbsp;"top_left", angle&nbsp;=&nbsp;0, lname&nbsp;=&nbsp;NULL, lgroup&nbsp;=&nbsp;NULL, visible&nbsp;=&nbsp;TRUE)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
x
</dt>
<dd class="rd-dd">
x coordinates
</dd>
<dt>
y
</dt>
<dd class="rd-dd">
y coordinates
</dd>
<dt>
data
</dt>
<dd class="rd-dd">
an optional data frame, providing the source for inputs x, y, and other properties
</dd>
<dt>
w, h
</dt>
<dd class="rd-dd">
values or field names of width and height of image
</dd>
<dt>
image_url
</dt>
<dd class="rd-dd">
values or field name of image URLs
</dd>
<dt>
dilate
</dt>
<dd class="rd-dd">
logical - whether to dilate pixel distance computations when drawing
</dd>
<dt>
anchor
</dt>
<dd class="rd-dd">
where the image is anchored to with respect to <code>x</code> and <code>y</code>
</dd>
<dt>
angle
</dt>
<dd class="rd-dd">
values or field name of the angle to rotate the image, in radians
</dd>
<dt>
lname
</dt>
<dd class="rd-dd">
layer name
</dd>
<dt>
lgroup
</dt>
<dd class="rd-dd">
layer group
</dd>
<dt>
visible
</dt>
<dd class="rd-dd">
should the layer be visible?
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code>url &lt;- c(&quot;  http://bokeh.pydata.org/en/latest/_static/images/logo.png&quot;,
  &quot;http://developer.r-project.org/Logo/Rlogo-4.png&quot;)

ss &lt;- seq(0, 2*pi, length = 13)[-1]
ws &lt;- runif(12, 2.5, 5) * rep(c(1, 0.8), 6)

imgdat &lt;- data.frame(
  x = sin(ss) * 10, y = cos(ss) * 10,
  w = ws, h = ws * rep(c(1, 0.76), 6),
  url = rep(url, 6)
)

p &lt;- figure(xlab = &quot;x&quot;, ylab = &quot;y&quot;) %&gt;%
  ly_image_url(x, y, w = w, h = h, image_url = url, data = imgdat,
    anchor = &quot;center&quot;) %&gt;%
  ly_lines(sin(c(ss, ss[1])) * 10, cos(c(ss, ss[1])) * 10,
    width = 15, alpha = 0.1)
p</code></pre>
<div id="htmlwidget-8965eb7166beb83c8b59" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-8965eb7166beb83c8b59" id="htmlwidget-8965eb7166beb83c8b59-script"></script>
<h4>
See also
</h4>
<p>Other layer functions: <code><a href=#ly_abline>ly_abline</a></code>, <code><a href=#ly_annular_wedge>ly_annular_wedge</a></code>, <code><a href=#ly_annulus>ly_annulus</a></code>, <code><a href=#ly_arc>ly_arc</a></code>, <code><a href=#ly_bar>ly_bar</a></code>, <code><a href=#ly_bezier>ly_bezier</a></code>, <code><a href=#ly_boxplot>ly_boxplot</a></code>, <code><a href=#ly_contour>ly_contour</a></code>, <code><a href=#ly_crect>ly_crect</a></code>, <code><a href=#ly_curve>ly_curve</a></code>, <code><a href=#ly_density>ly_density</a></code>, <code><a href=#ly_hist>ly_hist</a></code>, <code><a href=#ly_image>ly_image</a></code>, <code><a href=#ly_lines>ly_lines</a></code>, <code><a href=#ly_map>ly_map</a></code>, <code><a href=#ly_multi_line>ly_multi_line</a></code>, <code><a href=#ly_oval>ly_oval</a></code>, <code><a href=#ly_patch>ly_patch</a></code>, <code><a href=#ly_points>ly_points</a></code>, <code><a href=#ly_polygons>ly_polygons</a></code>, <code><a href=#ly_quadratic>ly_quadratic</a></code>, <code><a href=#ly_quantile>ly_quantile</a></code>, <code><a href=#ly_ray>ly_ray</a></code>, <code><a href=#ly_rect>ly_rect</a></code>, <code><a href=#ly_segments>ly_segments</a></code>, <code><a href=#ly_text>ly_text</a></code>, <code><a href=#ly_wedge>ly_wedge</a></code></p>
</div>
<div id="ly_lines" class="section level2">
<h2>ly_lines</h2>
<a id="ly_lines_alias"></a>
<h3>
Add a “lines” layer to a Bokeh figure Draws lines with the given coordinates.
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>ly_lines(fig, x, y&nbsp;=&nbsp;NULL, data&nbsp;=&nbsp;figure_data(fig), group&nbsp;=&nbsp;NULL, color&nbsp;=&nbsp;"black", type&nbsp;=&nbsp;1, width&nbsp;=&nbsp;1, alpha&nbsp;=&nbsp;1, legend&nbsp;=&nbsp;NULL, lname&nbsp;=&nbsp;NULL, lgroup&nbsp;=&nbsp;NULL, visible&nbsp;=&nbsp;TRUE, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
x
</dt>
<dd class="rd-dd">
values or field name of line x coordinates
</dd>
<dt>
y
</dt>
<dd class="rd-dd">
values or field name of line y coordinates
</dd>
<dt>
data
</dt>
<dd class="rd-dd">
an optional data frame, providing the source for inputs x, y, and other glyph properties
</dd>
<dt>
group
</dt>
<dd class="rd-dd">
values or field name of a grouping variable to break lines up by
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
color to use to stroke lines with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</dd>
<dt>
type
</dt>
<dd class="rd-dd">
an integer between 1 and 6 matching the <code>lty</code> property in <code><a href=http://www.rdocumentation.org/packages/graphics/topics/par>par</a></code> or an array of integer pixel distances that describe the on-off pattern of dashing to use
</dd>
<dt>
width
</dt>
<dd class="rd-dd">
stroke width in units of pixels
</dd>
<dt>
alpha
</dt>
<dd class="rd-dd">
transparency value for the line between 0 (transparent) and 1 (opaque)
</dd>
<dt>
legend
</dt>
<dd class="rd-dd">
either a logical specifying not to plot a legend for this layer (FALSE) or a string indicating the name of the legend entry for this layer (note that when mapping plot attributes to variables in <code>data</code>, a legend is automatically created and does not need to be specified - see “Mapped plot attributes and legends” below)
</dd>
<dt>
lname
</dt>
<dd class="rd-dd">
layer name
</dd>
<dt>
lgroup
</dt>
<dd class="rd-dd">
layer group
</dd>
<dt>
visible
</dt>
<dd class="rd-dd">
should the layer be visible?
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
additional parameters for fine control over line properties (see “Additional parameters” below)
</dd>
</dl>
<h4>
Mapped plot attributes and legends
</h4>
<p class="rd-p">
When specifying an input data frame for a layer through the <code>data</code> argument, columns of <code>data</code> can be used to specify various plot attributes such as <code>color</code>, etc. For example, with <code>ly_points(…, data = iris, color = Species)</code>, the <code>Species</code> variable is used to determine how to color the points. Here, <code>Species</code> is “mapped” to the <code>color</code> attribute. Both continuous and categorical variables can be mapped. In the case of continuous variables, the range is cut into slices and attributes are applied to each interval. The mapping from the values of the variable to the actual plot attributes is determined based on the theme.
</p>
<h4>
Additional parameters
</h4>
<p class="rd-p">
</p>
<p class="rd-p">
<table>
<tr>
<td>
<code>line_join</code>
</td>
</tr>
<tr>
<td>
how path segments should be joined together miter round bevel
</td>
</tr>
<tr>
<td>
<code>line_cap</code>
</td>
</tr>
<tr>
<td>
how path segments should be terminated butt round square
</td>
</tr>
<tr>
<td>
<code>line_dash</code>
</td>
</tr>
<tr>
<td>
an integer between 1 and 6 matching the <code>lty</code> property in <code><a href=http://www.rdocumentation.org/packages/graphics/topics/par>par</a></code> or an array of integer pixel distances that describe the on-off pattern of dashing to use
</td>
</tr>
</table>
</p>
<h4>
Examples
</h4>
<pre class="r"><code>z &lt;- lm(dist ~ speed, data = cars)
p &lt;- figure() %&gt;%
  ly_points(cars, hover = cars) %&gt;%
  ly_lines(lowess(cars), legend = &quot;lowess&quot;) %&gt;%
  ly_abline(z, type = 2, legend = &quot;lm&quot;, width = 2)
p</code></pre>
<div id="htmlwidget-0fba22117de47d30c44e" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-0fba22117de47d30c44e" id="htmlwidget-0fba22117de47d30c44e-script"></script>
<h4>
See also
</h4>
<p>Other layer functions: <code><a href=#ly_abline>ly_abline</a></code>, <code><a href=#ly_annular_wedge>ly_annular_wedge</a></code>, <code><a href=#ly_annulus>ly_annulus</a></code>, <code><a href=#ly_arc>ly_arc</a></code>, <code><a href=#ly_bar>ly_bar</a></code>, <code><a href=#ly_bezier>ly_bezier</a></code>, <code><a href=#ly_boxplot>ly_boxplot</a></code>, <code><a href=#ly_contour>ly_contour</a></code>, <code><a href=#ly_crect>ly_crect</a></code>, <code><a href=#ly_curve>ly_curve</a></code>, <code><a href=#ly_density>ly_density</a></code>, <code><a href=#ly_hist>ly_hist</a></code>, <code><a href=#ly_image_url>ly_image_url</a></code>, <code><a href=#ly_image>ly_image</a></code>, <code><a href=#ly_map>ly_map</a></code>, <code><a href=#ly_multi_line>ly_multi_line</a></code>, <code><a href=#ly_oval>ly_oval</a></code>, <code><a href=#ly_patch>ly_patch</a></code>, <code><a href=#ly_points>ly_points</a></code>, <code><a href=#ly_polygons>ly_polygons</a></code>, <code><a href=#ly_quadratic>ly_quadratic</a></code>, <code><a href=#ly_quantile>ly_quantile</a></code>, <code><a href=#ly_ray>ly_ray</a></code>, <code><a href=#ly_rect>ly_rect</a></code>, <code><a href=#ly_segments>ly_segments</a></code>, <code><a href=#ly_text>ly_text</a></code>, <code><a href=#ly_wedge>ly_wedge</a></code></p>
</div>
<div id="ly_multi_line" class="section level2">
<h2>ly_multi_line</h2>
<a id="ly_multi_line_alias"></a>
<h3>
Add a “multi_line” layer to a Bokeh figure
</h3>
<p class="rd-p">
Draws multiple lines with the given lists of coordinates.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ly_multi_line(fig, xs, ys, color&nbsp;=&nbsp;"black", alpha&nbsp;=&nbsp;1, width&nbsp;=&nbsp;1, type&nbsp;=&nbsp;1, lname&nbsp;=&nbsp;NULL, lgroup&nbsp;=&nbsp;NULL, visible&nbsp;=&nbsp;TRUE, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
xs
</dt>
<dd class="rd-dd">
list of vectors of x coordinates
</dd>
<dt>
ys
</dt>
<dd class="rd-dd">
list of vectors of y coordinates
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
color to use to stroke lines with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</dd>
<dt>
alpha
</dt>
<dd class="rd-dd">
transparency value for the line between 0 (transparent) and 1 (opaque)
</dd>
<dt>
width
</dt>
<dd class="rd-dd">
stroke width in units of pixels
</dd>
<dt>
type
</dt>
<dd class="rd-dd">
an integer between 1 and 6 matching the <code>lty</code> property in <code><a href=http://www.rdocumentation.org/packages/graphics/topics/par>par</a></code> or an array of integer pixel distances that describe the on-off pattern of dashing to use
</dd>
<dt>
lname
</dt>
<dd class="rd-dd">
layer name
</dd>
<dt>
lgroup
</dt>
<dd class="rd-dd">
layer group
</dd>
<dt>
visible
</dt>
<dd class="rd-dd">
should the layer be visible?
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
additional parameters for fine control over line properties (see “Additional parameters” below)
</dd>
</dl>
<h4>
Additional parameters
</h4>
<p class="rd-p">
</p>
<p class="rd-p">
<table>
<tr>
<td>
<code>line_join</code>
</td>
</tr>
<tr>
<td>
how path segments should be joined together miter round bevel
</td>
</tr>
<tr>
<td>
<code>line_cap</code>
</td>
</tr>
<tr>
<td>
how path segments should be terminated butt round square
</td>
</tr>
<tr>
<td>
<code>line_dash</code>
</td>
</tr>
<tr>
<td>
an integer between 1 and 6 matching the <code>lty</code> property in <code><a href=http://www.rdocumentation.org/packages/graphics/topics/par>par</a></code> or an array of integer pixel distances that describe the on-off pattern of dashing to use
</td>
</tr>
</table>
</p>
<h4>
See also
</h4>
<p>Other layer functions: <code><a href=#ly_abline>ly_abline</a></code>, <code><a href=#ly_annular_wedge>ly_annular_wedge</a></code>, <code><a href=#ly_annulus>ly_annulus</a></code>, <code><a href=#ly_arc>ly_arc</a></code>, <code><a href=#ly_bar>ly_bar</a></code>, <code><a href=#ly_bezier>ly_bezier</a></code>, <code><a href=#ly_boxplot>ly_boxplot</a></code>, <code><a href=#ly_contour>ly_contour</a></code>, <code><a href=#ly_crect>ly_crect</a></code>, <code><a href=#ly_curve>ly_curve</a></code>, <code><a href=#ly_density>ly_density</a></code>, <code><a href=#ly_hist>ly_hist</a></code>, <code><a href=#ly_image_url>ly_image_url</a></code>, <code><a href=#ly_image>ly_image</a></code>, <code><a href=#ly_lines>ly_lines</a></code>, <code><a href=#ly_map>ly_map</a></code>, <code><a href=#ly_oval>ly_oval</a></code>, <code><a href=#ly_patch>ly_patch</a></code>, <code><a href=#ly_points>ly_points</a></code>, <code><a href=#ly_polygons>ly_polygons</a></code>, <code><a href=#ly_quadratic>ly_quadratic</a></code>, <code><a href=#ly_quantile>ly_quantile</a></code>, <code><a href=#ly_ray>ly_ray</a></code>, <code><a href=#ly_rect>ly_rect</a></code>, <code><a href=#ly_segments>ly_segments</a></code>, <code><a href=#ly_text>ly_text</a></code>, <code><a href=#ly_wedge>ly_wedge</a></code></p>
</div>
<div id="ly_oval" class="section level2">
<h2>ly_oval</h2>
<a id="ly_oval_alias"></a>
<h3>
Add an “oval” layer to a Bokeh figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>ly_oval(fig, x, y&nbsp;=&nbsp;NULL, data&nbsp;=&nbsp;figure_data(fig), width&nbsp;=&nbsp;0.1, height&nbsp;=&nbsp;0.1, angle&nbsp;=&nbsp;0, color&nbsp;=&nbsp;NULL, alpha&nbsp;=&nbsp;1, legend&nbsp;=&nbsp;NULL, lname&nbsp;=&nbsp;NULL, lgroup&nbsp;=&nbsp;NULL, visible&nbsp;=&nbsp;TRUE, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
x
</dt>
<dd class="rd-dd">
values or field name of center x coordinates
</dd>
<dt>
y
</dt>
<dd class="rd-dd">
values or field name of center y coordinates
</dd>
<dt>
data
</dt>
<dd class="rd-dd">
an optional data frame, providing the source for inputs x, y, and other glyph properties
</dd>
<dt>
width
</dt>
<dd class="rd-dd">
values or field name of widths
</dd>
<dt>
height
</dt>
<dd class="rd-dd">
values or field name of heights
</dd>
<dt>
angle
</dt>
<dd class="rd-dd">
values or field name of rotation angles
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
color for the glyph - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo - for glyphs with both fill and line properties, see “Handling color” below
</dd>
<dt>
alpha
</dt>
<dd class="rd-dd">
the alpha transparency of the glyph between 0 (transparent) and 1 (opaque) - if glyph has both fill and color properties, see “Handling alpha” below
</dd>
<dt>
legend
</dt>
<dd class="rd-dd">
either a logical specifying not to plot a legend for this layer (FALSE) or a string indicating the name of the legend entry for this layer (note that when mapping plot attributes to variables in <code>data</code>, a legend is automatically created and does not need to be specified - see “Mapped plot attributes and legends” below)
</dd>
<dt>
lname
</dt>
<dd class="rd-dd">
layer name
</dd>
<dt>
lgroup
</dt>
<dd class="rd-dd">
layer group
</dd>
<dt>
visible
</dt>
<dd class="rd-dd">
should the layer be visible?
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
additional parameters for fine control over fill and line properties (see “Additional parameters” below)
</dd>
</dl>
<h4>
Handling color
</h4>
<p class="rd-p">
The <code>color</code> parameter is a high-level plot attribute that provides default behavior for coloring glyphs.
<ul>
<li>
When using a glyph that only has line properties, this will be the color of the line.
</li>
<li>
When using a glyph that has has line and fill properties, this will be the color of the line and the fill, with the alpha level of the fill reduced by 50%.
</li>
<li>
If full control over fill and line color is desired, the <code>fill_color</code> and <code>line_color</code> attributes can be specified explicitly and will override <code>color</code>.
</li>
</ul>
</p>
<p class="rd-p">
When color is <code>NULL</code> and <code>fill_color</code> or <code>line_color</code> are not specified, the color will be chosen from the theme.
</p>
<h4>
Handling alpha
</h4>
<p class="rd-p">
The <code>alpha</code> is a high-level plot attribute that sets the transparency of the glyph being plotted.
<ul>
<li>
When using a glyph that only has line properties, this will be the alpha of the line.
</li>
<li>
When using a glyph that has has line and fill properties, this will be the alpha of the line and the alpha of the fill will be set to 50% of this value.
</li>
<li>
Individual fill and line alpha can be specified with <code>fill_alpha</code> and <code>line_alpha</code> and will override <code>alpha</code>.
</li>
</ul>
</p>
<p class="rd-p">
</p>
<h4>
Mapped plot attributes and legends
</h4>
<p class="rd-p">
When specifying an input data frame for a layer through the <code>data</code> argument, columns of <code>data</code> can be used to specify various plot attributes such as <code>color</code>, etc. For example, with <code>ly_points(…, data = iris, color = Species)</code>, the <code>Species</code> variable is used to determine how to color the points. Here, <code>Species</code> is “mapped” to the <code>color</code> attribute. Both continuous and categorical variables can be mapped. In the case of continuous variables, the range is cut into slices and attributes are applied to each interval. The mapping from the values of the variable to the actual plot attributes is determined based on the theme.
</p>
<h4>
Additional parameters
</h4>
<p class="rd-p">
</p>
<p class="rd-p">
<table>
<tr>
<td>
<code>fill_color</code>
</td>
</tr>
<tr>
<td>
color to use to fill the glyph with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</td>
</tr>
<tr>
<td>
<code>fill_alpha</code>
</td>
</tr>
<tr>
<td>
transparency value between 0 (transparent) and 1 (opaque)
</td>
</tr>
<tr>
<td>
<code>line_color</code>
</td>
</tr>
<tr>
<td>
color to use to stroke lines with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</td>
</tr>
<tr>
<td>
<code>line_width</code>
</td>
</tr>
<tr>
<td>
stroke width in units of pixels
</td>
</tr>
<tr>
<td>
<code>line_alpha</code>
</td>
</tr>
<tr>
<td>
transparency value between 0 (transparent) and 1 (opaque)
</td>
</tr>
<tr>
<td>
<code>line_join</code>
</td>
</tr>
<tr>
<td>
how path segments should be joined together miter round bevel
</td>
</tr>
<tr>
<td>
<code>line_cap</code>
</td>
</tr>
<tr>
<td>
how path segments should be terminated butt round square
</td>
</tr>
<tr>
<td>
<code>line_dash</code>
</td>
</tr>
<tr>
<td>
array of integer pixel distances that describe the on-off pattern of dashing to use
</td>
</tr>
</table>
</p>
<h4>
See also
</h4>
<p>Other layer functions: <code><a href=#ly_abline>ly_abline</a></code>, <code><a href=#ly_annular_wedge>ly_annular_wedge</a></code>, <code><a href=#ly_annulus>ly_annulus</a></code>, <code><a href=#ly_arc>ly_arc</a></code>, <code><a href=#ly_bar>ly_bar</a></code>, <code><a href=#ly_bezier>ly_bezier</a></code>, <code><a href=#ly_boxplot>ly_boxplot</a></code>, <code><a href=#ly_contour>ly_contour</a></code>, <code><a href=#ly_crect>ly_crect</a></code>, <code><a href=#ly_curve>ly_curve</a></code>, <code><a href=#ly_density>ly_density</a></code>, <code><a href=#ly_hist>ly_hist</a></code>, <code><a href=#ly_image_url>ly_image_url</a></code>, <code><a href=#ly_image>ly_image</a></code>, <code><a href=#ly_lines>ly_lines</a></code>, <code><a href=#ly_map>ly_map</a></code>, <code><a href=#ly_multi_line>ly_multi_line</a></code>, <code><a href=#ly_patch>ly_patch</a></code>, <code><a href=#ly_points>ly_points</a></code>, <code><a href=#ly_polygons>ly_polygons</a></code>, <code><a href=#ly_quadratic>ly_quadratic</a></code>, <code><a href=#ly_quantile>ly_quantile</a></code>, <code><a href=#ly_ray>ly_ray</a></code>, <code><a href=#ly_rect>ly_rect</a></code>, <code><a href=#ly_segments>ly_segments</a></code>, <code><a href=#ly_text>ly_text</a></code>, <code><a href=#ly_wedge>ly_wedge</a></code></p>
</div>
<div id="ly_patch" class="section level2">
<h2>ly_patch</h2>
<a id="ly_patch_alias"></a>
<h3>
Add a “patch” layer to a Bokeh figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>ly_patch(fig, x, y, data&nbsp;=&nbsp;figure_data(fig), color&nbsp;=&nbsp;NULL, alpha&nbsp;=&nbsp;1, hover&nbsp;=&nbsp;NULL, url&nbsp;=&nbsp;NULL, legend&nbsp;=&nbsp;NULL, lname&nbsp;=&nbsp;NULL, lgroup&nbsp;=&nbsp;NULL, visible&nbsp;=&nbsp;TRUE, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
x
</dt>
<dd class="rd-dd">
values or field name of patch x coordinates
</dd>
<dt>
y
</dt>
<dd class="rd-dd">
values or field name of patch y coordinates
</dd>
<dt>
data
</dt>
<dd class="rd-dd">
an optional data frame, providing the source for inputs x, y, and other glyph properties
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
color for the glyph - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo - for glyphs with both fill and line properties, see “Handling color” below
</dd>
<dt>
alpha
</dt>
<dd class="rd-dd">
the alpha transparency of the glyph between 0 (transparent) and 1 (opaque) - if glyph has both fill and color properties, see “Handling alpha” below
</dd>
<dt>
hover
</dt>
<dd class="rd-dd">
a data frame of variables to be displayed when hovering over the glyph or a vector of variable names that can be found and extracted from the <code>data</code> argument
</dd>
<dt>
url
</dt>
<dd class="rd-dd">
a string of URLs or a single string that references a variable name (via <span class="citation">@var_name</span>) that can be found and extracted from the <code>data</code> argument
</dd>
<dt>
legend
</dt>
<dd class="rd-dd">
either a logical specifying not to plot a legend for this layer (FALSE) or a string indicating the name of the legend entry for this layer (note that when mapping plot attributes to variables in <code>data</code>, a legend is automatically created and does not need to be specified - see “Mapped plot attributes and legends” below)
</dd>
<dt>
lname
</dt>
<dd class="rd-dd">
layer name
</dd>
<dt>
lgroup
</dt>
<dd class="rd-dd">
layer group
</dd>
<dt>
visible
</dt>
<dd class="rd-dd">
should the layer be visible?
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
additional parameters for fine control over fill and line properties (see “Additional parameters” below)
</dd>
</dl>
<h4>
Note
</h4>
<p class="rd-p">
This function is included for completeness as it maps to Bokehs <code>patch</code> glyph, but the same and more functionality can be obtained with <code><a href=#ly_polygons>ly_polygons</a></code>.
</p>
<h4>
Handling color
</h4>
<p class="rd-p">
The <code>color</code> parameter is a high-level plot attribute that provides default behavior for coloring glyphs.
<ul>
<li>
When using a glyph that only has line properties, this will be the color of the line.
</li>
<li>
When using a glyph that has has line and fill properties, this will be the color of the line and the fill, with the alpha level of the fill reduced by 50%.
</li>
<li>
If full control over fill and line color is desired, the <code>fill_color</code> and <code>line_color</code> attributes can be specified explicitly and will override <code>color</code>.
</li>
</ul>
</p>
<p class="rd-p">
When color is <code>NULL</code> and <code>fill_color</code> or <code>line_color</code> are not specified, the color will be chosen from the theme.
</p>
<h4>
Handling alpha
</h4>
<p class="rd-p">
The <code>alpha</code> is a high-level plot attribute that sets the transparency of the glyph being plotted.
<ul>
<li>
When using a glyph that only has line properties, this will be the alpha of the line.
</li>
<li>
When using a glyph that has has line and fill properties, this will be the alpha of the line and the alpha of the fill will be set to 50% of this value.
</li>
<li>
Individual fill and line alpha can be specified with <code>fill_alpha</code> and <code>line_alpha</code> and will override <code>alpha</code>.
</li>
</ul>
</p>
<p class="rd-p">
</p>
<h4>
Mapped plot attributes and legends
</h4>
<p class="rd-p">
When specifying an input data frame for a layer through the <code>data</code> argument, columns of <code>data</code> can be used to specify various plot attributes such as <code>color</code>, etc. For example, with <code>ly_points(…, data = iris, color = Species)</code>, the <code>Species</code> variable is used to determine how to color the points. Here, <code>Species</code> is “mapped” to the <code>color</code> attribute. Both continuous and categorical variables can be mapped. In the case of continuous variables, the range is cut into slices and attributes are applied to each interval. The mapping from the values of the variable to the actual plot attributes is determined based on the theme.
</p>
<h4>
Additional parameters
</h4>
<p class="rd-p">
</p>
<p class="rd-p">
<table>
<tr>
<td>
<code>fill_color</code>
</td>
</tr>
<tr>
<td>
color to use to fill the glyph with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</td>
</tr>
<tr>
<td>
<code>fill_alpha</code>
</td>
</tr>
<tr>
<td>
transparency value between 0 (transparent) and 1 (opaque)
</td>
</tr>
<tr>
<td>
<code>line_color</code>
</td>
</tr>
<tr>
<td>
color to use to stroke lines with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</td>
</tr>
<tr>
<td>
<code>line_width</code>
</td>
</tr>
<tr>
<td>
stroke width in units of pixels
</td>
</tr>
<tr>
<td>
<code>line_alpha</code>
</td>
</tr>
<tr>
<td>
transparency value between 0 (transparent) and 1 (opaque)
</td>
</tr>
<tr>
<td>
<code>line_join</code>
</td>
</tr>
<tr>
<td>
how path segments should be joined together miter round bevel
</td>
</tr>
<tr>
<td>
<code>line_cap</code>
</td>
</tr>
<tr>
<td>
how path segments should be terminated butt round square
</td>
</tr>
<tr>
<td>
<code>line_dash</code>
</td>
</tr>
<tr>
<td>
array of integer pixel distances that describe the on-off pattern of dashing to use
</td>
</tr>
</table>
</p>
<h4>
See also
</h4>
<p>Other layer functions: <code><a href=#ly_abline>ly_abline</a></code>, <code><a href=#ly_annular_wedge>ly_annular_wedge</a></code>, <code><a href=#ly_annulus>ly_annulus</a></code>, <code><a href=#ly_arc>ly_arc</a></code>, <code><a href=#ly_bar>ly_bar</a></code>, <code><a href=#ly_bezier>ly_bezier</a></code>, <code><a href=#ly_boxplot>ly_boxplot</a></code>, <code><a href=#ly_contour>ly_contour</a></code>, <code><a href=#ly_crect>ly_crect</a></code>, <code><a href=#ly_curve>ly_curve</a></code>, <code><a href=#ly_density>ly_density</a></code>, <code><a href=#ly_hist>ly_hist</a></code>, <code><a href=#ly_image_url>ly_image_url</a></code>, <code><a href=#ly_image>ly_image</a></code>, <code><a href=#ly_lines>ly_lines</a></code>, <code><a href=#ly_map>ly_map</a></code>, <code><a href=#ly_multi_line>ly_multi_line</a></code>, <code><a href=#ly_oval>ly_oval</a></code>, <code><a href=#ly_points>ly_points</a></code>, <code><a href=#ly_polygons>ly_polygons</a></code>, <code><a href=#ly_quadratic>ly_quadratic</a></code>, <code><a href=#ly_quantile>ly_quantile</a></code>, <code><a href=#ly_ray>ly_ray</a></code>, <code><a href=#ly_rect>ly_rect</a></code>, <code><a href=#ly_segments>ly_segments</a></code>, <code><a href=#ly_text>ly_text</a></code>, <code><a href=#ly_wedge>ly_wedge</a></code></p>
</div>
<div id="ly_points" class="section level2">
<h2>ly_points</h2>
<a id="ly_points_alias"></a>
<h3>
Add a “points” layer to a Bokeh figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>ly_points(fig, x, y&nbsp;=&nbsp;NULL, data&nbsp;=&nbsp;figure_data(fig), glyph&nbsp;=&nbsp;21, color&nbsp;=&nbsp;NULL, alpha&nbsp;=&nbsp;1, size&nbsp;=&nbsp;10, hover&nbsp;=&nbsp;NULL, url&nbsp;=&nbsp;NULL, legend&nbsp;=&nbsp;NULL, lname&nbsp;=&nbsp;NULL, lgroup&nbsp;=&nbsp;NULL, visible&nbsp;=&nbsp;TRUE, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
x
</dt>
<dd class="rd-dd">
values or field name of center x coordinates
</dd>
<dt>
y
</dt>
<dd class="rd-dd">
values or field name of center y coordinates
</dd>
<dt>
data
</dt>
<dd class="rd-dd">
an optional data frame, providing the source for inputs x, y, and other glyph properties
</dd>
<dt>
glyph
</dt>
<dd class="rd-dd">
value(s) or field name of the glyph to use (see <code><a href=#point_types>point_types</a></code>)
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
color for the glyph - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo - for glyphs with both fill and line properties, see “Handling color” below
</dd>
<dt>
alpha
</dt>
<dd class="rd-dd">
the alpha transparency of the glyph between 0 (transparent) and 1 (opaque) - if glyph has both fill and color properties, see “Handling alpha” below
</dd>
<dt>
size
</dt>
<dd class="rd-dd">
size of the glyph in screen units
</dd>
<dt>
hover
</dt>
<dd class="rd-dd">
a data frame of variables to be displayed when hovering over the glyph or a vector of variable names that can be found and extracted from the <code>data</code> argument
</dd>
<dt>
url
</dt>
<dd class="rd-dd">
a string of URLs or a single string that references a variable name (via <span class="citation">@var_name</span>) that can be found and extracted from the <code>data</code> argument
</dd>
<dt>
legend
</dt>
<dd class="rd-dd">
either a logical specifying not to plot a legend for this layer (FALSE) or a string indicating the name of the legend entry for this layer (note that when mapping plot attributes to variables in <code>data</code>, a legend is automatically created and does not need to be specified - see “Mapped plot attributes and legends” below)
</dd>
<dt>
lname
</dt>
<dd class="rd-dd">
layer name
</dd>
<dt>
lgroup
</dt>
<dd class="rd-dd">
layer group
</dd>
<dt>
visible
</dt>
<dd class="rd-dd">
should the layer be visible?
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
additional parameters for fine control over fill and line properties (see “Additional parameters” below)
</dd>
</dl>
<h4>
Handling color
</h4>
<p class="rd-p">
The <code>color</code> parameter is a high-level plot attribute that provides default behavior for coloring glyphs.
<ul>
<li>
When using a glyph that only has line properties, this will be the color of the line.
</li>
<li>
When using a glyph that has has line and fill properties, this will be the color of the line and the fill, with the alpha level of the fill reduced by 50%.
</li>
<li>
If full control over fill and line color is desired, the <code>fill_color</code> and <code>line_color</code> attributes can be specified explicitly and will override <code>color</code>.
</li>
</ul>
</p>
<p class="rd-p">
When color is <code>NULL</code> and <code>fill_color</code> or <code>line_color</code> are not specified, the color will be chosen from the theme.
</p>
<h4>
Handling alpha
</h4>
<p class="rd-p">
The <code>alpha</code> is a high-level plot attribute that sets the transparency of the glyph being plotted.
<ul>
<li>
When using a glyph that only has line properties, this will be the alpha of the line.
</li>
<li>
When using a glyph that has has line and fill properties, this will be the alpha of the line and the alpha of the fill will be set to 50% of this value.
</li>
<li>
Individual fill and line alpha can be specified with <code>fill_alpha</code> and <code>line_alpha</code> and will override <code>alpha</code>.
</li>
</ul>
</p>
<p class="rd-p">
</p>
<h4>
Mapped plot attributes and legends
</h4>
<p class="rd-p">
When specifying an input data frame for a layer through the <code>data</code> argument, columns of <code>data</code> can be used to specify various plot attributes such as <code>color</code>, etc. For example, with <code>ly_points(…, data = iris, color = Species)</code>, the <code>Species</code> variable is used to determine how to color the points. Here, <code>Species</code> is “mapped” to the <code>color</code> attribute. Both continuous and categorical variables can be mapped. In the case of continuous variables, the range is cut into slices and attributes are applied to each interval. The mapping from the values of the variable to the actual plot attributes is determined based on the theme.
</p>
<h4>
Additional parameters
</h4>
<p class="rd-p">
</p>
<p class="rd-p">
<table>
<tr>
<td>
<code>fill_color</code>
</td>
</tr>
<tr>
<td>
color to use to fill the glyph with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</td>
</tr>
<tr>
<td>
<code>fill_alpha</code>
</td>
</tr>
<tr>
<td>
transparency value between 0 (transparent) and 1 (opaque)
</td>
</tr>
<tr>
<td>
<code>line_color</code>
</td>
</tr>
<tr>
<td>
color to use to stroke lines with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</td>
</tr>
<tr>
<td>
<code>line_width</code>
</td>
</tr>
<tr>
<td>
stroke width in units of pixels
</td>
</tr>
<tr>
<td>
<code>line_alpha</code>
</td>
</tr>
<tr>
<td>
transparency value between 0 (transparent) and 1 (opaque)
</td>
</tr>
<tr>
<td>
<code>line_join</code>
</td>
</tr>
<tr>
<td>
how path segments should be joined together miter round bevel
</td>
</tr>
<tr>
<td>
<code>line_cap</code>
</td>
</tr>
<tr>
<td>
how path segments should be terminated butt round square
</td>
</tr>
<tr>
<td>
<code>line_dash</code>
</td>
</tr>
<tr>
<td>
array of integer pixel distances that describe the on-off pattern of dashing to use
</td>
</tr>
</table>
</p>
<h4>
Examples
</h4>
<pre class="r"><code>figure() %&gt;%
  ly_points(Sepal.Length, Sepal.Width, data = iris,
    color = Species, glyph = Species,
    hover = list(Sepal.Length, Sepal.Width))</code></pre>
<div id="htmlwidget-e1c4e435f883327f8cf4" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-e1c4e435f883327f8cf4" id="htmlwidget-e1c4e435f883327f8cf4-script"></script>
<pre class="r"><code># custom hover
mtcars$model &lt;- row.names(mtcars)
figure() %&gt;%
  ly_points(disp, mpg, data = mtcars, color = cyl,
    hover = &quot;This &lt;strong&gt;@model&lt;/strong&gt;&lt;br&gt;has @hp horsepower!&quot;)</code></pre>
<div id="htmlwidget-0737c3c2800d2d27a77d" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-0737c3c2800d2d27a77d" id="htmlwidget-0737c3c2800d2d27a77d-script"></script>
<pre class="r"><code>z &lt;- lm(dist ~ speed, data = cars)
p &lt;- figure() %&gt;%
  ly_points(cars, hover = cars) %&gt;%
  ly_lines(lowess(cars), legend = &quot;lowess&quot;) %&gt;%
  ly_abline(z, type = 2, legend = &quot;lm&quot;, width = 2)
p</code></pre>
<div id="htmlwidget-3e7b598289997c511727" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-3e7b598289997c511727" id="htmlwidget-3e7b598289997c511727-script"></script>
<h4>
See also
</h4>
<p>Other layer functions: <code><a href=#ly_abline>ly_abline</a></code>, <code><a href=#ly_annular_wedge>ly_annular_wedge</a></code>, <code><a href=#ly_annulus>ly_annulus</a></code>, <code><a href=#ly_arc>ly_arc</a></code>, <code><a href=#ly_bar>ly_bar</a></code>, <code><a href=#ly_bezier>ly_bezier</a></code>, <code><a href=#ly_boxplot>ly_boxplot</a></code>, <code><a href=#ly_contour>ly_contour</a></code>, <code><a href=#ly_crect>ly_crect</a></code>, <code><a href=#ly_curve>ly_curve</a></code>, <code><a href=#ly_density>ly_density</a></code>, <code><a href=#ly_hist>ly_hist</a></code>, <code><a href=#ly_image_url>ly_image_url</a></code>, <code><a href=#ly_image>ly_image</a></code>, <code><a href=#ly_lines>ly_lines</a></code>, <code><a href=#ly_map>ly_map</a></code>, <code><a href=#ly_multi_line>ly_multi_line</a></code>, <code><a href=#ly_oval>ly_oval</a></code>, <code><a href=#ly_patch>ly_patch</a></code>, <code><a href=#ly_polygons>ly_polygons</a></code>, <code><a href=#ly_quadratic>ly_quadratic</a></code>, <code><a href=#ly_quantile>ly_quantile</a></code>, <code><a href=#ly_ray>ly_ray</a></code>, <code><a href=#ly_rect>ly_rect</a></code>, <code><a href=#ly_segments>ly_segments</a></code>, <code><a href=#ly_text>ly_text</a></code>, <code><a href=#ly_wedge>ly_wedge</a></code></p>
</div>
<div id="ly_polygons" class="section level2">
<h2>ly_polygons</h2>
<a id="ly_polygons_alias"></a>
<h3>
Add a “polygons” layer to a Bokeh figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>ly_polygons(fig, xs, ys, group&nbsp;=&nbsp;NULL, data&nbsp;=&nbsp;figure_data(fig), color&nbsp;=&nbsp;NULL, alpha&nbsp;=&nbsp;1, hover&nbsp;=&nbsp;NULL, url&nbsp;=&nbsp;NULL, lname&nbsp;=&nbsp;NULL, lgroup&nbsp;=&nbsp;NULL, visible&nbsp;=&nbsp;TRUE, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
xs
</dt>
<dd class="rd-dd">
vector or list of values or field name of polygon x coordinates - see details
</dd>
<dt>
ys
</dt>
<dd class="rd-dd">
vector or list of values or field name of polygon y coordinates - see details
</dd>
<dt>
group
</dt>
<dd class="rd-dd">
vector or field name of grouping variable - see details
</dd>
<dt>
data
</dt>
<dd class="rd-dd">
an optional data frame, providing the source for inputs xs, ys, group, and other glyph properties
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
color for the glyph - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo - for glyphs with both fill and line properties, see “Handling color” below
</dd>
<dt>
alpha
</dt>
<dd class="rd-dd">
the alpha transparency of the glyph between 0 (transparent) and 1 (opaque) - if glyph has both fill and color properties, see “Handling alpha” below
</dd>
<dt>
hover
</dt>
<dd class="rd-dd">
a data frame of variables to be displayed when hovering over the glyph or a vector of variable names that can be found and extracted from the <code>data</code> argument
</dd>
<dt>
url
</dt>
<dd class="rd-dd">
a string of URLs or a single string that references a variable name (via <span class="citation">@var_name</span>) that can be found and extracted from the <code>data</code> argument
</dd>
<dt>
lname
</dt>
<dd class="rd-dd">
layer name
</dd>
<dt>
lgroup
</dt>
<dd class="rd-dd">
layer group
</dd>
<dt>
visible
</dt>
<dd class="rd-dd">
should the layer be visible?
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
additional parameters for fine control over fill and line properties (see “Additional parameters” below)
</dd>
</dl>
<h4>
Details
</h4>
<p class="rd-p">
<code>xs</code> and <code>ys</code> can be a list of vectors, each element for one polygon to be drawn, or can be vectors with the <code>group</code> argument specifying how to break them up into individual polygons.
</p>
<h4>
Handling color
</h4>
<p class="rd-p">
The <code>color</code> parameter is a high-level plot attribute that provides default behavior for coloring glyphs.
<ul>
<li>
When using a glyph that only has line properties, this will be the color of the line.
</li>
<li>
When using a glyph that has has line and fill properties, this will be the color of the line and the fill, with the alpha level of the fill reduced by 50%.
</li>
<li>
If full control over fill and line color is desired, the <code>fill_color</code> and <code>line_color</code> attributes can be specified explicitly and will override <code>color</code>.
</li>
</ul>
</p>
<p class="rd-p">
When color is <code>NULL</code> and <code>fill_color</code> or <code>line_color</code> are not specified, the color will be chosen from the theme.
</p>
<h4>
Handling alpha
</h4>
<p class="rd-p">
The <code>alpha</code> is a high-level plot attribute that sets the transparency of the glyph being plotted.
<ul>
<li>
When using a glyph that only has line properties, this will be the alpha of the line.
</li>
<li>
When using a glyph that has has line and fill properties, this will be the alpha of the line and the alpha of the fill will be set to 50% of this value.
</li>
<li>
Individual fill and line alpha can be specified with <code>fill_alpha</code> and <code>line_alpha</code> and will override <code>alpha</code>.
</li>
</ul>
</p>
<p class="rd-p">
</p>
<h4>
Additional parameters
</h4>
<p class="rd-p">
</p>
<p class="rd-p">
<table>
<tr>
<td>
<code>fill_color</code>
</td>
</tr>
<tr>
<td>
color to use to fill the glyph with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</td>
</tr>
<tr>
<td>
<code>fill_alpha</code>
</td>
</tr>
<tr>
<td>
transparency value between 0 (transparent) and 1 (opaque)
</td>
</tr>
<tr>
<td>
<code>line_color</code>
</td>
</tr>
<tr>
<td>
color to use to stroke lines with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</td>
</tr>
<tr>
<td>
<code>line_width</code>
</td>
</tr>
<tr>
<td>
stroke width in units of pixels
</td>
</tr>
<tr>
<td>
<code>line_alpha</code>
</td>
</tr>
<tr>
<td>
transparency value between 0 (transparent) and 1 (opaque)
</td>
</tr>
<tr>
<td>
<code>line_join</code>
</td>
</tr>
<tr>
<td>
how path segments should be joined together miter round bevel
</td>
</tr>
<tr>
<td>
<code>line_cap</code>
</td>
</tr>
<tr>
<td>
how path segments should be terminated butt round square
</td>
</tr>
<tr>
<td>
<code>line_dash</code>
</td>
</tr>
<tr>
<td>
array of integer pixel distances that describe the on-off pattern of dashing to use
</td>
</tr>
</table>
</p>
<h4>
See also
</h4>
<p>Other layer functions: <code><a href=#ly_abline>ly_abline</a></code>, <code><a href=#ly_annular_wedge>ly_annular_wedge</a></code>, <code><a href=#ly_annulus>ly_annulus</a></code>, <code><a href=#ly_arc>ly_arc</a></code>, <code><a href=#ly_bar>ly_bar</a></code>, <code><a href=#ly_bezier>ly_bezier</a></code>, <code><a href=#ly_boxplot>ly_boxplot</a></code>, <code><a href=#ly_contour>ly_contour</a></code>, <code><a href=#ly_crect>ly_crect</a></code>, <code><a href=#ly_curve>ly_curve</a></code>, <code><a href=#ly_density>ly_density</a></code>, <code><a href=#ly_hist>ly_hist</a></code>, <code><a href=#ly_image_url>ly_image_url</a></code>, <code><a href=#ly_image>ly_image</a></code>, <code><a href=#ly_lines>ly_lines</a></code>, <code><a href=#ly_map>ly_map</a></code>, <code><a href=#ly_multi_line>ly_multi_line</a></code>, <code><a href=#ly_oval>ly_oval</a></code>, <code><a href=#ly_patch>ly_patch</a></code>, <code><a href=#ly_points>ly_points</a></code>, <code><a href=#ly_quadratic>ly_quadratic</a></code>, <code><a href=#ly_quantile>ly_quantile</a></code>, <code><a href=#ly_ray>ly_ray</a></code>, <code><a href=#ly_rect>ly_rect</a></code>, <code><a href=#ly_segments>ly_segments</a></code>, <code><a href=#ly_text>ly_text</a></code>, <code><a href=#ly_wedge>ly_wedge</a></code></p>
</div>
<div id="ly_quadratic" class="section level2">
<h2>ly_quadratic</h2>
<a id="ly_quadratic_alias"></a>
<h3>
Add a “quadratic” layer to a Bokeh figure
</h3>
<p class="rd-p">
Draws quadratic curves with the given starting, ending, and control points.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ly_quadratic(fig, x0, y0, x1, y1, cx, cy, data&nbsp;=&nbsp;figure_data(fig), color&nbsp;=&nbsp;"black", alpha&nbsp;=&nbsp;1, width&nbsp;=&nbsp;1, type&nbsp;=&nbsp;1, legend&nbsp;=&nbsp;NULL, lname&nbsp;=&nbsp;NULL, lgroup&nbsp;=&nbsp;NULL, visible&nbsp;=&nbsp;TRUE, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
x0
</dt>
<dd class="rd-dd">
values or field name of starting x coordinates
</dd>
<dt>
y0
</dt>
<dd class="rd-dd">
values or field name of starting y coordinates
</dd>
<dt>
x1
</dt>
<dd class="rd-dd">
values or field name of ending x coordinates
</dd>
<dt>
y1
</dt>
<dd class="rd-dd">
values or field name of ending y coordinates
</dd>
<dt>
cx
</dt>
<dd class="rd-dd">
values or field name of control point x coordinates
</dd>
<dt>
cy
</dt>
<dd class="rd-dd">
values or field name of control point y coordinates
</dd>
<dt>
data
</dt>
<dd class="rd-dd">
an optional data frame, providing the source for start, end, and control point intputs, as well as other glyph properties
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
color to use to stroke lines with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</dd>
<dt>
alpha
</dt>
<dd class="rd-dd">
transparency value for the line between 0 (transparent) and 1 (opaque)
</dd>
<dt>
width
</dt>
<dd class="rd-dd">
stroke width in units of pixels
</dd>
<dt>
type
</dt>
<dd class="rd-dd">
an integer between 1 and 6 matching the <code>lty</code> property in <code><a href=http://www.rdocumentation.org/packages/graphics/topics/par>par</a></code> or an array of integer pixel distances that describe the on-off pattern of dashing to use
</dd>
<dt>
legend
</dt>
<dd class="rd-dd">
either a logical specifying not to plot a legend for this layer (FALSE) or a string indicating the name of the legend entry for this layer (note that when mapping plot attributes to variables in <code>data</code>, a legend is automatically created and does not need to be specified - see “Mapped plot attributes and legends” below)
</dd>
<dt>
lname
</dt>
<dd class="rd-dd">
layer name
</dd>
<dt>
lgroup
</dt>
<dd class="rd-dd">
layer group
</dd>
<dt>
visible
</dt>
<dd class="rd-dd">
should the layer be visible?
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
additional parameters for fine control over fill and line properties (see “Additional parameters” below)
</dd>
</dl>
<h4>
Mapped plot attributes and legends
</h4>
<p class="rd-p">
When specifying an input data frame for a layer through the <code>data</code> argument, columns of <code>data</code> can be used to specify various plot attributes such as <code>color</code>, etc. For example, with <code>ly_points(…, data = iris, color = Species)</code>, the <code>Species</code> variable is used to determine how to color the points. Here, <code>Species</code> is “mapped” to the <code>color</code> attribute. Both continuous and categorical variables can be mapped. In the case of continuous variables, the range is cut into slices and attributes are applied to each interval. The mapping from the values of the variable to the actual plot attributes is determined based on the theme.
</p>
<h4>
Additional parameters
</h4>
<p class="rd-p">
</p>
<p class="rd-p">
<table>
<tr>
<td>
<code>fill_color</code>
</td>
</tr>
<tr>
<td>
color to use to fill the glyph with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</td>
</tr>
<tr>
<td>
<code>fill_alpha</code>
</td>
</tr>
<tr>
<td>
transparency value between 0 (transparent) and 1 (opaque)
</td>
</tr>
<tr>
<td>
<code>line_color</code>
</td>
</tr>
<tr>
<td>
color to use to stroke lines with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</td>
</tr>
<tr>
<td>
<code>line_width</code>
</td>
</tr>
<tr>
<td>
stroke width in units of pixels
</td>
</tr>
<tr>
<td>
<code>line_alpha</code>
</td>
</tr>
<tr>
<td>
transparency value between 0 (transparent) and 1 (opaque)
</td>
</tr>
<tr>
<td>
<code>line_join</code>
</td>
</tr>
<tr>
<td>
how path segments should be joined together miter round bevel
</td>
</tr>
<tr>
<td>
<code>line_cap</code>
</td>
</tr>
<tr>
<td>
how path segments should be terminated butt round square
</td>
</tr>
<tr>
<td>
<code>line_dash</code>
</td>
</tr>
<tr>
<td>
array of integer pixel distances that describe the on-off pattern of dashing to use
</td>
</tr>
</table>
</p>
<h4>
See also
</h4>
<p>Other layer functions: <code><a href=#ly_abline>ly_abline</a></code>, <code><a href=#ly_annular_wedge>ly_annular_wedge</a></code>, <code><a href=#ly_annulus>ly_annulus</a></code>, <code><a href=#ly_arc>ly_arc</a></code>, <code><a href=#ly_bar>ly_bar</a></code>, <code><a href=#ly_bezier>ly_bezier</a></code>, <code><a href=#ly_boxplot>ly_boxplot</a></code>, <code><a href=#ly_contour>ly_contour</a></code>, <code><a href=#ly_crect>ly_crect</a></code>, <code><a href=#ly_curve>ly_curve</a></code>, <code><a href=#ly_density>ly_density</a></code>, <code><a href=#ly_hist>ly_hist</a></code>, <code><a href=#ly_image_url>ly_image_url</a></code>, <code><a href=#ly_image>ly_image</a></code>, <code><a href=#ly_lines>ly_lines</a></code>, <code><a href=#ly_map>ly_map</a></code>, <code><a href=#ly_multi_line>ly_multi_line</a></code>, <code><a href=#ly_oval>ly_oval</a></code>, <code><a href=#ly_patch>ly_patch</a></code>, <code><a href=#ly_points>ly_points</a></code>, <code><a href=#ly_polygons>ly_polygons</a></code>, <code><a href=#ly_quantile>ly_quantile</a></code>, <code><a href=#ly_ray>ly_ray</a></code>, <code><a href=#ly_rect>ly_rect</a></code>, <code><a href=#ly_segments>ly_segments</a></code>, <code><a href=#ly_text>ly_text</a></code>, <code><a href=#ly_wedge>ly_wedge</a></code></p>
</div>
<div id="ly_ray" class="section level2">
<h2>ly_ray</h2>
<a id="ly_ray_alias"></a>
<h3>
Add a “ray” layer to a Bokeh figure
</h3>
<p class="rd-p">
Draws line segments starting at the given coordinate and extending the given length at the given angle.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ly_ray(fig, x, y&nbsp;=&nbsp;NULL, data&nbsp;=&nbsp;figure_data(fig), length&nbsp;=&nbsp;NULL, angle&nbsp;=&nbsp;0, color&nbsp;=&nbsp;"black", type&nbsp;=&nbsp;1, width&nbsp;=&nbsp;1, alpha&nbsp;=&nbsp;NULL, legend&nbsp;=&nbsp;NULL, lname&nbsp;=&nbsp;NULL, lgroup&nbsp;=&nbsp;NULL, visible&nbsp;=&nbsp;TRUE, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
x
</dt>
<dd class="rd-dd">
values or field name of center x coordinates
</dd>
<dt>
y
</dt>
<dd class="rd-dd">
values or field name of center y coordinates
</dd>
<dt>
data
</dt>
<dd class="rd-dd">
an optional data frame, providing the source for inputs x, y, and other glyph properties
</dd>
<dt>
length
</dt>
<dd class="rd-dd">
values or field name of ray lengths in screen units
</dd>
<dt>
angle
</dt>
<dd class="rd-dd">
values or field name of ray angles
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
color to use to stroke lines with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</dd>
<dt>
type
</dt>
<dd class="rd-dd">
an integer between 1 and 6 matching the <code>lty</code> property in <code><a href=http://www.rdocumentation.org/packages/graphics/topics/par>par</a></code> or an array of integer pixel distances that describe the on-off pattern of dashing to use
</dd>
<dt>
width
</dt>
<dd class="rd-dd">
stroke width in units of pixels
</dd>
<dt>
alpha
</dt>
<dd class="rd-dd">
transparency value for the line between 0 (transparent) and 1 (opaque)
</dd>
<dt>
legend
</dt>
<dd class="rd-dd">
either a logical specifying not to plot a legend for this layer (FALSE) or a string indicating the name of the legend entry for this layer (note that when mapping plot attributes to variables in <code>data</code>, a legend is automatically created and does not need to be specified - see “Mapped plot attributes and legends” below)
</dd>
<dt>
lname
</dt>
<dd class="rd-dd">
layer name
</dd>
<dt>
lgroup
</dt>
<dd class="rd-dd">
layer group
</dd>
<dt>
visible
</dt>
<dd class="rd-dd">
should the layer be visible?
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
additional parameters for fine control over line properties (see “Additional parameters” below)
</dd>
</dl>
<h4>
Mapped plot attributes and legends
</h4>
<p class="rd-p">
When specifying an input data frame for a layer through the <code>data</code> argument, columns of <code>data</code> can be used to specify various plot attributes such as <code>color</code>, etc. For example, with <code>ly_points(…, data = iris, color = Species)</code>, the <code>Species</code> variable is used to determine how to color the points. Here, <code>Species</code> is “mapped” to the <code>color</code> attribute. Both continuous and categorical variables can be mapped. In the case of continuous variables, the range is cut into slices and attributes are applied to each interval. The mapping from the values of the variable to the actual plot attributes is determined based on the theme.
</p>
<h4>
Additional parameters
</h4>
<p class="rd-p">
</p>
<p class="rd-p">
<table>
<tr>
<td>
<code>line_join</code>
</td>
</tr>
<tr>
<td>
how path segments should be joined together miter round bevel
</td>
</tr>
<tr>
<td>
<code>line_cap</code>
</td>
</tr>
<tr>
<td>
how path segments should be terminated butt round square
</td>
</tr>
<tr>
<td>
<code>line_dash</code>
</td>
</tr>
<tr>
<td>
an integer between 1 and 6 matching the <code>lty</code> property in <code><a href=http://www.rdocumentation.org/packages/graphics/topics/par>par</a></code> or an array of integer pixel distances that describe the on-off pattern of dashing to use
</td>
</tr>
</table>
</p>
<h4>
See also
</h4>
<p>Other layer functions: <code><a href=#ly_abline>ly_abline</a></code>, <code><a href=#ly_annular_wedge>ly_annular_wedge</a></code>, <code><a href=#ly_annulus>ly_annulus</a></code>, <code><a href=#ly_arc>ly_arc</a></code>, <code><a href=#ly_bar>ly_bar</a></code>, <code><a href=#ly_bezier>ly_bezier</a></code>, <code><a href=#ly_boxplot>ly_boxplot</a></code>, <code><a href=#ly_contour>ly_contour</a></code>, <code><a href=#ly_crect>ly_crect</a></code>, <code><a href=#ly_curve>ly_curve</a></code>, <code><a href=#ly_density>ly_density</a></code>, <code><a href=#ly_hist>ly_hist</a></code>, <code><a href=#ly_image_url>ly_image_url</a></code>, <code><a href=#ly_image>ly_image</a></code>, <code><a href=#ly_lines>ly_lines</a></code>, <code><a href=#ly_map>ly_map</a></code>, <code><a href=#ly_multi_line>ly_multi_line</a></code>, <code><a href=#ly_oval>ly_oval</a></code>, <code><a href=#ly_patch>ly_patch</a></code>, <code><a href=#ly_points>ly_points</a></code>, <code><a href=#ly_polygons>ly_polygons</a></code>, <code><a href=#ly_quadratic>ly_quadratic</a></code>, <code><a href=#ly_quantile>ly_quantile</a></code>, <code><a href=#ly_rect>ly_rect</a></code>, <code><a href=#ly_segments>ly_segments</a></code>, <code><a href=#ly_text>ly_text</a></code>, <code><a href=#ly_wedge>ly_wedge</a></code></p>
</div>
<div id="ly_rect" class="section level2">
<h2>ly_rect</h2>
<a id="ly_rect_alias"></a>
<h3>
Add a “rect” layer to a Bokeh figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>ly_rect(fig, xleft, ybottom, xright, ytop, data&nbsp;=&nbsp;figure_data(fig), color&nbsp;=&nbsp;NULL, alpha&nbsp;=&nbsp;1, hover&nbsp;=&nbsp;NULL, url&nbsp;=&nbsp;NULL, legend&nbsp;=&nbsp;NULL, lname&nbsp;=&nbsp;NULL, lgroup&nbsp;=&nbsp;NULL, visible&nbsp;=&nbsp;TRUE, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
xleft
</dt>
<dd class="rd-dd">
values or field name of left edges
</dd>
<dt>
ybottom
</dt>
<dd class="rd-dd">
values or field name of bottom edges
</dd>
<dt>
xright
</dt>
<dd class="rd-dd">
values or field name of right edges
</dd>
<dt>
ytop
</dt>
<dd class="rd-dd">
values or field name of top edges
</dd>
<dt>
data
</dt>
<dd class="rd-dd">
an optional data frame, providing the source for inputs xleft, ybottom, xright, ytop, and other glyph properties
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
color for the glyph - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo - for glyphs with both fill and line properties, see “Handling color” below
</dd>
<dt>
alpha
</dt>
<dd class="rd-dd">
the alpha transparency of the glyph between 0 (transparent) and 1 (opaque) - if glyph has both fill and color properties, see “Handling alpha” below
</dd>
<dt>
hover
</dt>
<dd class="rd-dd">
a data frame of variables to be displayed when hovering over the glyph or a vector of variable names that can be found and extracted from the <code>data</code> argument
</dd>
<dt>
url
</dt>
<dd class="rd-dd">
a string of URLs or a single string that references a variable name (via <span class="citation">@var_name</span>) that can be found and extracted from the <code>data</code> argument
</dd>
<dt>
legend
</dt>
<dd class="rd-dd">
either a logical specifying not to plot a legend for this layer (FALSE) or a string indicating the name of the legend entry for this layer (note that when mapping plot attributes to variables in <code>data</code>, a legend is automatically created and does not need to be specified - see “Mapped plot attributes and legends” below)
</dd>
<dt>
lname
</dt>
<dd class="rd-dd">
layer name
</dd>
<dt>
lgroup
</dt>
<dd class="rd-dd">
layer group
</dd>
<dt>
visible
</dt>
<dd class="rd-dd">
should the layer be visible?
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
additional parameters for fine control over fill and line properties (see “Additional parameters” below)
</dd>
</dl>
<h4>
Handling color
</h4>
<p class="rd-p">
The <code>color</code> parameter is a high-level plot attribute that provides default behavior for coloring glyphs.
<ul>
<li>
When using a glyph that only has line properties, this will be the color of the line.
</li>
<li>
When using a glyph that has has line and fill properties, this will be the color of the line and the fill, with the alpha level of the fill reduced by 50%.
</li>
<li>
If full control over fill and line color is desired, the <code>fill_color</code> and <code>line_color</code> attributes can be specified explicitly and will override <code>color</code>.
</li>
</ul>
</p>
<p class="rd-p">
When color is <code>NULL</code> and <code>fill_color</code> or <code>line_color</code> are not specified, the color will be chosen from the theme.
</p>
<h4>
Handling alpha
</h4>
<p class="rd-p">
The <code>alpha</code> is a high-level plot attribute that sets the transparency of the glyph being plotted.
<ul>
<li>
When using a glyph that only has line properties, this will be the alpha of the line.
</li>
<li>
When using a glyph that has has line and fill properties, this will be the alpha of the line and the alpha of the fill will be set to 50% of this value.
</li>
<li>
Individual fill and line alpha can be specified with <code>fill_alpha</code> and <code>line_alpha</code> and will override <code>alpha</code>.
</li>
</ul>
</p>
<p class="rd-p">
</p>
<h4>
Mapped plot attributes and legends
</h4>
<p class="rd-p">
When specifying an input data frame for a layer through the <code>data</code> argument, columns of <code>data</code> can be used to specify various plot attributes such as <code>color</code>, etc. For example, with <code>ly_points(…, data = iris, color = Species)</code>, the <code>Species</code> variable is used to determine how to color the points. Here, <code>Species</code> is “mapped” to the <code>color</code> attribute. Both continuous and categorical variables can be mapped. In the case of continuous variables, the range is cut into slices and attributes are applied to each interval. The mapping from the values of the variable to the actual plot attributes is determined based on the theme.
</p>
<h4>
Additional parameters
</h4>
<p class="rd-p">
</p>
<p class="rd-p">
<table>
<tr>
<td>
<code>fill_color</code>
</td>
</tr>
<tr>
<td>
color to use to fill the glyph with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</td>
</tr>
<tr>
<td>
<code>fill_alpha</code>
</td>
</tr>
<tr>
<td>
transparency value between 0 (transparent) and 1 (opaque)
</td>
</tr>
<tr>
<td>
<code>line_color</code>
</td>
</tr>
<tr>
<td>
color to use to stroke lines with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</td>
</tr>
<tr>
<td>
<code>line_width</code>
</td>
</tr>
<tr>
<td>
stroke width in units of pixels
</td>
</tr>
<tr>
<td>
<code>line_alpha</code>
</td>
</tr>
<tr>
<td>
transparency value between 0 (transparent) and 1 (opaque)
</td>
</tr>
<tr>
<td>
<code>line_join</code>
</td>
</tr>
<tr>
<td>
how path segments should be joined together miter round bevel
</td>
</tr>
<tr>
<td>
<code>line_cap</code>
</td>
</tr>
<tr>
<td>
how path segments should be terminated butt round square
</td>
</tr>
<tr>
<td>
<code>line_dash</code>
</td>
</tr>
<tr>
<td>
array of integer pixel distances that describe the on-off pattern of dashing to use
</td>
</tr>
</table>
</p>
<h4>
See also
</h4>
<p>Other layer functions: <code><a href=#ly_abline>ly_abline</a></code>, <code><a href=#ly_annular_wedge>ly_annular_wedge</a></code>, <code><a href=#ly_annulus>ly_annulus</a></code>, <code><a href=#ly_arc>ly_arc</a></code>, <code><a href=#ly_bar>ly_bar</a></code>, <code><a href=#ly_bezier>ly_bezier</a></code>, <code><a href=#ly_boxplot>ly_boxplot</a></code>, <code><a href=#ly_contour>ly_contour</a></code>, <code><a href=#ly_crect>ly_crect</a></code>, <code><a href=#ly_curve>ly_curve</a></code>, <code><a href=#ly_density>ly_density</a></code>, <code><a href=#ly_hist>ly_hist</a></code>, <code><a href=#ly_image_url>ly_image_url</a></code>, <code><a href=#ly_image>ly_image</a></code>, <code><a href=#ly_lines>ly_lines</a></code>, <code><a href=#ly_map>ly_map</a></code>, <code><a href=#ly_multi_line>ly_multi_line</a></code>, <code><a href=#ly_oval>ly_oval</a></code>, <code><a href=#ly_patch>ly_patch</a></code>, <code><a href=#ly_points>ly_points</a></code>, <code><a href=#ly_polygons>ly_polygons</a></code>, <code><a href=#ly_quadratic>ly_quadratic</a></code>, <code><a href=#ly_quantile>ly_quantile</a></code>, <code><a href=#ly_ray>ly_ray</a></code>, <code><a href=#ly_segments>ly_segments</a></code>, <code><a href=#ly_text>ly_text</a></code>, <code><a href=#ly_wedge>ly_wedge</a></code></p>
</div>
<div id="ly_segments" class="section level2">
<h2>ly_segments</h2>
<a id="ly_segments_alias"></a>
<h3>
Add a “segments” layer to a Bokeh figure
</h3>
<p class="rd-p">
Draws line segments with the given starting and ending coordinates.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ly_segments(fig, x0, y0, x1, y1, data&nbsp;=&nbsp;figure_data(fig), color&nbsp;=&nbsp;"black", alpha&nbsp;=&nbsp;1, width&nbsp;=&nbsp;1, type&nbsp;=&nbsp;1, legend&nbsp;=&nbsp;NULL, lname&nbsp;=&nbsp;NULL, lgroup&nbsp;=&nbsp;NULL, visible&nbsp;=&nbsp;TRUE, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
x0
</dt>
<dd class="rd-dd">
values or field name of starting x coordinates
</dd>
<dt>
y0
</dt>
<dd class="rd-dd">
values or field name of starting y coordinates
</dd>
<dt>
x1
</dt>
<dd class="rd-dd">
values or field name of ending x coordinates
</dd>
<dt>
y1
</dt>
<dd class="rd-dd">
values or field name of ending y coordinates
</dd>
<dt>
data
</dt>
<dd class="rd-dd">
an optional data frame, providing the source for inputs x, y, and other glyph properties
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
color to use to stroke lines with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</dd>
<dt>
alpha
</dt>
<dd class="rd-dd">
transparency value for the line between 0 (transparent) and 1 (opaque)
</dd>
<dt>
width
</dt>
<dd class="rd-dd">
stroke width in units of pixels
</dd>
<dt>
type
</dt>
<dd class="rd-dd">
an integer between 1 and 6 matching the <code>lty</code> property in <code><a href=http://www.rdocumentation.org/packages/graphics/topics/par>par</a></code> or an array of integer pixel distances that describe the on-off pattern of dashing to use
</dd>
<dt>
legend
</dt>
<dd class="rd-dd">
either a logical specifying not to plot a legend for this layer (FALSE) or a string indicating the name of the legend entry for this layer (note that when mapping plot attributes to variables in <code>data</code>, a legend is automatically created and does not need to be specified - see “Mapped plot attributes and legends” below)
</dd>
<dt>
lname
</dt>
<dd class="rd-dd">
layer name
</dd>
<dt>
lgroup
</dt>
<dd class="rd-dd">
layer group
</dd>
<dt>
visible
</dt>
<dd class="rd-dd">
should the layer be visible?
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
additional parameters for fine control over line properties (see “Additional parameters” below)
</dd>
</dl>
<h4>
Mapped plot attributes and legends
</h4>
<p class="rd-p">
When specifying an input data frame for a layer through the <code>data</code> argument, columns of <code>data</code> can be used to specify various plot attributes such as <code>color</code>, etc. For example, with <code>ly_points(…, data = iris, color = Species)</code>, the <code>Species</code> variable is used to determine how to color the points. Here, <code>Species</code> is “mapped” to the <code>color</code> attribute. Both continuous and categorical variables can be mapped. In the case of continuous variables, the range is cut into slices and attributes are applied to each interval. The mapping from the values of the variable to the actual plot attributes is determined based on the theme.
</p>
<h4>
Additional parameters
</h4>
<p class="rd-p">
</p>
<p class="rd-p">
<table>
<tr>
<td>
<code>line_join</code>
</td>
</tr>
<tr>
<td>
how path segments should be joined together miter round bevel
</td>
</tr>
<tr>
<td>
<code>line_cap</code>
</td>
</tr>
<tr>
<td>
how path segments should be terminated butt round square
</td>
</tr>
<tr>
<td>
<code>line_dash</code>
</td>
</tr>
<tr>
<td>
an integer between 1 and 6 matching the <code>lty</code> property in <code><a href=http://www.rdocumentation.org/packages/graphics/topics/par>par</a></code> or an array of integer pixel distances that describe the on-off pattern of dashing to use
</td>
</tr>
</table>
</p>
<h4>
See also
</h4>
<p>Other layer functions: <code><a href=#ly_abline>ly_abline</a></code>, <code><a href=#ly_annular_wedge>ly_annular_wedge</a></code>, <code><a href=#ly_annulus>ly_annulus</a></code>, <code><a href=#ly_arc>ly_arc</a></code>, <code><a href=#ly_bar>ly_bar</a></code>, <code><a href=#ly_bezier>ly_bezier</a></code>, <code><a href=#ly_boxplot>ly_boxplot</a></code>, <code><a href=#ly_contour>ly_contour</a></code>, <code><a href=#ly_crect>ly_crect</a></code>, <code><a href=#ly_curve>ly_curve</a></code>, <code><a href=#ly_density>ly_density</a></code>, <code><a href=#ly_hist>ly_hist</a></code>, <code><a href=#ly_image_url>ly_image_url</a></code>, <code><a href=#ly_image>ly_image</a></code>, <code><a href=#ly_lines>ly_lines</a></code>, <code><a href=#ly_map>ly_map</a></code>, <code><a href=#ly_multi_line>ly_multi_line</a></code>, <code><a href=#ly_oval>ly_oval</a></code>, <code><a href=#ly_patch>ly_patch</a></code>, <code><a href=#ly_points>ly_points</a></code>, <code><a href=#ly_polygons>ly_polygons</a></code>, <code><a href=#ly_quadratic>ly_quadratic</a></code>, <code><a href=#ly_quantile>ly_quantile</a></code>, <code><a href=#ly_ray>ly_ray</a></code>, <code><a href=#ly_rect>ly_rect</a></code>, <code><a href=#ly_text>ly_text</a></code>, <code><a href=#ly_wedge>ly_wedge</a></code></p>
</div>
<div id="ly_text" class="section level2">
<h2>ly_text</h2>
<a id="ly_text_alias"></a>
<h3>
Add a “text” layer to a Bokeh figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>ly_text(fig, x, y&nbsp;=&nbsp;NULL, text&nbsp;=&nbsp;NULL, data&nbsp;=&nbsp;figure_data(fig), color&nbsp;=&nbsp;"black", alpha&nbsp;=&nbsp;1, angle&nbsp;=&nbsp;0, align&nbsp;=&nbsp;NULL, baseline&nbsp;=&nbsp;NULL, font&nbsp;=&nbsp;NULL, font_size&nbsp;=&nbsp;NULL, font_style&nbsp;=&nbsp;NULL, x_offset&nbsp;=&nbsp;NULL, y_offset&nbsp;=&nbsp;NULL, legend&nbsp;=&nbsp;NULL, lname&nbsp;=&nbsp;NULL, lgroup&nbsp;=&nbsp;NULL, visible&nbsp;=&nbsp;TRUE)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
x
</dt>
<dd class="rd-dd">
x coordinates of text anchors
</dd>
<dt>
y
</dt>
<dd class="rd-dd">
y coordinates of text anchors
</dd>
<dt>
text
</dt>
<dd class="rd-dd">
text values to render
</dd>
<dt>
data
</dt>
<dd class="rd-dd">
an optional data frame, providing the source for inputs x, y, text, and other glyph properties
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
text color values for the text
</dd>
<dt>
alpha
</dt>
<dd class="rd-dd">
text alpha values for the text
</dd>
<dt>
angle
</dt>
<dd class="rd-dd">
angle to rotate the text in radians
</dd>
<dt>
align
</dt>
<dd class="rd-dd">
text align values for the text (“left”, “right”, “center”)
</dd>
<dt>
baseline
</dt>
<dd class="rd-dd">
text baseline values for the text (“top”, “middle”, “bottom”, “alphabetic”, “hanging”)
</dd>
<dt>
font
</dt>
<dd class="rd-dd">
text font values for the text
</dd>
<dt>
font_size
</dt>
<dd class="rd-dd">
text font size values for the text
</dd>
<dt>
font_style
</dt>
<dd class="rd-dd">
text font style values for the text (“normal”, “italic”, “bold”)
</dd>
<dt>
x_offset
</dt>
<dd class="rd-dd">
offset values to apply to the x-coordinates
</dd>
<dt>
y_offset
</dt>
<dd class="rd-dd">
offset values to apply to the y-coordinates
</dd>
<dt>
legend
</dt>
<dd class="rd-dd">
either a logical specifying not to plot a legend for this layer (FALSE) or a string indicating the name of the legend entry for this layer (note that when mapping plot attributes to variables in <code>data</code>, a legend is automatically created and does not need to be specified - see “Mapped plot attributes and legends” below)
</dd>
<dt>
lname
</dt>
<dd class="rd-dd">
layer name
</dd>
<dt>
lgroup
</dt>
<dd class="rd-dd">
layer group
</dd>
<dt>
visible
</dt>
<dd class="rd-dd">
should the layer be visible?
</dd>
</dl>
<h4>
Mapped plot attributes and legends
</h4>
<p class="rd-p">
When specifying an input data frame for a layer through the <code>data</code> argument, columns of <code>data</code> can be used to specify various plot attributes such as <code>color</code>, etc. For example, with <code>ly_points(…, data = iris, color = Species)</code>, the <code>Species</code> variable is used to determine how to color the points. Here, <code>Species</code> is “mapped” to the <code>color</code> attribute. Both continuous and categorical variables can be mapped. In the case of continuous variables, the range is cut into slices and attributes are applied to each interval. The mapping from the values of the variable to the actual plot attributes is determined based on the theme.
</p>
<h4>
Examples
</h4>
<pre class="r"><code># prepare data
elements &lt;- subset(elements, !is.na(group))
elements$group &lt;- as.character(elements$group)
elements$period &lt;- as.character(elements$period)

# add colors for groups
metals &lt;- c(&quot;alkali metal&quot;, &quot;alkaline earth metal&quot;, &quot;halogen&quot;,
  &quot;metal&quot;, &quot;metalloid&quot;, &quot;noble gas&quot;, &quot;nonmetal&quot;, &quot;transition metal&quot;)
colors &lt;- c(&quot;#a6cee3&quot;, &quot;#1f78b4&quot;, &quot;#fdbf6f&quot;, &quot;#b2df8a&quot;, &quot;#33a02c&quot;,
  &quot;#bbbb88&quot;, &quot;#baa2a6&quot;, &quot;#e08e79&quot;)
elements$color &lt;- colors[match(elements$metal, metals)]
elements$type &lt;- elements$metal

# make coordinates for labels
elements$symx &lt;- paste(elements$group, &quot;:0.1&quot;, sep = &quot;&quot;)
elements$numbery &lt;- paste(elements$period, &quot;:0.8&quot;, sep = &quot;&quot;)
elements$massy &lt;- paste(elements$period, &quot;:0.15&quot;, sep = &quot;&quot;)
elements$namey &lt;- paste(elements$period, &quot;:0.3&quot;, sep = &quot;&quot;)

# create figure
p &lt;- figure(title = &quot;Periodic Table&quot;, tools = &quot;&quot;,
  ylim = as.character(c(7:1)), xlim = as.character(1:18),
  xgrid = FALSE, ygrid = FALSE, xlab = &quot;&quot;, ylab = &quot;&quot;,
  height = 600, width = 1200) %&gt;%

# plot rectangles
ly_crect(group, period, data = elements, 0.9, 0.9,
  fill_color = color, line_color = color, fill_alpha = 0.6,
  hover = list(name, atomic.number, type, atomic.mass,
    electronic.configuration)) %&gt;%

# add symbol text
ly_text(symx, period, text = symbol, data = elements,
  font_style = &quot;bold&quot;, font_size = &quot;15pt&quot;,
  align = &quot;left&quot;, baseline = &quot;middle&quot;) %&gt;%

# add atomic number text
ly_text(symx, numbery, text = atomic.number, data = elements,
  font_size = &quot;9pt&quot;, align = &quot;left&quot;, baseline = &quot;middle&quot;) %&gt;%

# add name text
ly_text(symx, namey, text = name, data = elements,
  font_size = &quot;6pt&quot;, align = &quot;left&quot;, baseline = &quot;middle&quot;) %&gt;%

# add atomic mass text
ly_text(symx, massy, text = atomic.mass, data = elements,
  font_size = &quot;6pt&quot;, align = &quot;left&quot;, baseline = &quot;middle&quot;)

p</code></pre>
<div id="htmlwidget-77e1d23e8bc1e0202e48" style="width:1200px;height:600px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-77e1d23e8bc1e0202e48" id="htmlwidget-77e1d23e8bc1e0202e48-script"></script>
<h4>
See also
</h4>
<p>Other layer functions: <code><a href=#ly_abline>ly_abline</a></code>, <code><a href=#ly_annular_wedge>ly_annular_wedge</a></code>, <code><a href=#ly_annulus>ly_annulus</a></code>, <code><a href=#ly_arc>ly_arc</a></code>, <code><a href=#ly_bar>ly_bar</a></code>, <code><a href=#ly_bezier>ly_bezier</a></code>, <code><a href=#ly_boxplot>ly_boxplot</a></code>, <code><a href=#ly_contour>ly_contour</a></code>, <code><a href=#ly_crect>ly_crect</a></code>, <code><a href=#ly_curve>ly_curve</a></code>, <code><a href=#ly_density>ly_density</a></code>, <code><a href=#ly_hist>ly_hist</a></code>, <code><a href=#ly_image_url>ly_image_url</a></code>, <code><a href=#ly_image>ly_image</a></code>, <code><a href=#ly_lines>ly_lines</a></code>, <code><a href=#ly_map>ly_map</a></code>, <code><a href=#ly_multi_line>ly_multi_line</a></code>, <code><a href=#ly_oval>ly_oval</a></code>, <code><a href=#ly_patch>ly_patch</a></code>, <code><a href=#ly_points>ly_points</a></code>, <code><a href=#ly_polygons>ly_polygons</a></code>, <code><a href=#ly_quadratic>ly_quadratic</a></code>, <code><a href=#ly_quantile>ly_quantile</a></code>, <code><a href=#ly_ray>ly_ray</a></code>, <code><a href=#ly_rect>ly_rect</a></code>, <code><a href=#ly_segments>ly_segments</a></code>, <code><a href=#ly_wedge>ly_wedge</a></code></p>
</div>
<div id="ly_wedge" class="section level2">
<h2>ly_wedge</h2>
<a id="ly_wedge_alias"></a>
<h3>
Add a “wedge” layer to a Bokeh figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>ly_wedge(fig, x, y&nbsp;=&nbsp;NULL, data&nbsp;=&nbsp;figure_data(fig), radius&nbsp;=&nbsp;0.3, start_angle&nbsp;=&nbsp;0, end_angle&nbsp;=&nbsp;2 * pi, direction&nbsp;=&nbsp;"anticlock", color&nbsp;=&nbsp;NULL, alpha&nbsp;=&nbsp;1, hover&nbsp;=&nbsp;NULL, url&nbsp;=&nbsp;NULL, legend&nbsp;=&nbsp;NULL, lname&nbsp;=&nbsp;NULL, lgroup&nbsp;=&nbsp;NULL, visible&nbsp;=&nbsp;TRUE, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
x
</dt>
<dd class="rd-dd">
values or field name of center x coordinates
</dd>
<dt>
y
</dt>
<dd class="rd-dd">
values or field name of center y coordinates
</dd>
<dt>
data
</dt>
<dd class="rd-dd">
an optional data frame, providing the source for inputs x, y, and other glyph properties
</dd>
<dt>
radius
</dt>
<dd class="rd-dd">
values or field name of wedge radii
</dd>
<dt>
start_angle
</dt>
<dd class="rd-dd">
the angles to start the wedges, in radians, as measured from the horizontal
</dd>
<dt>
end_angle
</dt>
<dd class="rd-dd">
the angles to end the wedges, in radians, as measured from the horizontal
</dd>
<dt>
direction
</dt>
<dd class="rd-dd">
direction to turn between starting and ending angles (“anticlock”, “clock”)
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
color for the glyph - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo - for glyphs with both fill and line properties, see “Handling color” below
</dd>
<dt>
alpha
</dt>
<dd class="rd-dd">
the alpha transparency of the glyph between 0 (transparent) and 1 (opaque) - if glyph has both fill and color properties, see “Handling alpha” below
</dd>
<dt>
hover
</dt>
<dd class="rd-dd">
a data frame of variables to be displayed when hovering over the glyph or a vector of variable names that can be found and extracted from the <code>data</code> argument
</dd>
<dt>
url
</dt>
<dd class="rd-dd">
a string of URLs or a single string that references a variable name (via <span class="citation">@var_name</span>) that can be found and extracted from the <code>data</code> argument
</dd>
<dt>
legend
</dt>
<dd class="rd-dd">
either a logical specifying not to plot a legend for this layer (FALSE) or a string indicating the name of the legend entry for this layer (note that when mapping plot attributes to variables in <code>data</code>, a legend is automatically created and does not need to be specified - see “Mapped plot attributes and legends” below)
</dd>
<dt>
lname
</dt>
<dd class="rd-dd">
layer name
</dd>
<dt>
lgroup
</dt>
<dd class="rd-dd">
layer group
</dd>
<dt>
visible
</dt>
<dd class="rd-dd">
should the layer be visible?
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
additional parameters for fine control over fill and line properties (see “Additional parameters” below)
</dd>
</dl>
<h4>
Handling color
</h4>
<p class="rd-p">
The <code>color</code> parameter is a high-level plot attribute that provides default behavior for coloring glyphs.
<ul>
<li>
When using a glyph that only has line properties, this will be the color of the line.
</li>
<li>
When using a glyph that has has line and fill properties, this will be the color of the line and the fill, with the alpha level of the fill reduced by 50%.
</li>
<li>
If full control over fill and line color is desired, the <code>fill_color</code> and <code>line_color</code> attributes can be specified explicitly and will override <code>color</code>.
</li>
</ul>
</p>
<p class="rd-p">
When color is <code>NULL</code> and <code>fill_color</code> or <code>line_color</code> are not specified, the color will be chosen from the theme.
</p>
<h4>
Handling alpha
</h4>
<p class="rd-p">
The <code>alpha</code> is a high-level plot attribute that sets the transparency of the glyph being plotted.
<ul>
<li>
When using a glyph that only has line properties, this will be the alpha of the line.
</li>
<li>
When using a glyph that has has line and fill properties, this will be the alpha of the line and the alpha of the fill will be set to 50% of this value.
</li>
<li>
Individual fill and line alpha can be specified with <code>fill_alpha</code> and <code>line_alpha</code> and will override <code>alpha</code>.
</li>
</ul>
</p>
<p class="rd-p">
</p>
<h4>
Mapped plot attributes and legends
</h4>
<p class="rd-p">
When specifying an input data frame for a layer through the <code>data</code> argument, columns of <code>data</code> can be used to specify various plot attributes such as <code>color</code>, etc. For example, with <code>ly_points(…, data = iris, color = Species)</code>, the <code>Species</code> variable is used to determine how to color the points. Here, <code>Species</code> is “mapped” to the <code>color</code> attribute. Both continuous and categorical variables can be mapped. In the case of continuous variables, the range is cut into slices and attributes are applied to each interval. The mapping from the values of the variable to the actual plot attributes is determined based on the theme.
</p>
<h4>
Additional parameters
</h4>
<p class="rd-p">
</p>
<p class="rd-p">
<table>
<tr>
<td>
<code>fill_color</code>
</td>
</tr>
<tr>
<td>
color to use to fill the glyph with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</td>
</tr>
<tr>
<td>
<code>fill_alpha</code>
</td>
</tr>
<tr>
<td>
transparency value between 0 (transparent) and 1 (opaque)
</td>
</tr>
<tr>
<td>
<code>line_color</code>
</td>
</tr>
<tr>
<td>
color to use to stroke lines with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</td>
</tr>
<tr>
<td>
<code>line_width</code>
</td>
</tr>
<tr>
<td>
stroke width in units of pixels
</td>
</tr>
<tr>
<td>
<code>line_alpha</code>
</td>
</tr>
<tr>
<td>
transparency value between 0 (transparent) and 1 (opaque)
</td>
</tr>
<tr>
<td>
<code>line_join</code>
</td>
</tr>
<tr>
<td>
how path segments should be joined together miter round bevel
</td>
</tr>
<tr>
<td>
<code>line_cap</code>
</td>
</tr>
<tr>
<td>
how path segments should be terminated butt round square
</td>
</tr>
<tr>
<td>
<code>line_dash</code>
</td>
</tr>
<tr>
<td>
array of integer pixel distances that describe the on-off pattern of dashing to use
</td>
</tr>
</table>
</p>
<h4>
Examples
</h4>
<pre class="r"><code>rescale &lt;- function(x)
  (x - min(x)) / diff(range(x))
figure() %&gt;%
  ly_wedge(Sepal.Length, Sepal.Width, data = iris,
    end_angle = rescale(Petal.Length) * 2 * pi, color = Species,
    radius = 0.15, alpha = 0.5,
    hover = Species)</code></pre>
<div id="htmlwidget-0ba3b4d9127e83f60e08" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-0ba3b4d9127e83f60e08" id="htmlwidget-0ba3b4d9127e83f60e08-script"></script>
<h4>
See also
</h4>
<p>Other layer functions: <code><a href=#ly_abline>ly_abline</a></code>, <code><a href=#ly_annular_wedge>ly_annular_wedge</a></code>, <code><a href=#ly_annulus>ly_annulus</a></code>, <code><a href=#ly_arc>ly_arc</a></code>, <code><a href=#ly_bar>ly_bar</a></code>, <code><a href=#ly_bezier>ly_bezier</a></code>, <code><a href=#ly_boxplot>ly_boxplot</a></code>, <code><a href=#ly_contour>ly_contour</a></code>, <code><a href=#ly_crect>ly_crect</a></code>, <code><a href=#ly_curve>ly_curve</a></code>, <code><a href=#ly_density>ly_density</a></code>, <code><a href=#ly_hist>ly_hist</a></code>, <code><a href=#ly_image_url>ly_image_url</a></code>, <code><a href=#ly_image>ly_image</a></code>, <code><a href=#ly_lines>ly_lines</a></code>, <code><a href=#ly_map>ly_map</a></code>, <code><a href=#ly_multi_line>ly_multi_line</a></code>, <code><a href=#ly_oval>ly_oval</a></code>, <code><a href=#ly_patch>ly_patch</a></code>, <code><a href=#ly_points>ly_points</a></code>, <code><a href=#ly_polygons>ly_polygons</a></code>, <code><a href=#ly_quadratic>ly_quadratic</a></code>, <code><a href=#ly_quantile>ly_quantile</a></code>, <code><a href=#ly_ray>ly_ray</a></code>, <code><a href=#ly_rect>ly_rect</a></code>, <code><a href=#ly_segments>ly_segments</a></code>, <code><a href=#ly_text>ly_text</a></code></p>
</div>
</div>
<div id="higher-level-layer-functions" class="section level1">
<h1>Higher-Level Layer Functions</h1>
<div id="ly_quantile" class="section level2">
<h2>ly_quantile</h2>
<a id="ly_quantile_alias"></a>
<h3>
Add a “quantile” layer to a Bokeh figure
</h3>
<p class="rd-p">
Draws quantiles
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ly_quantile(fig, x, group&nbsp;=&nbsp;NULL, data&nbsp;=&nbsp;figure_data(fig), probs&nbsp;=&nbsp;NULL, distn&nbsp;=&nbsp;stats::qunif, ncutoff&nbsp;=&nbsp;200, color&nbsp;=&nbsp;NULL, alpha&nbsp;=&nbsp;1, legend&nbsp;=&nbsp;TRUE, lname&nbsp;=&nbsp;NULL, lgroup&nbsp;=&nbsp;NULL, visible&nbsp;=&nbsp;TRUE, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
x
</dt>
<dd class="rd-dd">
numeric vector or field name of variable to compute sample quantiles for
</dd>
<dt>
group
</dt>
<dd class="rd-dd">
values or field name of a grouping variable to break quantile computations up by
</dd>
<dt>
data
</dt>
<dd class="rd-dd">
an optional data frame, providing the source for x
</dd>
<dt>
probs
</dt>
<dd class="rd-dd">
numeric vector of probabilities with values in <code>[0,1]</code> at which to compute quantiles - if <code>NULL</code>, every point of <code>x</code> is a quantile
</dd>
<dt>
distn
</dt>
<dd class="rd-dd">
quantile function to use on the x-axis (e.g. <code><a href=http://www.rdocumentation.org/packages/stats/topics/Normal>qnorm</a></code>) - default is <code><a href=http://www.rdocumentation.org/packages/stats/topics/Uniform>qunif</a></code>,
</dd>
<dt>
ncutoff
</dt>
<dd class="rd-dd">
if the length of <code>x</code> exceeds this value and <code>probs</code> is not specified, compute quantiles at <code>ncutoff</code> points
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
color for the glyph - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo - for glyphs with both fill and line properties, see “Handling color” below
</dd>
<dt>
alpha
</dt>
<dd class="rd-dd">
the alpha transparency of the glyph between 0 (transparent) and 1 (opaque) - if glyph has both fill and color properties, see “Handling alpha” below
</dd>
<dt>
legend
</dt>
<dd class="rd-dd">
either a logical specifying not to plot a legend for this layer (FALSE) or a string indicating the name of the legend entry for this layer (note that when mapping plot attributes to variables in <code>data</code>, a legend is automatically created and does not need to be specified - see “Mapped plot attributes and legends” below)
</dd>
<dt>
lname
</dt>
<dd class="rd-dd">
layer name
</dd>
<dt>
lgroup
</dt>
<dd class="rd-dd">
layer group
</dd>
<dt>
visible
</dt>
<dd class="rd-dd">
should the layer be visible?
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
additional parameters for fine control over fill and line properties (see “Additional parameters” below)
</dd>
</dl>
<h4>
Handling color
</h4>
<p class="rd-p">
The <code>color</code> parameter is a high-level plot attribute that provides default behavior for coloring glyphs.
<ul>
<li>
When using a glyph that only has line properties, this will be the color of the line.
</li>
<li>
When using a glyph that has has line and fill properties, this will be the color of the line and the fill, with the alpha level of the fill reduced by 50%.
</li>
<li>
If full control over fill and line color is desired, the <code>fill_color</code> and <code>line_color</code> attributes can be specified explicitly and will override <code>color</code>.
</li>
</ul>
</p>
<p class="rd-p">
When color is <code>NULL</code> and <code>fill_color</code> or <code>line_color</code> are not specified, the color will be chosen from the theme.
</p>
<h4>
Handling alpha
</h4>
<p class="rd-p">
The <code>alpha</code> is a high-level plot attribute that sets the transparency of the glyph being plotted.
<ul>
<li>
When using a glyph that only has line properties, this will be the alpha of the line.
</li>
<li>
When using a glyph that has has line and fill properties, this will be the alpha of the line and the alpha of the fill will be set to 50% of this value.
</li>
<li>
Individual fill and line alpha can be specified with <code>fill_alpha</code> and <code>line_alpha</code> and will override <code>alpha</code>.
</li>
</ul>
</p>
<p class="rd-p">
</p>
<h4>
Mapped plot attributes and legends
</h4>
<p class="rd-p">
When specifying an input data frame for a layer through the <code>data</code> argument, columns of <code>data</code> can be used to specify various plot attributes such as <code>color</code>, etc. For example, with <code>ly_points(…, data = iris, color = Species)</code>, the <code>Species</code> variable is used to determine how to color the points. Here, <code>Species</code> is “mapped” to the <code>color</code> attribute. Both continuous and categorical variables can be mapped. In the case of continuous variables, the range is cut into slices and attributes are applied to each interval. The mapping from the values of the variable to the actual plot attributes is determined based on the theme.
</p>
<h4>
Additional parameters
</h4>
<p class="rd-p">
</p>
<p class="rd-p">
<table>
<tr>
<td>
<code>fill_color</code>
</td>
</tr>
<tr>
<td>
color to use to fill the glyph with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</td>
</tr>
<tr>
<td>
<code>fill_alpha</code>
</td>
</tr>
<tr>
<td>
transparency value between 0 (transparent) and 1 (opaque)
</td>
</tr>
<tr>
<td>
<code>line_color</code>
</td>
</tr>
<tr>
<td>
color to use to stroke lines with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</td>
</tr>
<tr>
<td>
<code>line_width</code>
</td>
</tr>
<tr>
<td>
stroke width in units of pixels
</td>
</tr>
<tr>
<td>
<code>line_alpha</code>
</td>
</tr>
<tr>
<td>
transparency value between 0 (transparent) and 1 (opaque)
</td>
</tr>
<tr>
<td>
<code>line_join</code>
</td>
</tr>
<tr>
<td>
how path segments should be joined together miter round bevel
</td>
</tr>
<tr>
<td>
<code>line_cap</code>
</td>
</tr>
<tr>
<td>
how path segments should be terminated butt round square
</td>
</tr>
<tr>
<td>
<code>line_dash</code>
</td>
</tr>
<tr>
<td>
array of integer pixel distances that describe the on-off pattern of dashing to use
</td>
</tr>
</table>
</p>
<h4>
Examples
</h4>
<pre class="r"><code>figure(legend_location = &quot;top_left&quot;) %&gt;%
  ly_quantile(Sepal.Length, group = Species, data = iris)</code></pre>
<div id="htmlwidget-57d275949d5820d39ab0" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-57d275949d5820d39ab0" id="htmlwidget-57d275949d5820d39ab0-script"></script>
<h4>
See also
</h4>
<p>Other layer functions: <code><a href=#ly_abline>ly_abline</a></code>, <code><a href=#ly_annular_wedge>ly_annular_wedge</a></code>, <code><a href=#ly_annulus>ly_annulus</a></code>, <code><a href=#ly_arc>ly_arc</a></code>, <code><a href=#ly_bar>ly_bar</a></code>, <code><a href=#ly_bezier>ly_bezier</a></code>, <code><a href=#ly_boxplot>ly_boxplot</a></code>, <code><a href=#ly_contour>ly_contour</a></code>, <code><a href=#ly_crect>ly_crect</a></code>, <code><a href=#ly_curve>ly_curve</a></code>, <code><a href=#ly_density>ly_density</a></code>, <code><a href=#ly_hist>ly_hist</a></code>, <code><a href=#ly_image_url>ly_image_url</a></code>, <code><a href=#ly_image>ly_image</a></code>, <code><a href=#ly_lines>ly_lines</a></code>, <code><a href=#ly_map>ly_map</a></code>, <code><a href=#ly_multi_line>ly_multi_line</a></code>, <code><a href=#ly_oval>ly_oval</a></code>, <code><a href=#ly_patch>ly_patch</a></code>, <code><a href=#ly_points>ly_points</a></code>, <code><a href=#ly_polygons>ly_polygons</a></code>, <code><a href=#ly_quadratic>ly_quadratic</a></code>, <code><a href=#ly_ray>ly_ray</a></code>, <code><a href=#ly_rect>ly_rect</a></code>, <code><a href=#ly_segments>ly_segments</a></code>, <code><a href=#ly_text>ly_text</a></code>, <code><a href=#ly_wedge>ly_wedge</a></code></p>
</div>
<div id="ly_density" class="section level2">
<h2>ly_density</h2>
<a id="ly_density_alias"></a>
<h3>
Add a “density” layer to a Bokeh figure
</h3>
<p class="rd-p">
Draws a kernel density estimate
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ly_density(fig, x, data&nbsp;=&nbsp;figure_data(fig), bw&nbsp;=&nbsp;"nrd0", adjust&nbsp;=&nbsp;1, kernel&nbsp;=&nbsp;c("gaussian", "epanechnikov", "rectangular", "triangular", "biweight", "cosine", "optcosine"), weights&nbsp;=&nbsp;NULL, window&nbsp;=&nbsp;kernel, n&nbsp;=&nbsp;512, cut&nbsp;=&nbsp;3, na.rm&nbsp;=&nbsp;FALSE, color&nbsp;=&nbsp;"black", alpha&nbsp;=&nbsp;1, width&nbsp;=&nbsp;1, type&nbsp;=&nbsp;1, legend&nbsp;=&nbsp;NULL, lname&nbsp;=&nbsp;NULL, lgroup&nbsp;=&nbsp;NULL, visible&nbsp;=&nbsp;TRUE, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
x, bw, adjust, kernel, weights, window, n, cut, na.rm
</dt>
<dd class="rd-dd">
parameters passed to <code><a href=http://www.rdocumentation.org/packages/stats/topics/density>density</a></code>
</dd>
<dt>
data
</dt>
<dd class="rd-dd">
an optional data frame, providing the source for x
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
color to use to stroke lines with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</dd>
<dt>
alpha
</dt>
<dd class="rd-dd">
transparency value for the line between 0 (transparent) and 1 (opaque)
</dd>
<dt>
width
</dt>
<dd class="rd-dd">
stroke width in units of pixels
</dd>
<dt>
type
</dt>
<dd class="rd-dd">
an integer between 1 and 6 matching the <code>lty</code> property in <code><a href=http://www.rdocumentation.org/packages/graphics/topics/par>par</a></code> or an array of integer pixel distances that describe the on-off pattern of dashing to use
</dd>
<dt>
legend
</dt>
<dd class="rd-dd">
text to display in the legend entry for the density line
</dd>
<dt>
lname
</dt>
<dd class="rd-dd">
layer name
</dd>
<dt>
lgroup
</dt>
<dd class="rd-dd">
layer group
</dd>
<dt>
visible
</dt>
<dd class="rd-dd">
should the layer be visible?
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
additional parameters for fine control over line properties (see “Additional parameters” below)
</dd>
</dl>
<h4>
Additional parameters
</h4>
<p class="rd-p">
</p>
<p class="rd-p">
<table>
<tr>
<td>
<code>line_join</code>
</td>
</tr>
<tr>
<td>
how path segments should be joined together miter round bevel
</td>
</tr>
<tr>
<td>
<code>line_cap</code>
</td>
</tr>
<tr>
<td>
how path segments should be terminated butt round square
</td>
</tr>
<tr>
<td>
<code>line_dash</code>
</td>
</tr>
<tr>
<td>
an integer between 1 and 6 matching the <code>lty</code> property in <code><a href=http://www.rdocumentation.org/packages/graphics/topics/par>par</a></code> or an array of integer pixel distances that describe the on-off pattern of dashing to use
</td>
</tr>
</table>
</p>
<h4>
Examples
</h4>
<pre class="r"><code>h &lt;- figure(width = 600, height = 400) %&gt;%
  ly_hist(eruptions, data = faithful, breaks = 40, freq = FALSE) %&gt;%
  ly_density(eruptions, data = faithful)
h</code></pre>
<div id="htmlwidget-ee5dc7ee7ce49ed11f11" style="width:600px;height:400px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-ee5dc7ee7ce49ed11f11" id="htmlwidget-ee5dc7ee7ce49ed11f11-script"></script>
<h4>
See also
</h4>
<p>Other layer functions: <code><a href=#ly_abline>ly_abline</a></code>, <code><a href=#ly_annular_wedge>ly_annular_wedge</a></code>, <code><a href=#ly_annulus>ly_annulus</a></code>, <code><a href=#ly_arc>ly_arc</a></code>, <code><a href=#ly_bar>ly_bar</a></code>, <code><a href=#ly_bezier>ly_bezier</a></code>, <code><a href=#ly_boxplot>ly_boxplot</a></code>, <code><a href=#ly_contour>ly_contour</a></code>, <code><a href=#ly_crect>ly_crect</a></code>, <code><a href=#ly_curve>ly_curve</a></code>, <code><a href=#ly_hist>ly_hist</a></code>, <code><a href=#ly_image_url>ly_image_url</a></code>, <code><a href=#ly_image>ly_image</a></code>, <code><a href=#ly_lines>ly_lines</a></code>, <code><a href=#ly_map>ly_map</a></code>, <code><a href=#ly_multi_line>ly_multi_line</a></code>, <code><a href=#ly_oval>ly_oval</a></code>, <code><a href=#ly_patch>ly_patch</a></code>, <code><a href=#ly_points>ly_points</a></code>, <code><a href=#ly_polygons>ly_polygons</a></code>, <code><a href=#ly_quadratic>ly_quadratic</a></code>, <code><a href=#ly_quantile>ly_quantile</a></code>, <code><a href=#ly_ray>ly_ray</a></code>, <code><a href=#ly_rect>ly_rect</a></code>, <code><a href=#ly_segments>ly_segments</a></code>, <code><a href=#ly_text>ly_text</a></code>, <code><a href=#ly_wedge>ly_wedge</a></code></p>
</div>
<div id="ly_hist" class="section level2">
<h2>ly_hist</h2>
<a id="ly_hist_alias"></a>
<h3>
Add a “hist” layer to a Bokeh figure
</h3>
<p class="rd-p">
Draws a histogram
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ly_hist(fig, x, data&nbsp;=&nbsp;figure_data(fig), breaks&nbsp;=&nbsp;"Sturges", freq&nbsp;=&nbsp;TRUE, include.lowest&nbsp;=&nbsp;TRUE, right&nbsp;=&nbsp;TRUE, color&nbsp;=&nbsp;NULL, alpha&nbsp;=&nbsp;1, lname&nbsp;=&nbsp;NULL, lgroup&nbsp;=&nbsp;NULL, visible&nbsp;=&nbsp;TRUE, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
x
</dt>
<dd class="rd-dd">
either a vector to be passed to <code><a href=http://www.rdocumentation.org/packages/graphics/topics/hist>hist</a></code> or an object of class “histogram”
</dd>
<dt>
data
</dt>
<dd class="rd-dd">
an optional data frame, providing the source for x
</dd>
<dt>
breaks, freq, include.lowest, right
</dt>
<dd class="rd-dd">
parameters passed to <code><a href=http://www.rdocumentation.org/packages/graphics/topics/hist>hist</a></code>
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
color for the glyph - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo - for glyphs with both fill and line properties, see “Handling color” below
</dd>
<dt>
alpha
</dt>
<dd class="rd-dd">
the alpha transparency of the glyph between 0 (transparent) and 1 (opaque) - if glyph has both fill and color properties, see “Handling alpha” below
</dd>
<dt>
lname
</dt>
<dd class="rd-dd">
layer name
</dd>
<dt>
lgroup
</dt>
<dd class="rd-dd">
layer group
</dd>
<dt>
visible
</dt>
<dd class="rd-dd">
should the layer be visible?
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
additional parameters for fine control over fill and line properties (see “Additional parameters” below)
</dd>
</dl>
<h4>
Handling color
</h4>
<p class="rd-p">
The <code>color</code> parameter is a high-level plot attribute that provides default behavior for coloring glyphs.
<ul>
<li>
When using a glyph that only has line properties, this will be the color of the line.
</li>
<li>
When using a glyph that has has line and fill properties, this will be the color of the line and the fill, with the alpha level of the fill reduced by 50%.
</li>
<li>
If full control over fill and line color is desired, the <code>fill_color</code> and <code>line_color</code> attributes can be specified explicitly and will override <code>color</code>.
</li>
</ul>
</p>
<p class="rd-p">
When color is <code>NULL</code> and <code>fill_color</code> or <code>line_color</code> are not specified, the color will be chosen from the theme.
</p>
<h4>
Handling alpha
</h4>
<p class="rd-p">
The <code>alpha</code> is a high-level plot attribute that sets the transparency of the glyph being plotted.
<ul>
<li>
When using a glyph that only has line properties, this will be the alpha of the line.
</li>
<li>
When using a glyph that has has line and fill properties, this will be the alpha of the line and the alpha of the fill will be set to 50% of this value.
</li>
<li>
Individual fill and line alpha can be specified with <code>fill_alpha</code> and <code>line_alpha</code> and will override <code>alpha</code>.
</li>
</ul>
</p>
<p class="rd-p">
</p>
<h4>
Additional parameters
</h4>
<p class="rd-p">
</p>
<p class="rd-p">
<table>
<tr>
<td>
<code>fill_color</code>
</td>
</tr>
<tr>
<td>
color to use to fill the glyph with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</td>
</tr>
<tr>
<td>
<code>fill_alpha</code>
</td>
</tr>
<tr>
<td>
transparency value between 0 (transparent) and 1 (opaque)
</td>
</tr>
<tr>
<td>
<code>line_color</code>
</td>
</tr>
<tr>
<td>
color to use to stroke lines with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</td>
</tr>
<tr>
<td>
<code>line_width</code>
</td>
</tr>
<tr>
<td>
stroke width in units of pixels
</td>
</tr>
<tr>
<td>
<code>line_alpha</code>
</td>
</tr>
<tr>
<td>
transparency value between 0 (transparent) and 1 (opaque)
</td>
</tr>
<tr>
<td>
<code>line_join</code>
</td>
</tr>
<tr>
<td>
how path segments should be joined together miter round bevel
</td>
</tr>
<tr>
<td>
<code>line_cap</code>
</td>
</tr>
<tr>
<td>
how path segments should be terminated butt round square
</td>
</tr>
<tr>
<td>
<code>line_dash</code>
</td>
</tr>
<tr>
<td>
array of integer pixel distances that describe the on-off pattern of dashing to use
</td>
</tr>
</table>
</p>
<h4>
Examples
</h4>
<pre class="r"><code>h &lt;- figure(width = 600, height = 400) %&gt;%
  ly_hist(eruptions, data = faithful, breaks = 40, freq = FALSE) %&gt;%
  ly_density(eruptions, data = faithful)
h</code></pre>
<div id="htmlwidget-d5768dfdf7e52dc847f5" style="width:600px;height:400px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-d5768dfdf7e52dc847f5" id="htmlwidget-d5768dfdf7e52dc847f5-script"></script>
<h4>
See also
</h4>
<p>Other layer functions: <code><a href=#ly_abline>ly_abline</a></code>, <code><a href=#ly_annular_wedge>ly_annular_wedge</a></code>, <code><a href=#ly_annulus>ly_annulus</a></code>, <code><a href=#ly_arc>ly_arc</a></code>, <code><a href=#ly_bar>ly_bar</a></code>, <code><a href=#ly_bezier>ly_bezier</a></code>, <code><a href=#ly_boxplot>ly_boxplot</a></code>, <code><a href=#ly_contour>ly_contour</a></code>, <code><a href=#ly_crect>ly_crect</a></code>, <code><a href=#ly_curve>ly_curve</a></code>, <code><a href=#ly_density>ly_density</a></code>, <code><a href=#ly_image_url>ly_image_url</a></code>, <code><a href=#ly_image>ly_image</a></code>, <code><a href=#ly_lines>ly_lines</a></code>, <code><a href=#ly_map>ly_map</a></code>, <code><a href=#ly_multi_line>ly_multi_line</a></code>, <code><a href=#ly_oval>ly_oval</a></code>, <code><a href=#ly_patch>ly_patch</a></code>, <code><a href=#ly_points>ly_points</a></code>, <code><a href=#ly_polygons>ly_polygons</a></code>, <code><a href=#ly_quadratic>ly_quadratic</a></code>, <code><a href=#ly_quantile>ly_quantile</a></code>, <code><a href=#ly_ray>ly_ray</a></code>, <code><a href=#ly_rect>ly_rect</a></code>, <code><a href=#ly_segments>ly_segments</a></code>, <code><a href=#ly_text>ly_text</a></code>, <code><a href=#ly_wedge>ly_wedge</a></code></p>
</div>
<div id="ly_hexbin" class="section level2">
<h2>ly_hexbin</h2>
<a id="ly_hexbin_alias"></a>
<h3>
Add a “hexbin” layer to a Bokeh figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>ly_hexbin(fig, x, y&nbsp;=&nbsp;NULL, data&nbsp;=&nbsp;figure_data(fig), xbins&nbsp;=&nbsp;30, shape&nbsp;=&nbsp;1, xbnds&nbsp;=&nbsp;NULL, ybnds&nbsp;=&nbsp;NULL, style&nbsp;=&nbsp;"colorscale", trans&nbsp;=&nbsp;NULL, inv&nbsp;=&nbsp;NULL, lname&nbsp;=&nbsp;NULL, palette&nbsp;=&nbsp;"RdYlGn11", line&nbsp;=&nbsp;FALSE, alpha&nbsp;=&nbsp;1, hover&nbsp;=&nbsp;TRUE, visible&nbsp;=&nbsp;TRUE)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
x
</dt>
<dd class="rd-dd">
values or field name of center x coordinates to be binned
</dd>
<dt>
y
</dt>
<dd class="rd-dd">
values or field name of center y coordinates to be binned
</dd>
<dt>
data
</dt>
<dd class="rd-dd">
an optional data frame, providing the source for x and y
</dd>
<dt>
xbins, shape, xbnds, ybnds
</dt>
<dd class="rd-dd">
parameters passed to <code><a href=http://www.rdocumentation.org/packages/hexbin/topics/hexbin>hexbin</a></code>
</dd>
<dt>
style
</dt>
<dd class="rd-dd">
type of plotting for hexbins (see <code><a href=http://www.rdocumentation.org/packages/hexbin/topics/grid.hexagons>grid.hexagons</a></code>) - “colorramp” and “lattice” are currently supported
</dd>
<dt>
trans, inv
</dt>
<dd class="rd-dd">
transformation and inverse transformation function for the bin counts
</dd>
<dt>
lname
</dt>
<dd class="rd-dd">
layer name
</dd>
<dt>
palette
</dt>
<dd class="rd-dd">
name of color palette to use for color ramp (see <a href = #http://bokeh.pydata.org/en/latest/docs/reference/palettes>here</a> for acceptable values)
</dd>
<dt>
line
</dt>
<dd class="rd-dd">
logical - should hexagons have an outline?
</dd>
<dt>
alpha
</dt>
<dd class="rd-dd">
the alpha transparency of the hexagons between 0 (transparent) and 1 (opaque)
</dd>
<dt>
hover
</dt>
<dd class="rd-dd">
logical - should a hover tool be added to show the count in each hexagon?
</dd>
<dt>
visible
</dt>
<dd class="rd-dd">
should the layer be visible?
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code>figure() %&gt;% ly_hexbin(rnorm(10000), rnorm(10000))</code></pre>
<div id="htmlwidget-a935382af370fe90a3af" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-a935382af370fe90a3af" id="htmlwidget-a935382af370fe90a3af-script"></script>
</div>
<div id="ly_boxplot" class="section level2">
<h2>ly_boxplot</h2>
<a id="ly_boxplot_alias"></a>
<h3>
Add a “boxplot” layer to a Bokeh figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>ly_boxplot(fig, x, y&nbsp;=&nbsp;NULL, data&nbsp;=&nbsp;figure_data(fig), width&nbsp;=&nbsp;0.9, coef&nbsp;=&nbsp;1.5, color&nbsp;=&nbsp;"blue", alpha&nbsp;=&nbsp;1, outlier_glyph&nbsp;=&nbsp;1, outlier_size&nbsp;=&nbsp;10, lname&nbsp;=&nbsp;NULL, lgroup&nbsp;=&nbsp;NULL, visible&nbsp;=&nbsp;TRUE, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
x
</dt>
<dd class="rd-dd">
either a numeric vector or a factor
</dd>
<dt>
y
</dt>
<dd class="rd-dd">
either a numeric vector or a factor
</dd>
<dt>
data
</dt>
<dd class="rd-dd">
an optional data frame, providing the source for x and y
</dd>
<dt>
width
</dt>
<dd class="rd-dd">
with of each box, a value between 0 (no width) and 1 (full width)
</dd>
<dt>
coef
</dt>
<dd class="rd-dd">
see <code><a href=http://www.rdocumentation.org/packages/grDevices/topics/boxplot.stats>boxplot.stats</a></code>
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
color for the glyph - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo - for glyphs with both fill and line properties, see “Handling color” below
</dd>
<dt>
alpha
</dt>
<dd class="rd-dd">
the alpha transparency of the glyph between 0 (transparent) and 1 (opaque) - if glyph has both fill and color properties, see “Handling alpha” below
</dd>
<dt>
outlier_glyph
</dt>
<dd class="rd-dd">
the glyph used to plot the outliers. If set to <code>NA</code>, no outlier points are plotted. Run <code>point_types()</code> for possible values.
</dd>
<dt>
outlier_size
</dt>
<dd class="rd-dd">
the size of the glyph used to plot outliers. If set to <code>NA</code>, no outlier points are plotted.
</dd>
<dt>
lname
</dt>
<dd class="rd-dd">
layer name
</dd>
<dt>
lgroup
</dt>
<dd class="rd-dd">
layer group
</dd>
<dt>
visible
</dt>
<dd class="rd-dd">
should the layer be visible?
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
additional parameters for fine control over fill and line properties (see “Additional parameters” below)
</dd>
</dl>
<h4>
Handling color
</h4>
<p class="rd-p">
The <code>color</code> parameter is a high-level plot attribute that provides default behavior for coloring glyphs.
<ul>
<li>
When using a glyph that only has line properties, this will be the color of the line.
</li>
<li>
When using a glyph that has has line and fill properties, this will be the color of the line and the fill, with the alpha level of the fill reduced by 50%.
</li>
<li>
If full control over fill and line color is desired, the <code>fill_color</code> and <code>line_color</code> attributes can be specified explicitly and will override <code>color</code>.
</li>
</ul>
</p>
<p class="rd-p">
When color is <code>NULL</code> and <code>fill_color</code> or <code>line_color</code> are not specified, the color will be chosen from the theme.
</p>
<h4>
Handling alpha
</h4>
<p class="rd-p">
The <code>alpha</code> is a high-level plot attribute that sets the transparency of the glyph being plotted.
<ul>
<li>
When using a glyph that only has line properties, this will be the alpha of the line.
</li>
<li>
When using a glyph that has has line and fill properties, this will be the alpha of the line and the alpha of the fill will be set to 50% of this value.
</li>
<li>
Individual fill and line alpha can be specified with <code>fill_alpha</code> and <code>line_alpha</code> and will override <code>alpha</code>.
</li>
</ul>
</p>
<p class="rd-p">
</p>
<h4>
Additional parameters
</h4>
<p class="rd-p">
</p>
<p class="rd-p">
<table>
<tr>
<td>
<code>fill_color</code>
</td>
</tr>
<tr>
<td>
color to use to fill the glyph with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</td>
</tr>
<tr>
<td>
<code>fill_alpha</code>
</td>
</tr>
<tr>
<td>
transparency value between 0 (transparent) and 1 (opaque)
</td>
</tr>
<tr>
<td>
<code>line_color</code>
</td>
</tr>
<tr>
<td>
color to use to stroke lines with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</td>
</tr>
<tr>
<td>
<code>line_width</code>
</td>
</tr>
<tr>
<td>
stroke width in units of pixels
</td>
</tr>
<tr>
<td>
<code>line_alpha</code>
</td>
</tr>
<tr>
<td>
transparency value between 0 (transparent) and 1 (opaque)
</td>
</tr>
<tr>
<td>
<code>line_join</code>
</td>
</tr>
<tr>
<td>
how path segments should be joined together miter round bevel
</td>
</tr>
<tr>
<td>
<code>line_cap</code>
</td>
</tr>
<tr>
<td>
how path segments should be terminated butt round square
</td>
</tr>
<tr>
<td>
<code>line_dash</code>
</td>
</tr>
<tr>
<td>
array of integer pixel distances that describe the on-off pattern of dashing to use
</td>
</tr>
</table>
</p>
<h4>
Examples
</h4>
<pre class="r"><code>figure(ylab = &quot;Height (inches)&quot;, width = 600) %&gt;%
  ly_boxplot(voice.part, height, data = lattice::singer)</code></pre>
<div id="htmlwidget-ef7ff74553cf4bb01d9f" style="width:600px;height:500px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-ef7ff74553cf4bb01d9f" id="htmlwidget-ef7ff74553cf4bb01d9f-script"></script>
<h4>
See also
</h4>
<p>Other layer functions: <code><a href=#ly_abline>ly_abline</a></code>, <code><a href=#ly_annular_wedge>ly_annular_wedge</a></code>, <code><a href=#ly_annulus>ly_annulus</a></code>, <code><a href=#ly_arc>ly_arc</a></code>, <code><a href=#ly_bar>ly_bar</a></code>, <code><a href=#ly_bezier>ly_bezier</a></code>, <code><a href=#ly_contour>ly_contour</a></code>, <code><a href=#ly_crect>ly_crect</a></code>, <code><a href=#ly_curve>ly_curve</a></code>, <code><a href=#ly_density>ly_density</a></code>, <code><a href=#ly_hist>ly_hist</a></code>, <code><a href=#ly_image_url>ly_image_url</a></code>, <code><a href=#ly_image>ly_image</a></code>, <code><a href=#ly_lines>ly_lines</a></code>, <code><a href=#ly_map>ly_map</a></code>, <code><a href=#ly_multi_line>ly_multi_line</a></code>, <code><a href=#ly_oval>ly_oval</a></code>, <code><a href=#ly_patch>ly_patch</a></code>, <code><a href=#ly_points>ly_points</a></code>, <code><a href=#ly_polygons>ly_polygons</a></code>, <code><a href=#ly_quadratic>ly_quadratic</a></code>, <code><a href=#ly_quantile>ly_quantile</a></code>, <code><a href=#ly_ray>ly_ray</a></code>, <code><a href=#ly_rect>ly_rect</a></code>, <code><a href=#ly_segments>ly_segments</a></code>, <code><a href=#ly_text>ly_text</a></code>, <code><a href=#ly_wedge>ly_wedge</a></code></p>
</div>
<div id="ly_abline" class="section level2">
<h2>ly_abline</h2>
<a id="ly_abline_alias"></a>
<h3>
Add an “abline” layer to a Bokeh figure
</h3>
<p class="rd-p">
Draws one or more straight lines.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ly_abline(fig, a&nbsp;=&nbsp;NULL, b&nbsp;=&nbsp;NULL, v&nbsp;=&nbsp;NULL, h&nbsp;=&nbsp;NULL, coef&nbsp;=&nbsp;NULL, color&nbsp;=&nbsp;"black", alpha&nbsp;=&nbsp;NULL, width&nbsp;=&nbsp;1, type&nbsp;=&nbsp;1, legend&nbsp;=&nbsp;NULL, lname&nbsp;=&nbsp;NULL, lgroup&nbsp;=&nbsp;NULL, visible&nbsp;=&nbsp;TRUE, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
a, b
</dt>
<dd class="rd-dd">
the intercept and slope of the line(s) to draw
</dd>
<dt>
v
</dt>
<dd class="rd-dd">
the x value(s) for vertical lines
</dd>
<dt>
h
</dt>
<dd class="rd-dd">
the y value(s) for horizontal lines
</dd>
<dt>
coef
</dt>
<dd class="rd-dd">
a vector of length two giving the intercept and slope
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
color to use to stroke lines with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</dd>
<dt>
alpha
</dt>
<dd class="rd-dd">
transparency value for the line between 0 (transparent) and 1 (opaque)
</dd>
<dt>
width
</dt>
<dd class="rd-dd">
stroke width in units of pixels
</dd>
<dt>
type
</dt>
<dd class="rd-dd">
an integer between 1 and 6 matching the <code>lty</code> property in <code><a href=http://www.rdocumentation.org/packages/graphics/topics/par>par</a></code> or an array of integer pixel distances that describe the on-off pattern of dashing to use
</dd>
<dt>
legend
</dt>
<dd class="rd-dd">
either a logical specifying not to plot a legend for this layer (FALSE) or a string indicating the name of the legend entry for this layer (note that when mapping plot attributes to variables in <code>data</code>, a legend is automatically created and does not need to be specified - see “Mapped plot attributes and legends” below)
</dd>
<dt>
lname
</dt>
<dd class="rd-dd">
layer name
</dd>
<dt>
lgroup
</dt>
<dd class="rd-dd">
layer group
</dd>
<dt>
visible
</dt>
<dd class="rd-dd">
should the layer be visible?
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
additional parameters for fine control over line properties (see “Additional parameters” below)
</dd>
</dl>
<h4>
Mapped plot attributes and legends
</h4>
<p class="rd-p">
When specifying an input data frame for a layer through the <code>data</code> argument, columns of <code>data</code> can be used to specify various plot attributes such as <code>color</code>, etc. For example, with <code>ly_points(…, data = iris, color = Species)</code>, the <code>Species</code> variable is used to determine how to color the points. Here, <code>Species</code> is “mapped” to the <code>color</code> attribute. Both continuous and categorical variables can be mapped. In the case of continuous variables, the range is cut into slices and attributes are applied to each interval. The mapping from the values of the variable to the actual plot attributes is determined based on the theme.
</p>
<h4>
Additional parameters
</h4>
<p class="rd-p">
</p>
<p class="rd-p">
<table>
<tr>
<td>
<code>line_join</code>
</td>
</tr>
<tr>
<td>
how path segments should be joined together miter round bevel
</td>
</tr>
<tr>
<td>
<code>line_cap</code>
</td>
</tr>
<tr>
<td>
how path segments should be terminated butt round square
</td>
</tr>
<tr>
<td>
<code>line_dash</code>
</td>
</tr>
<tr>
<td>
an integer between 1 and 6 matching the <code>lty</code> property in <code><a href=http://www.rdocumentation.org/packages/graphics/topics/par>par</a></code> or an array of integer pixel distances that describe the on-off pattern of dashing to use
</td>
</tr>
</table>
</p>
<h4>
Examples
</h4>
<pre class="r"><code># abline with mixed axes for h and v
figure() %&gt;%
  ly_points(1:26, letters) %&gt;%
  ly_abline(h = &quot;j&quot;) %&gt;%
  ly_abline(v = 10)</code></pre>
<div id="htmlwidget-8ea56750c372ddb49a2e" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-8ea56750c372ddb49a2e" id="htmlwidget-8ea56750c372ddb49a2e-script"></script>
<pre class="r"><code># multiple hv lines
figure() %&gt;%
  ly_points(1:10) %&gt;%
  ly_abline(v = 1:10) %&gt;%
  ly_abline(h = 1:10)</code></pre>
<div id="htmlwidget-bb8c9ac226ad717f6256" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-bb8c9ac226ad717f6256" id="htmlwidget-bb8c9ac226ad717f6256-script"></script>
<pre class="r"><code># multiple ab lines
figure() %&gt;%
  ly_points(0:10) %&gt;%
  ly_abline(0, seq(0, 1, by = 0.1))</code></pre>
<div id="htmlwidget-de106738f3ba0f6ff43b" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-de106738f3ba0f6ff43b" id="htmlwidget-de106738f3ba0f6ff43b-script"></script>
<pre class="r"><code>z &lt;- lm(dist ~ speed, data = cars)
p &lt;- figure() %&gt;%
  ly_points(cars, hover = cars) %&gt;%
  ly_lines(lowess(cars), legend = &quot;lowess&quot;) %&gt;%
  ly_abline(z, type = 2, legend = &quot;lm&quot;, width = 2)
p</code></pre>
<div id="htmlwidget-b43f95d178d716adc2d7" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-b43f95d178d716adc2d7" id="htmlwidget-b43f95d178d716adc2d7-script"></script>
<h4>
See also
</h4>
<p>Other layer functions: <code><a href=#ly_annular_wedge>ly_annular_wedge</a></code>, <code><a href=#ly_annulus>ly_annulus</a></code>, <code><a href=#ly_arc>ly_arc</a></code>, <code><a href=#ly_bar>ly_bar</a></code>, <code><a href=#ly_bezier>ly_bezier</a></code>, <code><a href=#ly_boxplot>ly_boxplot</a></code>, <code><a href=#ly_contour>ly_contour</a></code>, <code><a href=#ly_crect>ly_crect</a></code>, <code><a href=#ly_curve>ly_curve</a></code>, <code><a href=#ly_density>ly_density</a></code>, <code><a href=#ly_hist>ly_hist</a></code>, <code><a href=#ly_image_url>ly_image_url</a></code>, <code><a href=#ly_image>ly_image</a></code>, <code><a href=#ly_lines>ly_lines</a></code>, <code><a href=#ly_map>ly_map</a></code>, <code><a href=#ly_multi_line>ly_multi_line</a></code>, <code><a href=#ly_oval>ly_oval</a></code>, <code><a href=#ly_patch>ly_patch</a></code>, <code><a href=#ly_points>ly_points</a></code>, <code><a href=#ly_polygons>ly_polygons</a></code>, <code><a href=#ly_quadratic>ly_quadratic</a></code>, <code><a href=#ly_quantile>ly_quantile</a></code>, <code><a href=#ly_ray>ly_ray</a></code>, <code><a href=#ly_rect>ly_rect</a></code>, <code><a href=#ly_segments>ly_segments</a></code>, <code><a href=#ly_text>ly_text</a></code>, <code><a href=#ly_wedge>ly_wedge</a></code></p>
</div>
<div id="ly_contour" class="section level2">
<h2>ly_contour</h2>
<a id="ly_contour_alias"></a>
<h3>
Add a “contour” layer to a Bokeh figure
</h3>
<p class="rd-p">
Computes and draws contour lines.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ly_contour(fig, z, x&nbsp;=&nbsp;seq(0, 1, length.out&nbsp;=&nbsp;nrow(z)), y&nbsp;=&nbsp;seq(0, 1, length.out&nbsp;=&nbsp;ncol(z)), nlevels&nbsp;=&nbsp;10, levels&nbsp;=&nbsp;pretty(range(z, na.rm = TRUE), nlevels), color&nbsp;=&nbsp;"black", alpha&nbsp;=&nbsp;1, width&nbsp;=&nbsp;1, type&nbsp;=&nbsp;1, lname&nbsp;=&nbsp;NULL, lgroup&nbsp;=&nbsp;NULL, visible&nbsp;=&nbsp;TRUE, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
z
</dt>
<dd class="rd-dd">
a matrix containing the values to compute contour lines for
</dd>
<dt>
x, y
</dt>
<dd class="rd-dd">
locations of grid lines at which the values in <code>image</code> are measured (see <code><a href=http://www.rdocumentation.org/packages/grDevices/topics/contourLines>contourLines</a></code>)
</dd>
<dt>
nlevels, levels
</dt>
<dd class="rd-dd">
parameters sent to <code><a href=http://www.rdocumentation.org/packages/grDevices/topics/contourLines>contourLines</a></code>)
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
color to use to stroke lines with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</dd>
<dt>
alpha
</dt>
<dd class="rd-dd">
transparency value for the line between 0 (transparent) and 1 (opaque)
</dd>
<dt>
width
</dt>
<dd class="rd-dd">
stroke width in units of pixels
</dd>
<dt>
type
</dt>
<dd class="rd-dd">
an integer between 1 and 6 matching the <code>lty</code> property in <code><a href=http://www.rdocumentation.org/packages/graphics/topics/par>par</a></code> or an array of integer pixel distances that describe the on-off pattern of dashing to use
</dd>
<dt>
lname
</dt>
<dd class="rd-dd">
layer name
</dd>
<dt>
lgroup
</dt>
<dd class="rd-dd">
layer group
</dd>
<dt>
visible
</dt>
<dd class="rd-dd">
should the layer be visible?
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
additional parameters for fine control over line properties (see “Additional parameters” below)
</dd>
</dl>
<h4>
Additional parameters
</h4>
<p class="rd-p">
</p>
<p class="rd-p">
<table>
<tr>
<td>
<code>line_join</code>
</td>
</tr>
<tr>
<td>
how path segments should be joined together miter round bevel
</td>
</tr>
<tr>
<td>
<code>line_cap</code>
</td>
</tr>
<tr>
<td>
how path segments should be terminated butt round square
</td>
</tr>
<tr>
<td>
<code>line_dash</code>
</td>
</tr>
<tr>
<td>
an integer between 1 and 6 matching the <code>lty</code> property in <code><a href=http://www.rdocumentation.org/packages/graphics/topics/par>par</a></code> or an array of integer pixel distances that describe the on-off pattern of dashing to use
</td>
</tr>
</table>
</p>
<h4>
Examples
</h4>
<pre class="r"><code>p &lt;- figure(xlim = c(0, 1), ylim = c(0, 1), title = &quot;Volcano&quot;) %&gt;%
  ly_image(volcano) %&gt;%
  ly_contour(volcano)
p</code></pre>
<div id="htmlwidget-3dabebb6bdf9353657c2" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-3dabebb6bdf9353657c2" id="htmlwidget-3dabebb6bdf9353657c2-script"></script>
<h4>
See also
</h4>
<p>Other layer functions: <code><a href=#ly_abline>ly_abline</a></code>, <code><a href=#ly_annular_wedge>ly_annular_wedge</a></code>, <code><a href=#ly_annulus>ly_annulus</a></code>, <code><a href=#ly_arc>ly_arc</a></code>, <code><a href=#ly_bar>ly_bar</a></code>, <code><a href=#ly_bezier>ly_bezier</a></code>, <code><a href=#ly_boxplot>ly_boxplot</a></code>, <code><a href=#ly_crect>ly_crect</a></code>, <code><a href=#ly_curve>ly_curve</a></code>, <code><a href=#ly_density>ly_density</a></code>, <code><a href=#ly_hist>ly_hist</a></code>, <code><a href=#ly_image_url>ly_image_url</a></code>, <code><a href=#ly_image>ly_image</a></code>, <code><a href=#ly_lines>ly_lines</a></code>, <code><a href=#ly_map>ly_map</a></code>, <code><a href=#ly_multi_line>ly_multi_line</a></code>, <code><a href=#ly_oval>ly_oval</a></code>, <code><a href=#ly_patch>ly_patch</a></code>, <code><a href=#ly_points>ly_points</a></code>, <code><a href=#ly_polygons>ly_polygons</a></code>, <code><a href=#ly_quadratic>ly_quadratic</a></code>, <code><a href=#ly_quantile>ly_quantile</a></code>, <code><a href=#ly_ray>ly_ray</a></code>, <code><a href=#ly_rect>ly_rect</a></code>, <code><a href=#ly_segments>ly_segments</a></code>, <code><a href=#ly_text>ly_text</a></code>, <code><a href=#ly_wedge>ly_wedge</a></code></p>
</div>
<div id="ly_curve" class="section level2">
<h2>ly_curve</h2>
<a id="ly_curve_alias"></a>
<h3>
Add a “curve” layer to a Bokeh figure
</h3>
<p class="rd-p">
Draws a curve corresponding to a function over the interval <code>[from, to]</code>.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ly_curve(fig, expr, from&nbsp;=&nbsp;NULL, to&nbsp;=&nbsp;NULL, n&nbsp;=&nbsp;101, color&nbsp;=&nbsp;"black", alpha&nbsp;=&nbsp;1, width&nbsp;=&nbsp;1, type&nbsp;=&nbsp;1, legend&nbsp;=&nbsp;NULL, lname&nbsp;=&nbsp;NULL, lgroup&nbsp;=&nbsp;NULL, visible&nbsp;=&nbsp;TRUE, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
expr, from, to, n
</dt>
<dd class="rd-dd">
parameters sent to <code><a href=http://www.rdocumentation.org/packages/graphics/topics/curve>curve</a></code>
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
color to use to stroke lines with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</dd>
<dt>
alpha
</dt>
<dd class="rd-dd">
transparency value for the line between 0 (transparent) and 1 (opaque)
</dd>
<dt>
width
</dt>
<dd class="rd-dd">
stroke width in units of pixels
</dd>
<dt>
type
</dt>
<dd class="rd-dd">
an integer between 1 and 6 matching the <code>lty</code> property in <code><a href=http://www.rdocumentation.org/packages/graphics/topics/par>par</a></code> or an array of integer pixel distances that describe the on-off pattern of dashing to use
</dd>
<dt>
legend
</dt>
<dd class="rd-dd">
either a logical specifying not to plot a legend for this layer (FALSE) or a string indicating the name of the legend entry for this layer (note that when mapping plot attributes to variables in <code>data</code>, a legend is automatically created and does not need to be specified - see “Mapped plot attributes and legends” below)
</dd>
<dt>
lname
</dt>
<dd class="rd-dd">
layer name
</dd>
<dt>
lgroup
</dt>
<dd class="rd-dd">
layer group
</dd>
<dt>
visible
</dt>
<dd class="rd-dd">
should the layer be visible?
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
additional parameters for fine control over line properties (see “Additional parameters” below)
</dd>
</dl>
<h4>
Mapped plot attributes and legends
</h4>
<p class="rd-p">
When specifying an input data frame for a layer through the <code>data</code> argument, columns of <code>data</code> can be used to specify various plot attributes such as <code>color</code>, etc. For example, with <code>ly_points(…, data = iris, color = Species)</code>, the <code>Species</code> variable is used to determine how to color the points. Here, <code>Species</code> is “mapped” to the <code>color</code> attribute. Both continuous and categorical variables can be mapped. In the case of continuous variables, the range is cut into slices and attributes are applied to each interval. The mapping from the values of the variable to the actual plot attributes is determined based on the theme.
</p>
<h4>
Additional parameters
</h4>
<p class="rd-p">
</p>
<p class="rd-p">
<table>
<tr>
<td>
<code>line_join</code>
</td>
</tr>
<tr>
<td>
how path segments should be joined together miter round bevel
</td>
</tr>
<tr>
<td>
<code>line_cap</code>
</td>
</tr>
<tr>
<td>
how path segments should be terminated butt round square
</td>
</tr>
<tr>
<td>
<code>line_dash</code>
</td>
</tr>
<tr>
<td>
an integer between 1 and 6 matching the <code>lty</code> property in <code><a href=http://www.rdocumentation.org/packages/graphics/topics/par>par</a></code> or an array of integer pixel distances that describe the on-off pattern of dashing to use
</td>
</tr>
</table>
</p>
<h4>
Examples
</h4>
<pre class="r"><code>chippy &lt;- function(x) sin(cos(x)*exp(-x/2))
figure(width = 800) %&gt;%
  ly_curve(chippy, -8, 7, n = 2001)</code></pre>
<div id="htmlwidget-7c2b9a3d820b4e0235a0" style="width:800px;height:500px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-7c2b9a3d820b4e0235a0" id="htmlwidget-7c2b9a3d820b4e0235a0-script"></script>
<h4>
See also
</h4>
<p>Other layer functions: <code><a href=#ly_abline>ly_abline</a></code>, <code><a href=#ly_annular_wedge>ly_annular_wedge</a></code>, <code><a href=#ly_annulus>ly_annulus</a></code>, <code><a href=#ly_arc>ly_arc</a></code>, <code><a href=#ly_bar>ly_bar</a></code>, <code><a href=#ly_bezier>ly_bezier</a></code>, <code><a href=#ly_boxplot>ly_boxplot</a></code>, <code><a href=#ly_contour>ly_contour</a></code>, <code><a href=#ly_crect>ly_crect</a></code>, <code><a href=#ly_density>ly_density</a></code>, <code><a href=#ly_hist>ly_hist</a></code>, <code><a href=#ly_image_url>ly_image_url</a></code>, <code><a href=#ly_image>ly_image</a></code>, <code><a href=#ly_lines>ly_lines</a></code>, <code><a href=#ly_map>ly_map</a></code>, <code><a href=#ly_multi_line>ly_multi_line</a></code>, <code><a href=#ly_oval>ly_oval</a></code>, <code><a href=#ly_patch>ly_patch</a></code>, <code><a href=#ly_points>ly_points</a></code>, <code><a href=#ly_polygons>ly_polygons</a></code>, <code><a href=#ly_quadratic>ly_quadratic</a></code>, <code><a href=#ly_quantile>ly_quantile</a></code>, <code><a href=#ly_ray>ly_ray</a></code>, <code><a href=#ly_rect>ly_rect</a></code>, <code><a href=#ly_segments>ly_segments</a></code>, <code><a href=#ly_text>ly_text</a></code>, <code><a href=#ly_wedge>ly_wedge</a></code></p>
</div>
<div id="ly_map" class="section level2">
<h2>ly_map</h2>
<a id="ly_map_alias"></a>
<h3>
Add a “map” layer to a Bokeh figure
</h3>
<p class="rd-p">
Draws lines and polygons as specified by a map database
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ly_map(fig, database&nbsp;=&nbsp;"world", regions&nbsp;=&nbsp;".", color&nbsp;=&nbsp;NULL, alpha&nbsp;=&nbsp;1, lname&nbsp;=&nbsp;NULL, lgroup&nbsp;=&nbsp;NULL, visible&nbsp;=&nbsp;TRUE, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
database, regions
</dt>
<dd class="rd-dd">
parameters passed to <code><a href=http://www.rdocumentation.org/packages/maps/topics/map>map</a></code>
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
color for the glyph - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo - for glyphs with both fill and line properties, see “Handling color” below
</dd>
<dt>
alpha
</dt>
<dd class="rd-dd">
the alpha transparency of the glyph between 0 (transparent) and 1 (opaque) - if glyph has both fill and color properties, see “Handling alpha” below
</dd>
<dt>
lname
</dt>
<dd class="rd-dd">
layer name
</dd>
<dt>
lgroup
</dt>
<dd class="rd-dd">
layer group
</dd>
<dt>
visible
</dt>
<dd class="rd-dd">
should the layer be visible?
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
additional parameters for fine control over fill and line properties (see “Additional parameters” below)
</dd>
</dl>
<h4>
Handling color
</h4>
<p class="rd-p">
The <code>color</code> parameter is a high-level plot attribute that provides default behavior for coloring glyphs.
<ul>
<li>
When using a glyph that only has line properties, this will be the color of the line.
</li>
<li>
When using a glyph that has has line and fill properties, this will be the color of the line and the fill, with the alpha level of the fill reduced by 50%.
</li>
<li>
If full control over fill and line color is desired, the <code>fill_color</code> and <code>line_color</code> attributes can be specified explicitly and will override <code>color</code>.
</li>
</ul>
</p>
<p class="rd-p">
When color is <code>NULL</code> and <code>fill_color</code> or <code>line_color</code> are not specified, the color will be chosen from the theme.
</p>
<h4>
Handling alpha
</h4>
<p class="rd-p">
The <code>alpha</code> is a high-level plot attribute that sets the transparency of the glyph being plotted.
<ul>
<li>
When using a glyph that only has line properties, this will be the alpha of the line.
</li>
<li>
When using a glyph that has has line and fill properties, this will be the alpha of the line and the alpha of the fill will be set to 50% of this value.
</li>
<li>
Individual fill and line alpha can be specified with <code>fill_alpha</code> and <code>line_alpha</code> and will override <code>alpha</code>.
</li>
</ul>
</p>
<p class="rd-p">
</p>
<h4>
Additional parameters
</h4>
<p class="rd-p">
</p>
<p class="rd-p">
<table>
<tr>
<td>
<code>fill_color</code>
</td>
</tr>
<tr>
<td>
color to use to fill the glyph with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</td>
</tr>
<tr>
<td>
<code>fill_alpha</code>
</td>
</tr>
<tr>
<td>
transparency value between 0 (transparent) and 1 (opaque)
</td>
</tr>
<tr>
<td>
<code>line_color</code>
</td>
</tr>
<tr>
<td>
color to use to stroke lines with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</td>
</tr>
<tr>
<td>
<code>line_width</code>
</td>
</tr>
<tr>
<td>
stroke width in units of pixels
</td>
</tr>
<tr>
<td>
<code>line_alpha</code>
</td>
</tr>
<tr>
<td>
transparency value between 0 (transparent) and 1 (opaque)
</td>
</tr>
<tr>
<td>
<code>line_join</code>
</td>
</tr>
<tr>
<td>
how path segments should be joined together miter round bevel
</td>
</tr>
<tr>
<td>
<code>line_cap</code>
</td>
</tr>
<tr>
<td>
how path segments should be terminated butt round square
</td>
</tr>
<tr>
<td>
<code>line_dash</code>
</td>
</tr>
<tr>
<td>
array of integer pixel distances that describe the on-off pattern of dashing to use
</td>
</tr>
</table>
</p>
<h4>
See also
</h4>
<p>Other layer functions: <code><a href=#ly_abline>ly_abline</a></code>, <code><a href=#ly_annular_wedge>ly_annular_wedge</a></code>, <code><a href=#ly_annulus>ly_annulus</a></code>, <code><a href=#ly_arc>ly_arc</a></code>, <code><a href=#ly_bar>ly_bar</a></code>, <code><a href=#ly_bezier>ly_bezier</a></code>, <code><a href=#ly_boxplot>ly_boxplot</a></code>, <code><a href=#ly_contour>ly_contour</a></code>, <code><a href=#ly_crect>ly_crect</a></code>, <code><a href=#ly_curve>ly_curve</a></code>, <code><a href=#ly_density>ly_density</a></code>, <code><a href=#ly_hist>ly_hist</a></code>, <code><a href=#ly_image_url>ly_image_url</a></code>, <code><a href=#ly_image>ly_image</a></code>, <code><a href=#ly_lines>ly_lines</a></code>, <code><a href=#ly_multi_line>ly_multi_line</a></code>, <code><a href=#ly_oval>ly_oval</a></code>, <code><a href=#ly_patch>ly_patch</a></code>, <code><a href=#ly_points>ly_points</a></code>, <code><a href=#ly_polygons>ly_polygons</a></code>, <code><a href=#ly_quadratic>ly_quadratic</a></code>, <code><a href=#ly_quantile>ly_quantile</a></code>, <code><a href=#ly_ray>ly_ray</a></code>, <code><a href=#ly_rect>ly_rect</a></code>, <code><a href=#ly_segments>ly_segments</a></code>, <code><a href=#ly_text>ly_text</a></code>, <code><a href=#ly_wedge>ly_wedge</a></code></p>
</div>
<div id="ly_bar" class="section level2">
<h2>ly_bar</h2>
<a id="ly_bar_alias"></a>
<h3>
Add a “barchart” layer to a Bokeh figure
</h3>
<p class="rd-p">
Draws a bar chart
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ly_bar(fig, x&nbsp;=&nbsp;NULL, y&nbsp;=&nbsp;NULL, data&nbsp;=&nbsp;figure_data(fig), color&nbsp;=&nbsp;NULL, alpha&nbsp;=&nbsp;1, position&nbsp;=&nbsp;c("stack", "fill", "dodge"), width&nbsp;=&nbsp;0.9, hover&nbsp;=&nbsp;FALSE, origin&nbsp;=&nbsp;NULL, breaks&nbsp;=&nbsp;NULL, right&nbsp;=&nbsp;FALSE, binwidth&nbsp;=&nbsp;NULL, lname&nbsp;=&nbsp;NULL, lgroup&nbsp;=&nbsp;NULL, legend&nbsp;=&nbsp;NULL, visible&nbsp;=&nbsp;TRUE, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
x
</dt>
<dd class="rd-dd">
values or field name for x variable, or if NULL, x-axis will be counts of y
</dd>
<dt>
y
</dt>
<dd class="rd-dd">
values or field name for y variable, or if NULL, y-axis will be counts of x
</dd>
<dt>
data
</dt>
<dd class="rd-dd">
an optional data frame, providing the source for inputs x, y, and color properties
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
color for the glyph - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo - for glyphs with both fill and line properties, see “Handling color” below
</dd>
<dt>
alpha
</dt>
<dd class="rd-dd">
the alpha transparency of the glyph between 0 (transparent) and 1 (opaque) - if glyph has both fill and color properties, see “Handling alpha” below
</dd>
<dt>
position
</dt>
<dd class="rd-dd">
either “stack”, “fill”, or “dodge” (see details)
</dd>
<dt>
width
</dt>
<dd class="rd-dd">
with of each bar, a value between 0 (no width) and 1 (full width)
</dd>
<dt>
hover
</dt>
<dd class="rd-dd">
logical - should a hover tool be added to show the value of each bar?
</dd>
<dt>
origin, breaks, right, binwidth
</dt>
<dd class="rd-dd">
parameters to be used for binning x when it is continuous (not yet implemented)
</dd>
<dt>
lname
</dt>
<dd class="rd-dd">
layer name
</dd>
<dt>
lgroup
</dt>
<dd class="rd-dd">
layer group
</dd>
<dt>
legend
</dt>
<dd class="rd-dd">
either a logical specifying not to plot a legend for this layer (FALSE) or a string indicating the name of the legend entry for this layer (note that when mapping plot attributes to variables in <code>data</code>, a legend is automatically created and does not need to be specified - see “Mapped plot attributes and legends” below)
</dd>
<dt>
visible
</dt>
<dd class="rd-dd">
should the layer be visible?
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
additional parameters for fine control over fill and line properties (see “Additional parameters” below)
</dd>
</dl>
<h4>
Details
</h4>
<p class="rd-p">
This function expects one of either x or y to be categorical and the other to be numeric or NULL. The numeric variable is summed for each categorical variable and bars are plotted. If no numeric variable is supplied, the unique values of the categorical variable will be tabulated. Within each categorical variable, if color maps to another grouping variable then the bars are split up. In this case, there are three ways to display the bars with the <code>position</code> argument. The default, “stack” will stack the bars. The “fill” choice will show the relative proportion for each group within each categorical variable level, stacking the bars. The “dodge” choice will plot the bars for each level of the categorical variable side by side.
</p>
<h4>
Handling color
</h4>
<p class="rd-p">
The <code>color</code> parameter is a high-level plot attribute that provides default behavior for coloring glyphs.
<ul>
<li>
When using a glyph that only has line properties, this will be the color of the line.
</li>
<li>
When using a glyph that has has line and fill properties, this will be the color of the line and the fill, with the alpha level of the fill reduced by 50%.
</li>
<li>
If full control over fill and line color is desired, the <code>fill_color</code> and <code>line_color</code> attributes can be specified explicitly and will override <code>color</code>.
</li>
</ul>
</p>
<p class="rd-p">
When color is <code>NULL</code> and <code>fill_color</code> or <code>line_color</code> are not specified, the color will be chosen from the theme.
</p>
<h4>
Handling alpha
</h4>
<p class="rd-p">
The <code>alpha</code> is a high-level plot attribute that sets the transparency of the glyph being plotted.
<ul>
<li>
When using a glyph that only has line properties, this will be the alpha of the line.
</li>
<li>
When using a glyph that has has line and fill properties, this will be the alpha of the line and the alpha of the fill will be set to 50% of this value.
</li>
<li>
Individual fill and line alpha can be specified with <code>fill_alpha</code> and <code>line_alpha</code> and will override <code>alpha</code>.
</li>
</ul>
</p>
<p class="rd-p">
</p>
<h4>
Mapped plot attributes and legends
</h4>
<p class="rd-p">
When specifying an input data frame for a layer through the <code>data</code> argument, columns of <code>data</code> can be used to specify various plot attributes such as <code>color</code>, etc. For example, with <code>ly_points(…, data = iris, color = Species)</code>, the <code>Species</code> variable is used to determine how to color the points. Here, <code>Species</code> is “mapped” to the <code>color</code> attribute. Both continuous and categorical variables can be mapped. In the case of continuous variables, the range is cut into slices and attributes are applied to each interval. The mapping from the values of the variable to the actual plot attributes is determined based on the theme.
</p>
<h4>
Additional parameters
</h4>
<p class="rd-p">
</p>
<p class="rd-p">
<table>
<tr>
<td>
<code>fill_color</code>
</td>
</tr>
<tr>
<td>
color to use to fill the glyph with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</td>
</tr>
<tr>
<td>
<code>fill_alpha</code>
</td>
</tr>
<tr>
<td>
transparency value between 0 (transparent) and 1 (opaque)
</td>
</tr>
<tr>
<td>
<code>line_color</code>
</td>
</tr>
<tr>
<td>
color to use to stroke lines with - a hex code (with no alpha) or any of the 147 named CSS colors, e.g green, indigo
</td>
</tr>
<tr>
<td>
<code>line_width</code>
</td>
</tr>
<tr>
<td>
stroke width in units of pixels
</td>
</tr>
<tr>
<td>
<code>line_alpha</code>
</td>
</tr>
<tr>
<td>
transparency value between 0 (transparent) and 1 (opaque)
</td>
</tr>
<tr>
<td>
<code>line_join</code>
</td>
</tr>
<tr>
<td>
how path segments should be joined together miter round bevel
</td>
</tr>
<tr>
<td>
<code>line_cap</code>
</td>
</tr>
<tr>
<td>
how path segments should be terminated butt round square
</td>
</tr>
<tr>
<td>
<code>line_dash</code>
</td>
</tr>
<tr>
<td>
array of integer pixel distances that describe the on-off pattern of dashing to use
</td>
</tr>
</table>
</p>
<h4>
Examples
</h4>
<pre class="r"><code># count of variety
figure() %&gt;%
  ly_bar(variety, data = lattice::barley) %&gt;%
  theme_axis(&quot;x&quot;, major_label_orientation = 90)</code></pre>
<div id="htmlwidget-be1b366b3843233c03d1" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-be1b366b3843233c03d1" id="htmlwidget-be1b366b3843233c03d1-script"></script>
<pre class="r"><code># total yield per variety
figure() %&gt;%
  ly_bar(variety, yield, data = lattice::barley, hover = TRUE) %&gt;%
  theme_axis(&quot;x&quot;, major_label_orientation = 90)</code></pre>
<div id="htmlwidget-a15c073d2bf605b8f186" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-a15c073d2bf605b8f186" id="htmlwidget-a15c073d2bf605b8f186-script"></script>
<pre class="r"><code># swap axes and add hover
figure() %&gt;%
  ly_bar(yield, variety, data = lattice::barley, hover = TRUE)</code></pre>
<div id="htmlwidget-8f4260bfc9f63db31dd0" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-8f4260bfc9f63db31dd0" id="htmlwidget-8f4260bfc9f63db31dd0-script"></script>
<pre class="r"><code># stack by year
figure() %&gt;%
  ly_bar(variety, yield, color = year, data = lattice::barley, hover = TRUE) %&gt;%
  theme_axis(&quot;x&quot;, major_label_orientation = 90)</code></pre>
<div id="htmlwidget-8667f012c773a67cd87e" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-8667f012c773a67cd87e" id="htmlwidget-8667f012c773a67cd87e-script"></script>
<pre class="r"><code># proportional bars
figure() %&gt;%
  ly_bar(variety, yield, color = year,
    data = lattice::barley, position = &quot;fill&quot;, width = 1) %&gt;%
  theme_axis(&quot;x&quot;, major_label_orientation = 90) %&gt;%
  set_palette(discrete_color = pal_color(c(&quot;red&quot;, &quot;blue&quot;)))</code></pre>
<div id="htmlwidget-9ba5757c75a081e49ee2" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-9ba5757c75a081e49ee2" id="htmlwidget-9ba5757c75a081e49ee2-script"></script>
<pre class="r"><code># swap axes and use different palette
figure() %&gt;%
  ly_bar(yield, variety, color = year,
    data = lattice::barley, position = &quot;fill&quot;) %&gt;%
  set_palette(discrete_color = pal_color(c(&quot;red&quot;, &quot;blue&quot;)))</code></pre>
<div id="htmlwidget-19667416f1e79745f464" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-19667416f1e79745f464" id="htmlwidget-19667416f1e79745f464-script"></script>
<pre class="r"><code># side by side bars
figure() %&gt;%
  ly_bar(variety, yield, color = year,
    data = lattice::barley, position = &quot;dodge&quot;) %&gt;%
  theme_axis(&quot;x&quot;, major_label_orientation = 90)</code></pre>
<div id="htmlwidget-8ab75765c0317cd1cca3" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-8ab75765c0317cd1cca3" id="htmlwidget-8ab75765c0317cd1cca3-script"></script>
<pre class="r"><code># use a different theme
figure() %&gt;%
  ly_bar(variety, yield, color = year,
    data = lattice::barley, position = &quot;dodge&quot;) %&gt;%
  theme_axis(&quot;x&quot;, major_label_orientation = 90)</code></pre>
<div id="htmlwidget-2a14486ecb6701afbca6" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-2a14486ecb6701afbca6" id="htmlwidget-2a14486ecb6701afbca6-script"></script>
<h4>
See also
</h4>
<p>Other layer functions: <code><a href=#ly_abline>ly_abline</a></code>, <code><a href=#ly_annular_wedge>ly_annular_wedge</a></code>, <code><a href=#ly_annulus>ly_annulus</a></code>, <code><a href=#ly_arc>ly_arc</a></code>, <code><a href=#ly_bezier>ly_bezier</a></code>, <code><a href=#ly_boxplot>ly_boxplot</a></code>, <code><a href=#ly_contour>ly_contour</a></code>, <code><a href=#ly_crect>ly_crect</a></code>, <code><a href=#ly_curve>ly_curve</a></code>, <code><a href=#ly_density>ly_density</a></code>, <code><a href=#ly_hist>ly_hist</a></code>, <code><a href=#ly_image_url>ly_image_url</a></code>, <code><a href=#ly_image>ly_image</a></code>, <code><a href=#ly_lines>ly_lines</a></code>, <code><a href=#ly_map>ly_map</a></code>, <code><a href=#ly_multi_line>ly_multi_line</a></code>, <code><a href=#ly_oval>ly_oval</a></code>, <code><a href=#ly_patch>ly_patch</a></code>, <code><a href=#ly_points>ly_points</a></code>, <code><a href=#ly_polygons>ly_polygons</a></code>, <code><a href=#ly_quadratic>ly_quadratic</a></code>, <code><a href=#ly_quantile>ly_quantile</a></code>, <code><a href=#ly_ray>ly_ray</a></code>, <code><a href=#ly_rect>ly_rect</a></code>, <code><a href=#ly_segments>ly_segments</a></code>, <code><a href=#ly_text>ly_text</a></code>, <code><a href=#ly_wedge>ly_wedge</a></code></p>
</div>
</div>
<div id="finer-control" class="section level1">
<h1>Finer Control</h1>
<div id="x_axis" class="section level2">
<h2>x_axis</h2>
<a id="x_axis_alias"></a>
<h3>
Customize x axis of a Bokeh figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>x_axis(fig, label, position&nbsp;=&nbsp;"below", log&nbsp;=&nbsp;FALSE, grid&nbsp;=&nbsp;TRUE, desired_num_ticks&nbsp;=&nbsp;NULL, num_minor_ticks&nbsp;=&nbsp;5, visible&nbsp;=&nbsp;TRUE, number_formatter&nbsp;=&nbsp;c("basic", "numeral", "printf"), power_limit_high&nbsp;=&nbsp;5, power_limit_low&nbsp;=&nbsp;-3, precision&nbsp;=&nbsp;NULL, use_scientific&nbsp;=&nbsp;TRUE, format&nbsp;=&nbsp;NULL)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
label
</dt>
<dd class="rd-dd">
axis label
</dd>
<dt>
position
</dt>
<dd class="rd-dd">
where to place the axis (either “above” or “below”)
</dd>
<dt>
log
</dt>
<dd class="rd-dd">
logical or integer - if TRUE, a log axis with base 10 is used - if an integer, a log axis with base of that integer will be used
</dd>
<dt>
grid
</dt>
<dd class="rd-dd">
logical - should a reference grid be shown for this axis?
</dd>
<dt>
desired_num_ticks
</dt>
<dd class="rd-dd">
desired target number of major tick positions to generate across the plot range
</dd>
<dt>
num_minor_ticks
</dt>
<dd class="rd-dd">
number of minor ticks
</dd>
<dt>
visible
</dt>
<dd class="rd-dd">
should axis be shown?
</dd>
<dt>
number_formatter
</dt>
<dd class="rd-dd">
Bokeh numeric tick label formatter (<a href = http://bokeh.pydata.org/en/latest/docs/reference/models.html#bokeh.models.formatters.BasicTickFormatter>“basic”</a>, <a href = http://bokeh.pydata.org/en/latest/docs/reference/models.html#bokeh.models.formatters.NumeralTickFormatter>“numeral”</a>, or <a href = http://bokeh.pydata.org/en/latest/docs/reference/models.html#bokeh.models.formatters.PrintfTickFormatter>“printf”</a>); ignored if <code>log</code> is TRUE
</dd>
<dt>
power_limit_high
</dt>
<dd class="rd-dd">
(int) Limit the use of scientific notation to when log(x) &gt;= value. Only applicable when <code>number_formatter</code> is “basic”.
</dd>
<dt>
power_limit_low
</dt>
<dd class="rd-dd">
(int) Limit the use of scientific notation to when log(x) &lt;= value. Only applicable when <code>number_formatter</code> is “basic”.
</dd>
<dt>
precision
</dt>
<dd class="rd-dd">
(int) How many digits of precision to display in tick labels. Automatically determined if not specified. Only applicable when <code>number_formatter</code> is “basic”.
</dd>
<dt>
use_scientific
</dt>
<dd class="rd-dd">
(logical) Whether to ever display scientific notation. If True, then when to use scientific notation is controlled by <code>power_limit_low</code> and <code>power_limit_high</code>. Only applicable when <code>number_formatter</code> is “basic”.
</dd>
<dt>
format
</dt>
<dd class="rd-dd">
Specification of format options. Specification depends on the value of <code>number_formatter</code> - see “details” below.
</dd>
</dl>
<h4>
Details
</h4>
<p class="rd-p">
<code>format</code> parameter: When <code>number_formatter</code> is “basic” and the axis type is datetime, <code>format</code> specifies how to display tick values from a continuous range as formatted datetimes. See <a href = http://bokeh.pydata.org/en/latest/docs/reference/models.html#bokeh.models.formatters.DatetimeTickFormatter>DatetimeTickFormatter</a> When <code>number_formatter</code> is “numeral”, <code>format</code> specifies a human-readable format string. See <a href = http://bokeh.pydata.org/en/latest/docs/reference/models.html#bokeh.models.formatters.NumeralTickFormatter>NumeralTickFormatter</a>. When <code>number_formatter</code> is “printf”, <code>format</code> is a printf-style format string. See <a href = http://bokeh.pydata.org/en/latest/docs/reference/models.html#bokeh.models.formatters.PrintfTickFormatter>PrintfTickFormatter</a>.
</p>
<h4>
Examples
</h4>
<pre class="r"><code>figure() %&gt;%
  ly_points(rexp(1000), rexp(1000)) %&gt;%
  x_axis(label = &quot;x&quot;, log = TRUE) %&gt;%
  y_axis(label = &quot;y&quot;, log = TRUE)</code></pre>
<div id="htmlwidget-58e93ac94edf7ed1df3a" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-58e93ac94edf7ed1df3a" id="htmlwidget-58e93ac94edf7ed1df3a-script"></script>
<pre class="r"><code>figure() %&gt;%
  ly_points(2 ^ (1:10)) %&gt;%
  y_axis(log = 2)</code></pre>
<div id="htmlwidget-9ec8f25f1e93db8ddf7b" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-9ec8f25f1e93db8ddf7b" id="htmlwidget-9ec8f25f1e93db8ddf7b-script"></script>
<pre class="r"><code># disable scientific tick labels
figure() %&gt;%
  ly_points(rnorm(10), rnorm(10) / 1000) %&gt;%
  y_axis(use_scientific = FALSE)</code></pre>
<div id="htmlwidget-92ede9a3cde65f0f70c9" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-92ede9a3cde65f0f70c9" id="htmlwidget-92ede9a3cde65f0f70c9-script"></script>
<pre class="r"><code># specify datetime tick labels
# the appropriate datetime units are automatically chosen
big_range &lt;- seq(as.Date(&quot;2012-01-01&quot;), as.Date(&quot;2012-12-31&quot;), by = &quot;days&quot;)
small_range &lt;- seq(as.Date(&quot;2012-01-01&quot;), as.Date(&quot;2012-02-01&quot;), by = &quot;days&quot;)

figure() %&gt;%
  ly_lines(big_range, rnorm(366)) %&gt;%
  x_axis(label = &quot;Date&quot;, format = list(months = &quot;%b-%Y&quot;, days = &quot;%d&quot;))</code></pre>
<div id="htmlwidget-b64857c9d1fbcc90886c" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-b64857c9d1fbcc90886c" id="htmlwidget-b64857c9d1fbcc90886c-script"></script>
<pre class="r"><code>figure() %&gt;%
  ly_lines(small_range, rnorm(32)) %&gt;%
  x_axis(label = &quot;Date&quot;, format = list(months = &quot;%b-%Y&quot;, days = &quot;%d&quot;))</code></pre>
<div id="htmlwidget-b083bb9fc807f8270d67" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-b083bb9fc807f8270d67" id="htmlwidget-b083bb9fc807f8270d67-script"></script>
<pre class="r"><code># specify numeric tick labels
figure() %&gt;%
  ly_points(rnorm(10), rnorm(10) * 10000) %&gt;%
  y_axis(number_formatter = &quot;numeral&quot;, format = &quot;0,000&quot;)</code></pre>
<div id="htmlwidget-76d3c0f330c18f22e612" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-76d3c0f330c18f22e612" id="htmlwidget-76d3c0f330c18f22e612-script"></script>
<pre class="r"><code>figure() %&gt;%
  ly_points(rnorm(10), rnorm(10) * 100) %&gt;%
  y_axis(number_formatter = &quot;printf&quot;, format = &quot;%0.1f%%&quot;)</code></pre>
<div id="htmlwidget-7fb74c670e24695d9648" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-7fb74c670e24695d9648" id="htmlwidget-7fb74c670e24695d9648-script"></script>
<h4>
See also
</h4>
<p>Other axes: <code><a href=#y_axis>y_axis</a></code></p>
</div>
<div id="x_range" class="section level2">
<h2>x_range</h2>
<a id="x_range_alias"></a>
<h3>
Update x axis range in a Bokeh figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>x_range(fig, dat&nbsp;=&nbsp;NULL, callback&nbsp;=&nbsp;NULL)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
dat
</dt>
<dd class="rd-dd">
either a vector (min, max) if the axis is numeric, or a vector of values if the axis is categorical. In the latter case, the order in which the values are supplied is how they will be arranged on the axis.
</dd>
<dt>
callback
</dt>
<dd class="rd-dd">
TODO
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code># get data from Duluth site in &#39;barley&#39; data
du &lt;- subset(lattice::barley, site == &quot;Duluth&quot;)

# plot with default ranges
p &lt;- figure(width = 600) %&gt;%
  ly_points(yield, variety, color = year, data = du)
p</code></pre>
<div id="htmlwidget-4ca6da87cf732480f188" style="width:600px;height:500px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-4ca6da87cf732480f188" id="htmlwidget-4ca6da87cf732480f188-script"></script>
<pre class="r"><code># y axis is alphabetical

# manually set x and y axis (y in order of 1932 yield)
p %&gt;%
  x_range(c(20, 40)) %&gt;%
  y_range(du$variety[order(subset(du, year == 1932)$yield)])</code></pre>
<div id="htmlwidget-9c972006c3ca0711bc6c" style="width:600px;height:500px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-9c972006c3ca0711bc6c" id="htmlwidget-9c972006c3ca0711bc6c-script"></script>
<h4>
See also
</h4>
<p>Other ranges: <code><a href=#y_range>y_range</a></code></p>
</div>
<div id="y_axis" class="section level2">
<h2>y_axis</h2>
<a id="y_axis_alias"></a>
<h3>
Customize x axis of a Bokeh figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>y_axis(fig, label, position&nbsp;=&nbsp;"left", log&nbsp;=&nbsp;FALSE, grid&nbsp;=&nbsp;TRUE, desired_num_ticks&nbsp;=&nbsp;NULL, num_minor_ticks&nbsp;=&nbsp;5, visible&nbsp;=&nbsp;TRUE, number_formatter&nbsp;=&nbsp;c("basic", "numeral", "printf"), power_limit_high&nbsp;=&nbsp;5, power_limit_low&nbsp;=&nbsp;-3, precision&nbsp;=&nbsp;NULL, use_scientific&nbsp;=&nbsp;TRUE, format&nbsp;=&nbsp;NULL)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
label
</dt>
<dd class="rd-dd">
axis label
</dd>
<dt>
position
</dt>
<dd class="rd-dd">
where to place the axis (either “left” or “right”)
</dd>
<dt>
log
</dt>
<dd class="rd-dd">
logical or integer - if TRUE, a log axis with base 10 is used - if an integer, a log axis with base of that integer will be used
</dd>
<dt>
grid
</dt>
<dd class="rd-dd">
logical - should a reference grid be shown for this axis?
</dd>
<dt>
desired_num_ticks
</dt>
<dd class="rd-dd">
desired target number of major tick positions to generate across the plot range
</dd>
<dt>
num_minor_ticks
</dt>
<dd class="rd-dd">
number of minor ticks
</dd>
<dt>
visible
</dt>
<dd class="rd-dd">
should axis be shown?
</dd>
<dt>
number_formatter
</dt>
<dd class="rd-dd">
Bokeh numeric tick label formatter (<a href = http://bokeh.pydata.org/en/latest/docs/reference/models.html#bokeh.models.formatters.BasicTickFormatter>“basic”</a>, <a href = http://bokeh.pydata.org/en/latest/docs/reference/models.html#bokeh.models.formatters.NumeralTickFormatter>“numeral”</a>, or <a href = http://bokeh.pydata.org/en/latest/docs/reference/models.html#bokeh.models.formatters.PrintfTickFormatter>“printf”</a>); ignored if <code>log</code> is TRUE
</dd>
<dt>
power_limit_high
</dt>
<dd class="rd-dd">
(int) Limit the use of scientific notation to when log(x) &gt;= value. Only applicable when <code>number_formatter</code> is “basic”.
</dd>
<dt>
power_limit_low
</dt>
<dd class="rd-dd">
(int) Limit the use of scientific notation to when log(x) &lt;= value. Only applicable when <code>number_formatter</code> is “basic”.
</dd>
<dt>
precision
</dt>
<dd class="rd-dd">
(int) How many digits of precision to display in tick labels. Automatically determined if not specified. Only applicable when <code>number_formatter</code> is “basic”.
</dd>
<dt>
use_scientific
</dt>
<dd class="rd-dd">
(logical) Whether to ever display scientific notation. If True, then when to use scientific notation is controlled by <code>power_limit_low</code> and <code>power_limit_high</code>. Only applicable when <code>number_formatter</code> is “basic”.
</dd>
<dt>
format
</dt>
<dd class="rd-dd">
Specification of format options. Specification depends on the value of <code>number_formatter</code> - see “details” below.
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code>figure() %&gt;%
  ly_points(rexp(1000), rexp(1000)) %&gt;%
  x_axis(label = &quot;x&quot;, log = TRUE) %&gt;%
  y_axis(label = &quot;y&quot;, log = TRUE)</code></pre>
<div id="htmlwidget-eae5b696165923f96275" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-eae5b696165923f96275" id="htmlwidget-eae5b696165923f96275-script"></script>
<pre class="r"><code>figure() %&gt;%
  ly_points(2 ^ (1:10)) %&gt;%
  y_axis(log = 2)</code></pre>
<div id="htmlwidget-0b4afd2aa9e430c72d76" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-0b4afd2aa9e430c72d76" id="htmlwidget-0b4afd2aa9e430c72d76-script"></script>
<pre class="r"><code># disable scientific tick labels
figure() %&gt;%
  ly_points(rnorm(10), rnorm(10) / 1000) %&gt;%
  y_axis(use_scientific = FALSE)</code></pre>
<div id="htmlwidget-90b1209f17c5a4f94ba4" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-90b1209f17c5a4f94ba4" id="htmlwidget-90b1209f17c5a4f94ba4-script"></script>
<pre class="r"><code># specify datetime tick labels
# the appropriate datetime units are automatically chosen
big_range &lt;- seq(as.Date(&quot;2012-01-01&quot;), as.Date(&quot;2012-12-31&quot;), by = &quot;days&quot;)
small_range &lt;- seq(as.Date(&quot;2012-01-01&quot;), as.Date(&quot;2012-02-01&quot;), by = &quot;days&quot;)

figure() %&gt;%
  ly_lines(big_range, rnorm(366)) %&gt;%
  x_axis(label = &quot;Date&quot;, format = list(months = &quot;%b-%Y&quot;, days = &quot;%d&quot;))</code></pre>
<div id="htmlwidget-5251a2c9d8eee8a70c48" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-5251a2c9d8eee8a70c48" id="htmlwidget-5251a2c9d8eee8a70c48-script"></script>
<pre class="r"><code>figure() %&gt;%
  ly_lines(small_range, rnorm(32)) %&gt;%
  x_axis(label = &quot;Date&quot;, format = list(months = &quot;%b-%Y&quot;, days = &quot;%d&quot;))</code></pre>
<div id="htmlwidget-a063ccaddadd5129adb5" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-a063ccaddadd5129adb5" id="htmlwidget-a063ccaddadd5129adb5-script"></script>
<pre class="r"><code># specify numeric tick labels
figure() %&gt;%
  ly_points(rnorm(10), rnorm(10) * 10000) %&gt;%
  y_axis(number_formatter = &quot;numeral&quot;, format = &quot;0,000&quot;)</code></pre>
<div id="htmlwidget-b1bbdf4dcdf90941ea47" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-b1bbdf4dcdf90941ea47" id="htmlwidget-b1bbdf4dcdf90941ea47-script"></script>
<pre class="r"><code>figure() %&gt;%
  ly_points(rnorm(10), rnorm(10) * 100) %&gt;%
  y_axis(number_formatter = &quot;printf&quot;, format = &quot;%0.1f%%&quot;)</code></pre>
<div id="htmlwidget-82a28616721b57a6cc91" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-82a28616721b57a6cc91" id="htmlwidget-82a28616721b57a6cc91-script"></script>
<h4>
See also
</h4>
<p>Other axes: <code><a href=#x_axis>x_axis</a></code></p>
</div>
<div id="y_range" class="section level2">
<h2>y_range</h2>
<a id="y_range_alias"></a>
<h3>
Update y axis range in a Bokeh figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>y_range(fig, dat&nbsp;=&nbsp;NULL, callback&nbsp;=&nbsp;NULL)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
dat
</dt>
<dd class="rd-dd">
either a vector (min, max) if the axis is numeric, or a vector of values if the axis is categorical. In the latter case, the order in which the values are supplied is how they will be arranged on the axis.
</dd>
<dt>
callback
</dt>
<dd class="rd-dd">
TODO
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code># get data from Duluth site in &#39;barley&#39; data
du &lt;- subset(lattice::barley, site == &quot;Duluth&quot;)

# plot with default ranges
p &lt;- figure(width = 600) %&gt;%
  ly_points(yield, variety, color = year, data = du)
p</code></pre>
<div id="htmlwidget-5346bc2579926b14de04" style="width:600px;height:500px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-5346bc2579926b14de04" id="htmlwidget-5346bc2579926b14de04-script"></script>
<pre class="r"><code># y axis is alphabetical

# manually set x and y axis (y in order of 1932 yield)
p %&gt;%
  x_range(c(20, 40)) %&gt;%
  y_range(du$variety[order(subset(du, year == 1932)$yield)])</code></pre>
<div id="htmlwidget-031411b0afdeef579d1b" style="width:600px;height:500px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-031411b0afdeef579d1b" id="htmlwidget-031411b0afdeef579d1b-script"></script>
<h4>
See also
</h4>
<p>Other ranges: <code><a href=#x_range>x_range</a></code></p>
</div>
</div>
<div id="themes" class="section level1">
<h1>Themes</h1>
<div id="set_theme" class="section level2">
<h2>set_theme</h2>
<a id="set_theme_alias"></a>
<h3>
Set the theme for a figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>set_theme(fig, theme)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
a figure to set the theme for
</dd>
<dt>
theme
</dt>
<dd class="rd-dd">
theme
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code># manually specify a ggplot-like grid and background
figure() %&gt;%
  ly_points(1:10) %&gt;%
  theme_plot(background_fill_color = &quot;#E6E6E6&quot;,
    outline_line_color = &quot;white&quot;) %&gt;%
  theme_grid(c(&quot;x&quot;, &quot;y&quot;), grid_line_color = &quot;white&quot;,
    minor_grid_line_color = &quot;white&quot;,
    minor_grid_line_alpha = 0.4) %&gt;%
  theme_axis(c(&quot;x&quot;, &quot;y&quot;), axis_line_color = &quot;white&quot;,
    major_label_text_color = &quot;#7F7F7F&quot;,
    major_tick_line_color = &quot;#7F7F7F&quot;,
    minor_tick_line_alpha = 0, num_minor_ticks = 2)</code></pre>
<div id="htmlwidget-ce6a1170ea03ce30e419" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-ce6a1170ea03ce30e419" id="htmlwidget-ce6a1170ea03ce30e419-script"></script>
<pre class="r"><code># or use the built in ggplot theme (under development)
figure(data = iris, legend = &quot;top_left&quot;, tools = NULL) %&gt;%
  ly_points(Sepal.Length, Petal.Length, color = Species) %&gt;%
  set_theme(bk_ggplot_theme)</code></pre>
<div id="htmlwidget-6cfbb1bddb0b50c94299" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-6cfbb1bddb0b50c94299" id="htmlwidget-6cfbb1bddb0b50c94299-script"></script>
<pre class="r"><code>## Not run: 
# # or to set the theme for all future plots
# options(bokeh_theme = bk_ggplot_theme)
# 
# figure() %&gt;%
#   ly_points(1:10)
# 
# figure() %&gt;%
#   ly_boxplot(1:10)
# ## End(Not run)</code></pre>
</div>
<div id="theme_axis" class="section level2">
<h2>theme_axis</h2>
<a id="theme_axis_alias"></a>
<h3>
Override theme parameters for axis attributes
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>theme_axis(fig, which&nbsp;=&nbsp;c("x", "y"), num_minor_ticks&nbsp;=&nbsp;5, axis_label_standoff&nbsp;=&nbsp;NULL, axis_label_text_align&nbsp;=&nbsp;"left", axis_label_text_alpha&nbsp;=&nbsp;1, axis_label_text_baseline&nbsp;=&nbsp;"bottom", axis_label_text_color&nbsp;=&nbsp;"#444444", axis_label_text_font&nbsp;=&nbsp;"Helvetica", axis_label_text_font_size&nbsp;=&nbsp;"12pt", axis_label_text_font_style&nbsp;=&nbsp;"normal", axis_line_alpha&nbsp;=&nbsp;1, axis_line_cap&nbsp;=&nbsp;"butt", axis_line_color&nbsp;=&nbsp;"black", axis_line_dash&nbsp;=&nbsp;NULL, axis_line_dash_offset&nbsp;=&nbsp;0, axis_line_join&nbsp;=&nbsp;"miter", axis_line_width&nbsp;=&nbsp;1, major_label_orientation&nbsp;=&nbsp;"horizontal", major_label_standoff&nbsp;=&nbsp;NULL, major_label_text_align&nbsp;=&nbsp;"left", major_label_text_alpha&nbsp;=&nbsp;1, major_label_text_baseline&nbsp;=&nbsp;"bottom", major_label_text_color&nbsp;=&nbsp;"#444444", major_label_text_font&nbsp;=&nbsp;"Helvetica", major_label_text_font_size&nbsp;=&nbsp;"12pt", major_label_text_font_style&nbsp;=&nbsp;"normal", major_tick_in&nbsp;=&nbsp;NULL, major_tick_line_alpha&nbsp;=&nbsp;1, major_tick_line_cap&nbsp;=&nbsp;"butt", major_tick_line_color&nbsp;=&nbsp;"black", major_tick_line_dash&nbsp;=&nbsp;NULL, major_tick_line_dash_offset&nbsp;=&nbsp;0, major_tick_line_join&nbsp;=&nbsp;"miter", major_tick_line_width&nbsp;=&nbsp;1, major_tick_out&nbsp;=&nbsp;NULL, minor_tick_in&nbsp;=&nbsp;NULL, minor_tick_line_alpha&nbsp;=&nbsp;1, minor_tick_line_cap&nbsp;=&nbsp;"butt", minor_tick_line_color&nbsp;=&nbsp;"black", minor_tick_line_dash&nbsp;=&nbsp;NULL, minor_tick_line_dash_offset&nbsp;=&nbsp;0, minor_tick_line_join&nbsp;=&nbsp;"miter", minor_tick_line_width&nbsp;=&nbsp;1, minor_tick_out&nbsp;=&nbsp;NULL, pars&nbsp;=&nbsp;NULL)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
which
</dt>
<dd class="rd-dd">
which grids to apply attributes to (“x” and/or “y”)
</dd>
<dt>
num_minor_ticks
</dt>
<dd class="rd-dd">
number of minor ticks
</dd>
<dt>
axis_label_standoff
</dt>
<dd class="rd-dd">
(integer) The distance in pixels that the axis labels should be offset from the tick labels.
</dd>
<dt>
axis_label_text_align
</dt>
<dd class="rd-dd">
(left, right, center) The text align of the axis label.
</dd>
<dt>
axis_label_text_alpha
</dt>
<dd class="rd-dd">
(numeric) The text alpha of the axis label.
</dd>
<dt>
axis_label_text_baseline
</dt>
<dd class="rd-dd">
(top, middle, bottom, alphabetic, hanging) The text baseline of the axis label.
</dd>
<dt>
axis_label_text_color
</dt>
<dd class="rd-dd">
(color) The text color of the axis label.
</dd>
<dt>
axis_label_text_font
</dt>
<dd class="rd-dd">
(string) The text font of the axis label.
</dd>
<dt>
axis_label_text_font_size
</dt>
<dd class="rd-dd">
(string - e.g. 12pt) The text font size of the axis label.
</dd>
<dt>
axis_label_text_font_style
</dt>
<dd class="rd-dd">
(normal, italic, bold) The text font style of the axis label.
</dd>
<dt>
axis_line_alpha
</dt>
<dd class="rd-dd">
(numeric) The line alpha of the axis line.
</dd>
<dt>
axis_line_cap
</dt>
<dd class="rd-dd">
(butt, round, square) The line cap of the axis line.
</dd>
<dt>
axis_line_color
</dt>
<dd class="rd-dd">
(color) The line color of the axis line.
</dd>
<dt>
axis_line_dash
</dt>
<dd class="rd-dd">
The line dash of the axis line.
</dd>
<dt>
axis_line_dash_offset
</dt>
<dd class="rd-dd">
(integer) The line dash offset of the axis line.
</dd>
<dt>
axis_line_join
</dt>
<dd class="rd-dd">
(miter, round, bevel) The line join of the axis line.
</dd>
<dt>
axis_line_width
</dt>
<dd class="rd-dd">
(integer) The line width of the axis line.
</dd>
<dt>
major_label_orientation
</dt>
<dd class="rd-dd">
(horizontal, vertical, or angle in degrees) What direction the major label text should be oriented. If a number is supplied, the angle of the text is measured from horizontal.
</dd>
<dt>
major_label_standoff
</dt>
<dd class="rd-dd">
(integer) The distance in pixels that the major tick labels should be offset from the associated ticks.
</dd>
<dt>
major_label_text_align
</dt>
<dd class="rd-dd">
(left, right, center) The text align of the major tick labels.
</dd>
<dt>
major_label_text_alpha
</dt>
<dd class="rd-dd">
(numeric) The text alpha of the major tick labels.
</dd>
<dt>
major_label_text_baseline
</dt>
<dd class="rd-dd">
(top, middle, bottom, alphabetic, hanging) The text baseline of the major tick labels.
</dd>
<dt>
major_label_text_color
</dt>
<dd class="rd-dd">
(color) The text color of the major tick labels.
</dd>
<dt>
major_label_text_font
</dt>
<dd class="rd-dd">
(string - Helvetica) The text font of the major tick labels.
</dd>
<dt>
major_label_text_font_size
</dt>
<dd class="rd-dd">
(string - e.g. 12pt) The text font size of the major tick labels.
</dd>
<dt>
major_label_text_font_style
</dt>
<dd class="rd-dd">
(normal, italic, bold) The text font style of the major tick labels.
</dd>
<dt>
major_tick_in
</dt>
<dd class="rd-dd">
(integer) The distance in pixels that major ticks should extend into the main plot area.
</dd>
<dt>
major_tick_line_alpha
</dt>
<dd class="rd-dd">
(numeric) The line alpha of the major ticks.
</dd>
<dt>
major_tick_line_cap
</dt>
<dd class="rd-dd">
(butt, round, square) The line cap of the major ticks.
</dd>
<dt>
major_tick_line_color
</dt>
<dd class="rd-dd">
(color) The line color of the major ticks.
</dd>
<dt>
major_tick_line_dash
</dt>
<dd class="rd-dd">
The line dash of the major ticks.
</dd>
<dt>
major_tick_line_dash_offset
</dt>
<dd class="rd-dd">
(integer) The line dash offset of the major ticks.
</dd>
<dt>
major_tick_line_join
</dt>
<dd class="rd-dd">
(miter, round, bevel) The line join of the major ticks.
</dd>
<dt>
major_tick_line_width
</dt>
<dd class="rd-dd">
(integer) The line width of the major ticks.
</dd>
<dt>
major_tick_out
</dt>
<dd class="rd-dd">
(integer) The distance in pixels that major ticks should extend out of the main plot area.
</dd>
<dt>
minor_tick_in
</dt>
<dd class="rd-dd">
(integer) The distance in pixels that minor ticks should extend into the main plot area.
</dd>
<dt>
minor_tick_line_alpha
</dt>
<dd class="rd-dd">
(numeric) The line alpha of the minor ticks.
</dd>
<dt>
minor_tick_line_cap
</dt>
<dd class="rd-dd">
(butt, round, square) The line cap of the minor ticks.
</dd>
<dt>
minor_tick_line_color
</dt>
<dd class="rd-dd">
(color) The line color of the minor ticks.
</dd>
<dt>
minor_tick_line_dash
</dt>
<dd class="rd-dd">
The line dash of the minor ticks.
</dd>
<dt>
minor_tick_line_dash_offset
</dt>
<dd class="rd-dd">
(integer) The line dash offset of the minor ticks.
</dd>
<dt>
minor_tick_line_join
</dt>
<dd class="rd-dd">
(miter, round, bevel) The line join of the minor ticks.
</dd>
<dt>
minor_tick_line_width
</dt>
<dd class="rd-dd">
(integer) The line width of the minor ticks.
</dd>
<dt>
minor_tick_out
</dt>
<dd class="rd-dd">
(integer) The distance in pixels that major ticks should extend out of the main plot area.
</dd>
<dt>
pars
</dt>
<dd class="rd-dd">
optionally specify a named list of all parameters - useful when dealing with theme lists
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code># manually specify a ggplot-like grid and background
figure() %&gt;%
  ly_points(1:10) %&gt;%
  theme_plot(background_fill_color = &quot;#E6E6E6&quot;,
    outline_line_color = &quot;white&quot;) %&gt;%
  theme_grid(c(&quot;x&quot;, &quot;y&quot;), grid_line_color = &quot;white&quot;,
    minor_grid_line_color = &quot;white&quot;,
    minor_grid_line_alpha = 0.4) %&gt;%
  theme_axis(c(&quot;x&quot;, &quot;y&quot;), axis_line_color = &quot;white&quot;,
    major_label_text_color = &quot;#7F7F7F&quot;,
    major_tick_line_color = &quot;#7F7F7F&quot;,
    minor_tick_line_alpha = 0, num_minor_ticks = 2)</code></pre>
<div id="htmlwidget-9c5273efca0478ed0cf2" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-9c5273efca0478ed0cf2" id="htmlwidget-9c5273efca0478ed0cf2-script"></script>
<pre class="r"><code># or use the built in ggplot theme (under development)
figure(data = iris, legend = &quot;top_left&quot;, tools = NULL) %&gt;%
  ly_points(Sepal.Length, Petal.Length, color = Species) %&gt;%
  set_theme(bk_ggplot_theme)</code></pre>
<div id="htmlwidget-cba4517e9bd4954b34f9" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-cba4517e9bd4954b34f9" id="htmlwidget-cba4517e9bd4954b34f9-script"></script>
<pre class="r"><code>## Not run: 
# # or to set the theme for all future plots
# options(bokeh_theme = bk_ggplot_theme)
# 
# figure() %&gt;%
#   ly_points(1:10)
# 
# figure() %&gt;%
#   ly_boxplot(1:10)
# ## End(Not run)</code></pre>
</div>
<div id="theme_grid" class="section level2">
<h2>theme_grid</h2>
<a id="theme_grid_alias"></a>
<h3>
Override theme parameters for grid attributes
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>theme_grid(fig, which&nbsp;=&nbsp;c("x", "y"), band_fill_alpha&nbsp;=&nbsp;1, band_fill_color&nbsp;=&nbsp;"gray", grid_line_alpha&nbsp;=&nbsp;1, grid_line_cap&nbsp;=&nbsp;"butt", grid_line_color&nbsp;=&nbsp;"black", grid_line_dash&nbsp;=&nbsp;NULL, grid_line_dash_offset&nbsp;=&nbsp;0, grid_line_join&nbsp;=&nbsp;"miter", grid_line_width&nbsp;=&nbsp;1, minor_grid_line_alpha&nbsp;=&nbsp;1, minor_grid_line_cap&nbsp;=&nbsp;"butt", minor_grid_line_color&nbsp;=&nbsp;"black", minor_grid_line_dash&nbsp;=&nbsp;NULL, minor_grid_line_dash_offset&nbsp;=&nbsp;0, minor_grid_line_join&nbsp;=&nbsp;"miter", minor_grid_line_width&nbsp;=&nbsp;1, pars&nbsp;=&nbsp;NULL)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
which
</dt>
<dd class="rd-dd">
which grids to apply attributes to (“x” and/or “y”)
</dd>
<dt>
band_fill_alpha
</dt>
<dd class="rd-dd">
The fill alpha of alternating bands between Grid lines.
</dd>
<dt>
band_fill_color
</dt>
<dd class="rd-dd">
The fill color of alternating bands between Grid lines.
</dd>
<dt>
grid_line_alpha
</dt>
<dd class="rd-dd">
The line alpha of the Grid lines.
</dd>
<dt>
grid_line_cap
</dt>
<dd class="rd-dd">
(butt, round, square) The line cap of the Grid lines.
</dd>
<dt>
grid_line_color
</dt>
<dd class="rd-dd">
The line color of the Grid lines.
</dd>
<dt>
grid_line_dash
</dt>
<dd class="rd-dd">
The line dash of the Grid lines.
</dd>
<dt>
grid_line_dash_offset
</dt>
<dd class="rd-dd">
The line dash offset of the Grid lines.
</dd>
<dt>
grid_line_join
</dt>
<dd class="rd-dd">
(miter, round, bevel) The line join of the Grid lines.
</dd>
<dt>
grid_line_width
</dt>
<dd class="rd-dd">
The line width of the Grid lines.
</dd>
<dt>
minor_grid_line_alpha
</dt>
<dd class="rd-dd">
The line alpha of the minor Grid lines.
</dd>
<dt>
minor_grid_line_cap
</dt>
<dd class="rd-dd">
(butt, round, square) The line cap of the minor Grid lines.
</dd>
<dt>
minor_grid_line_color
</dt>
<dd class="rd-dd">
The line color of the minor Grid lines.
</dd>
<dt>
minor_grid_line_dash
</dt>
<dd class="rd-dd">
The line dash of the minor Grid lines.
</dd>
<dt>
minor_grid_line_dash_offset
</dt>
<dd class="rd-dd">
The line dash offset of the minor Grid lines.
</dd>
<dt>
minor_grid_line_join
</dt>
<dd class="rd-dd">
(miter, round, bevel) The line join of the minor Grid lines.
</dd>
<dt>
minor_grid_line_width
</dt>
<dd class="rd-dd">
The line width of the minor Grid lines.
</dd>
<dt>
pars
</dt>
<dd class="rd-dd">
optionally specify a named list of all parameters - useful when dealing with theme lists
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code># manually specify a ggplot-like grid and background
figure() %&gt;%
  ly_points(1:10) %&gt;%
  theme_plot(background_fill_color = &quot;#E6E6E6&quot;,
    outline_line_color = &quot;white&quot;) %&gt;%
  theme_grid(c(&quot;x&quot;, &quot;y&quot;), grid_line_color = &quot;white&quot;,
    minor_grid_line_color = &quot;white&quot;,
    minor_grid_line_alpha = 0.4) %&gt;%
  theme_axis(c(&quot;x&quot;, &quot;y&quot;), axis_line_color = &quot;white&quot;,
    major_label_text_color = &quot;#7F7F7F&quot;,
    major_tick_line_color = &quot;#7F7F7F&quot;,
    minor_tick_line_alpha = 0, num_minor_ticks = 2)</code></pre>
<div id="htmlwidget-5409eeeeba477ac8e13a" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-5409eeeeba477ac8e13a" id="htmlwidget-5409eeeeba477ac8e13a-script"></script>
<pre class="r"><code># or use the built in ggplot theme (under development)
figure(data = iris, legend = &quot;top_left&quot;, tools = NULL) %&gt;%
  ly_points(Sepal.Length, Petal.Length, color = Species) %&gt;%
  set_theme(bk_ggplot_theme)</code></pre>
<div id="htmlwidget-9f873f2f1849fd75ae98" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-9f873f2f1849fd75ae98" id="htmlwidget-9f873f2f1849fd75ae98-script"></script>
<pre class="r"><code>## Not run: 
# # or to set the theme for all future plots
# options(bokeh_theme = bk_ggplot_theme)
# 
# figure() %&gt;%
#   ly_points(1:10)
# 
# figure() %&gt;%
#   ly_boxplot(1:10)
# ## End(Not run)</code></pre>
</div>
<div id="theme_legend" class="section level2">
<h2>theme_legend</h2>
<a id="theme_legend_alias"></a>
<h3>
Override theme parameters for legend attributes
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>theme_legend(fig, background_fill_alpha&nbsp;=&nbsp;0.95, background_fill_color&nbsp;=&nbsp;"#fff", border_line_alpha&nbsp;=&nbsp;0.5, border_line_cap&nbsp;=&nbsp;"butt", border_line_color&nbsp;=&nbsp;"black", border_line_dash&nbsp;=&nbsp;NULL, border_line_dash_offset&nbsp;=&nbsp;0, border_line_join&nbsp;=&nbsp;"miter", border_line_width&nbsp;=&nbsp;1, glyph_height&nbsp;=&nbsp;20, glyph_width&nbsp;=&nbsp;20, label_height&nbsp;=&nbsp;20, label_standoff&nbsp;=&nbsp;15, label_text_align&nbsp;=&nbsp;"left", label_text_alpha&nbsp;=&nbsp;1, label_text_baseline&nbsp;=&nbsp;"bottom", label_text_color&nbsp;=&nbsp;"#444444", label_text_font&nbsp;=&nbsp;"Helvetica", label_text_font_size&nbsp;=&nbsp;"12pt", label_text_font_style&nbsp;=&nbsp;"normal", label_width&nbsp;=&nbsp;50, legend_padding&nbsp;=&nbsp;10, legend_spacing&nbsp;=&nbsp;3, pars&nbsp;=&nbsp;NULL)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
background_fill_alpha
</dt>
<dd class="rd-dd">
(numeric) background color alpha of plot
</dd>
<dt>
background_fill_color
</dt>
<dd class="rd-dd">
(color) background color of plot
</dd>
<dt>
border_line_alpha
</dt>
<dd class="rd-dd">
The line alpha for the legend border outline.
</dd>
<dt>
border_line_cap
</dt>
<dd class="rd-dd">
(butt, round, square) The line cap for the legend border outline.
</dd>
<dt>
border_line_color
</dt>
<dd class="rd-dd">
The line color for the legend border outline.
</dd>
<dt>
border_line_dash
</dt>
<dd class="rd-dd">
The line dash for the legend border outline.
</dd>
<dt>
border_line_dash_offset
</dt>
<dd class="rd-dd">
The line dash offset for the legend border outline.
</dd>
<dt>
border_line_join
</dt>
<dd class="rd-dd">
(miter, round, bevel) The line join for the legend border outline.
</dd>
<dt>
border_line_width
</dt>
<dd class="rd-dd">
The line width for the legend border outline.
</dd>
<dt>
glyph_height
</dt>
<dd class="rd-dd">
The height (in pixels) that the rendered legend glyph should occupy.
</dd>
<dt>
glyph_width
</dt>
<dd class="rd-dd">
The width (in pixels) that the rendered legend glyph should occupy.
</dd>
<dt>
label_height
</dt>
<dd class="rd-dd">
The height (in pixels) of the area that legend labels should occupy.
</dd>
<dt>
label_standoff
</dt>
<dd class="rd-dd">
The distance (in pixels) to separate the label from its associated glyph.
</dd>
<dt>
label_text_align
</dt>
<dd class="rd-dd">
(left, right, center) The text align for the legend labels.
</dd>
<dt>
label_text_alpha
</dt>
<dd class="rd-dd">
The text alpha for the legend labels.
</dd>
<dt>
label_text_baseline
</dt>
<dd class="rd-dd">
(top, middle, bottom, alphabetic, hanging) The text baseline for the legend labels.
</dd>
<dt>
label_text_color
</dt>
<dd class="rd-dd">
The text color for the legend labels.
</dd>
<dt>
label_text_font
</dt>
<dd class="rd-dd">
The text font for the legend labels.
</dd>
<dt>
label_text_font_size
</dt>
<dd class="rd-dd">
The text font size for the legend labels.
</dd>
<dt>
label_text_font_style
</dt>
<dd class="rd-dd">
(normal, italic, bold) The text font style for the legend labels.
</dd>
<dt>
label_width
</dt>
<dd class="rd-dd">
The width (in pixels) of the area that legend labels should occupy.
</dd>
<dt>
legend_padding
</dt>
<dd class="rd-dd">
Amount of padding around the legend.
</dd>
<dt>
legend_spacing
</dt>
<dd class="rd-dd">
Amount of spacing between legend entries.
</dd>
<dt>
pars
</dt>
<dd class="rd-dd">
optionally specify a named list of all parameters - useful when dealing with theme lists
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code>figure(legend_location = &quot;top_left&quot;) %&gt;%
  ly_points(1:10, legend = &quot;a&quot;) %&gt;%
  theme_legend(border_line_width = 2)</code></pre>
<div id="htmlwidget-538e9039332732c5d025" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-538e9039332732c5d025" id="htmlwidget-538e9039332732c5d025-script"></script>
</div>
<div id="theme_plot" class="section level2">
<h2>theme_plot</h2>
<a id="theme_plot_alias"></a>
<h3>
Override theme parameters for general plot attributes
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>theme_plot(fig, pars&nbsp;=&nbsp;NULL, background_fill_color&nbsp;=&nbsp;"white", background_fill_alpha&nbsp;=&nbsp;1, border_fill_color&nbsp;=&nbsp;"white", border_fill_alpha&nbsp;=&nbsp;1, outline_line_alpha&nbsp;=&nbsp;1, outline_line_cap&nbsp;=&nbsp;"butt", outline_line_color&nbsp;=&nbsp;"black", outline_line_dash&nbsp;=&nbsp;NULL, outline_line_dash_offset&nbsp;=&nbsp;0, outline_line_join&nbsp;=&nbsp;"miter", outline_line_width&nbsp;=&nbsp;1, min_border&nbsp;=&nbsp;50, min_border_bottom&nbsp;=&nbsp;50, min_border_left&nbsp;=&nbsp;50, min_border_right&nbsp;=&nbsp;50, min_border_top&nbsp;=&nbsp;50)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
pars
</dt>
<dd class="rd-dd">
optionally specify a named list of all parameters - useful when dealing with theme lists
</dd>
<dt>
background_fill_color
</dt>
<dd class="rd-dd">
(color) background color of plot
</dd>
<dt>
background_fill_alpha
</dt>
<dd class="rd-dd">
(numeric) background color alpha of plot
</dd>
<dt>
border_fill_color
</dt>
<dd class="rd-dd">
(color) fill color of border area of plot
</dd>
<dt>
border_fill_alpha
</dt>
<dd class="rd-dd">
(numeric) fill color alpha of border area of plot
</dd>
<dt>
outline_line_alpha
</dt>
<dd class="rd-dd">
(numeric) The line alpha for the plot border outline.
</dd>
<dt>
outline_line_cap
</dt>
<dd class="rd-dd">
(butt, round, square) The line cap for the plot border outline.
</dd>
<dt>
outline_line_color
</dt>
<dd class="rd-dd">
(color) The line color for the plot border outline.
</dd>
<dt>
outline_line_dash
</dt>
<dd class="rd-dd">
The line dash for the plot border outline.
</dd>
<dt>
outline_line_dash_offset
</dt>
<dd class="rd-dd">
(integer) The line dash offset for the plot border outline.
</dd>
<dt>
outline_line_join
</dt>
<dd class="rd-dd">
(miter, round, bevel) The line join for the plot border outline.
</dd>
<dt>
outline_line_width
</dt>
<dd class="rd-dd">
(integer) The line width for the plot border outline.
</dd>
<dt>
min_border
</dt>
<dd class="rd-dd">
(integer) A convenience property to set all all the min_X_border properties to the same value. If an individual border property is explicitly set, it will override min_border.
</dd>
<dt>
min_border_bottom
</dt>
<dd class="rd-dd">
(integer) Minimum size in pixels of the padding region below the bottom of the central plot region. This is a minimum. The padding region may expand as needed to accommodate titles or axes, etc.
</dd>
<dt>
min_border_left
</dt>
<dd class="rd-dd">
(integer) Minimum size in pixels of the padding region to the left of the central plot region. This is a minimum. The padding region may expand as needed to accommodate titles or axes, etc.
</dd>
<dt>
min_border_right
</dt>
<dd class="rd-dd">
(integer) Minimum size in pixels of the padding region to the right of the central plot region. This is a minimum. The padding region may expand as needed to accommodate titles or axes, etc.
</dd>
<dt>
min_border_top
</dt>
<dd class="rd-dd">
(integer) Minimum size in pixels of the padding region above the top of the central plot region. This is a minimum. The padding region may expand as needed to accommodate titles or axes, etc.
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code># manually specify a ggplot-like grid and background
figure() %&gt;%
  ly_points(1:10) %&gt;%
  theme_plot(background_fill_color = &quot;#E6E6E6&quot;,
    outline_line_color = &quot;white&quot;) %&gt;%
  theme_grid(c(&quot;x&quot;, &quot;y&quot;), grid_line_color = &quot;white&quot;,
    minor_grid_line_color = &quot;white&quot;,
    minor_grid_line_alpha = 0.4) %&gt;%
  theme_axis(c(&quot;x&quot;, &quot;y&quot;), axis_line_color = &quot;white&quot;,
    major_label_text_color = &quot;#7F7F7F&quot;,
    major_tick_line_color = &quot;#7F7F7F&quot;,
    minor_tick_line_alpha = 0, num_minor_ticks = 2)</code></pre>
<div id="htmlwidget-cffbaaedaf1b12062082" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-cffbaaedaf1b12062082" id="htmlwidget-cffbaaedaf1b12062082-script"></script>
<pre class="r"><code># or use the built in ggplot theme (under development)
figure(data = iris, legend = &quot;top_left&quot;, tools = NULL) %&gt;%
  ly_points(Sepal.Length, Petal.Length, color = Species) %&gt;%
  set_theme(bk_ggplot_theme)</code></pre>
<div id="htmlwidget-838b9ee5240c431aae81" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-838b9ee5240c431aae81" id="htmlwidget-838b9ee5240c431aae81-script"></script>
<pre class="r"><code>## Not run: 
# # or to set the theme for all future plots
# options(bokeh_theme = bk_ggplot_theme)
# 
# figure() %&gt;%
#   ly_points(1:10)
# 
# figure() %&gt;%
#   ly_boxplot(1:10)
# ## End(Not run)</code></pre>
</div>
<div id="theme_title" class="section level2">
<h2>theme_title</h2>
<a id="theme_title_alias"></a>
<h3>
Override theme parameters for general plot attributes
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>theme_title(fig, pars&nbsp;=&nbsp;NULL, background_fill_color&nbsp;=&nbsp;"white", background_fill_alpha&nbsp;=&nbsp;1, border_fill_color&nbsp;=&nbsp;"white", border_fill_alpha&nbsp;=&nbsp;1, text_align&nbsp;=&nbsp;"left", text_alpha&nbsp;=&nbsp;1, text_baseline&nbsp;=&nbsp;"bottom", text_color&nbsp;=&nbsp;"#444444", text_font&nbsp;=&nbsp;"Helvetica", text_font_size&nbsp;=&nbsp;"12pt", text_font_style&nbsp;=&nbsp;"normal")</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
pars
</dt>
<dd class="rd-dd">
optionally specify a named list of all parameters - useful when dealing with theme lists
</dd>
<dt>
background_fill_color
</dt>
<dd class="rd-dd">
(color) background color of plot
</dd>
<dt>
background_fill_alpha
</dt>
<dd class="rd-dd">
(numeric) background color alpha of plot
</dd>
<dt>
border_fill_color
</dt>
<dd class="rd-dd">
(color) fill color of border area of plot
</dd>
<dt>
border_fill_alpha
</dt>
<dd class="rd-dd">
(numeric) fill color alpha of border area of plot
</dd>
<dt>
text_align
</dt>
<dd class="rd-dd">
(left, right, center) The text align for the plot title.
</dd>
<dt>
text_alpha
</dt>
<dd class="rd-dd">
The text alpha for the plot title.
</dd>
<dt>
text_baseline
</dt>
<dd class="rd-dd">
(top, middle, bottom, alphabetic, hanging) The text baseline for the plot title.
</dd>
<dt>
text_color
</dt>
<dd class="rd-dd">
(color) The text color for the plot title.
</dd>
<dt>
text_font
</dt>
<dd class="rd-dd">
(string) The text font for the plot title.
</dd>
<dt>
text_font_size
</dt>
<dd class="rd-dd">
(string - e.g. 12pt) The text font size for the plot title.
</dd>
<dt>
text_font_style
</dt>
<dd class="rd-dd">
(normal, italic, bold) The text font style for the plot title.
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code>figure(title = &quot;asdf&quot;) %&gt;%
  ly_points(1:10) %&gt;%
  theme_title(text_color = &quot;red&quot;)</code></pre>
<div id="htmlwidget-6c3502a5827ea79676b0" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-6c3502a5827ea79676b0" id="htmlwidget-6c3502a5827ea79676b0-script"></script>
</div>
<div id="set_palette" class="section level2">
<h2>set_palette</h2>
<a id="set_palette_alias"></a>
<h3>
Set palettes for various plot attributes
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>set_palette(fig, discrete_color&nbsp;=&nbsp;NULL, discrete_alpha&nbsp;=&nbsp;NULL, continuous_color&nbsp;=&nbsp;NULL, continuous_alpha&nbsp;=&nbsp;NULL, discrete_glyph&nbsp;=&nbsp;NULL, discrete_fill_color&nbsp;=&nbsp;NULL, discrete_line_color&nbsp;=&nbsp;NULL, discrete_text_color&nbsp;=&nbsp;NULL, discrete_fill_alpha&nbsp;=&nbsp;NULL, discrete_line_alpha&nbsp;=&nbsp;NULL, discrete_text_alpha&nbsp;=&nbsp;NULL, discrete_line_dash&nbsp;=&nbsp;NULL, discrete_line_width&nbsp;=&nbsp;NULL, discrete_size&nbsp;=&nbsp;NULL, continuous_glyph&nbsp;=&nbsp;NULL, continuous_fill_color&nbsp;=&nbsp;NULL, continuous_line_color&nbsp;=&nbsp;NULL, continuous_text_color&nbsp;=&nbsp;NULL, continuous_fill_alpha&nbsp;=&nbsp;NULL, continuous_line_alpha&nbsp;=&nbsp;NULL, continuous_text_alpha&nbsp;=&nbsp;NULL, continuous_line_dash&nbsp;=&nbsp;NULL, continuous_line_width&nbsp;=&nbsp;NULL, continuous_size&nbsp;=&nbsp;NULL)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to update theme palettes for
</dd>
<dt>
discrete_color
</dt>
<dd class="rd-dd">
a discrete color palette to override the theme (see details)
</dd>
<dt>
discrete_alpha
</dt>
<dd class="rd-dd">
a discrete alpha palette to override the theme (see details)
</dd>
<dt>
continuous_color
</dt>
<dd class="rd-dd">
a continuous color palette to override the theme (see details)
</dd>
<dt>
continuous_alpha
</dt>
<dd class="rd-dd">
a continuous alpha palette to override the theme (see details)
</dd>
<dt>
discrete_glyph
</dt>
<dd class="rd-dd">
a discrete glyph palette to override the theme
</dd>
<dt>
discrete_fill_color
</dt>
<dd class="rd-dd">
a discrete fill_color palette to override the theme
</dd>
<dt>
discrete_line_color
</dt>
<dd class="rd-dd">
a discrete line_color palette to override the theme
</dd>
<dt>
discrete_text_color
</dt>
<dd class="rd-dd">
a discrete text_color palette to override the theme
</dd>
<dt>
discrete_fill_alpha
</dt>
<dd class="rd-dd">
a discrete fill_alpha palette to override the theme
</dd>
<dt>
discrete_line_alpha
</dt>
<dd class="rd-dd">
a discrete line_alpha palette to override the theme
</dd>
<dt>
discrete_text_alpha
</dt>
<dd class="rd-dd">
a discrete text_alpha palette to override the theme
</dd>
<dt>
discrete_line_dash
</dt>
<dd class="rd-dd">
a discrete line_dash palette to override the theme
</dd>
<dt>
discrete_line_width
</dt>
<dd class="rd-dd">
a discrete line_width palette to override the theme
</dd>
<dt>
discrete_size
</dt>
<dd class="rd-dd">
a discrete size palette to override the theme
</dd>
<dt>
continuous_glyph
</dt>
<dd class="rd-dd">
a continuous glyph palette to override the theme
</dd>
<dt>
continuous_fill_color
</dt>
<dd class="rd-dd">
a continuous fill_color palette to override the theme
</dd>
<dt>
continuous_line_color
</dt>
<dd class="rd-dd">
a continuous line_color palette to override the theme
</dd>
<dt>
continuous_text_color
</dt>
<dd class="rd-dd">
a continuous text_color palette to override the theme
</dd>
<dt>
continuous_fill_alpha
</dt>
<dd class="rd-dd">
a continuous fill_alpha palette to override the theme
</dd>
<dt>
continuous_line_alpha
</dt>
<dd class="rd-dd">
a continuous line_alpha palette to override the theme
</dd>
<dt>
continuous_text_alpha
</dt>
<dd class="rd-dd">
a continuous text_alpha palette to override the theme
</dd>
<dt>
continuous_line_dash
</dt>
<dd class="rd-dd">
a continuous line_dash palette to override the theme
</dd>
<dt>
continuous_line_width
</dt>
<dd class="rd-dd">
a continuous line_width palette to override the theme
</dd>
<dt>
continuous_size
</dt>
<dd class="rd-dd">
a continuous size palette to override the theme
</dd>
</dl>
<h4>
Details
</h4>
<p class="rd-p">
Palettes specified in this function will override the existing theme and apply the specified attributes when they are not otherwise explicitly specified in a layer function. See the contents of <code>bk_default_theme</code> for an example of the theme elements this will update. As a convenience, if you use <code>discrete_color</code>, the palette will apply to all the <code>discrete_***_color</code> attributes unless those are explicitly specified also. The same pattern is true for <code>discrete_alpha</code>, <code>continuous_color</code>, and <code>continuous_alpha</code>. For specifying discrete color palettes, the easiest thing to do is use <code><a href=#palettes>pal_color</a></code> with a vector of colors you want to use in the palette.
</p>
<h4>
Examples
</h4>
<pre class="r"><code>figure() %&gt;%
  ly_points(Sepal.Length, Sepal.Width, data = iris,
    color = Species, glyph = Species) %&gt;%
  set_palette(discrete_color = pal_color(c(&quot;red&quot;, &quot;blue&quot;, &quot;green&quot;)))</code></pre>
<div id="htmlwidget-a5b784c220ee01c7c3d4" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-a5b784c220ee01c7c3d4" id="htmlwidget-a5b784c220ee01c7c3d4-script"></script>
</div>
<div id="themes-1" class="section level2">
<h2>themes</h2>
<a id="themes_alias"></a>
<h3>
Themes
</h3>
<p class="rd-p">
Themes Themes
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>bk_default_theme()</div>
<div>bk_ggplot_theme()</div></code></pre>
</div>
<div id="palettes" class="section level2">
<h2>palettes</h2>
<a id="palettes_alias"></a>
<h3>
Palettes for themes
</h3>
<p class="rd-p">
Palettes for themes Palettes for themes
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>pal_color(colors)</div>
<div>pal_tableau(pal&nbsp;=&nbsp;"Tableau10")</div>
<div>pal_bk_glyph()</div>
<div>pal_gradient(cols&nbsp;=&nbsp;c("#66C2A4", "#41AE76", "#238B45", "#006D2C", "#00441B"), space&nbsp;=&nbsp;"rgb")</div>
<div>pal_size(min&nbsp;=&nbsp;2, max&nbsp;=&nbsp;20)</div>
<div>pal_bk_line_dash()</div>
<div>pal_bk_line_width()</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
colors
</dt>
<dd class="rd-dd">
a vector of colors to be used in the color palette
</dd>
<dt>
pal
</dt>
<dd class="rd-dd">
palette name
</dd>
<dt>
cols
</dt>
<dd class="rd-dd">
a vector of colors to ramp across for a continuous palette
</dd>
<dt>
space
</dt>
<dd class="rd-dd">
passed on to <code><a href=http://www.rdocumentation.org/packages/grDevices/topics/colorRamp>colorRampPalette</a>[grDevices]</code>
</dd>
<dt>
min
</dt>
<dd class="rd-dd">
minimum value
</dd>
<dt>
max
</dt>
<dd class="rd-dd">
maximum value
</dd>
</dl>
</div>
</div>
<div id="interaction-tools" class="section level1">
<h1>Interaction Tools</h1>
<div id="tool_hover" class="section level2">
<h2>tool_hover</h2>
<a id="tool_hover_alias"></a>
<h3>
Add “hover” tool to a Bokeh figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>tool_hover(fig, callback, ref_layer)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
callback
</dt>
<dd class="rd-dd">
a callback to be applied to this tool - either a character string of javascript code or any one of <code><a href=#debug_callback>debug_callback</a></code>, <code><a href=#shiny_callback>shiny_callback</a></code>, <code><a href=#console_callback>console_callback</a></code>, <code><a href=#custom_callback>custom_callback</a></code>
</dd>
<dt>
ref_layer
</dt>
<dd class="rd-dd">
name of the layer that the callback should be applied to
</dd>
</dl>
<h4>
Note
</h4>
<p class="rd-p">
Tools can be easily specified as a vector of tool names in the <code>tools</code> argument when instantiating a <code><a href=#figure>figure</a></code>. In this case, they are added with defaults. Explicitly calling these <code>tool_</code> functions will manually add the tool to a figure and allow additional specification of parameters.
</p>
<h4>
Examples
</h4>
<pre class="r"><code># hover over the blue points and make the orange points move
figure(title = &quot;hover a blue point&quot;) %&gt;%
  ly_points(1:10, lname = &quot;blue&quot;, lgroup = &quot;g1&quot;) %&gt;%
  ly_points(2:12, lname = &quot;orange&quot;, lgroup = &quot;g1&quot;) %&gt;%
  tool_hover(custom_callback(
    code = &quot;debugger;if(cb_data.index[&#39;1d&#39;].indices.length &gt; 0)
    orange_data.get(&#39;data&#39;).x[cb_data.index[&#39;1d&#39;].indices] += 0.1
    orange_data.trigger(&#39;change&#39;)&quot;, &quot;orange&quot;), &quot;blue&quot;)</code></pre>
<div id="htmlwidget-618988a779699a3e70c3" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-618988a779699a3e70c3" id="htmlwidget-618988a779699a3e70c3-script"></script>
<h4>
See also
</h4>
<p>Other tools: <code><a href=#tool_box_select>tool_box_select</a></code>, <code><a href=#tool_box_zoom>tool_box_zoom</a></code>, <code><a href=#tool_crosshair>tool_crosshair</a></code>, <code><a href=#tool_lasso_select>tool_lasso_select</a></code>, <code><a href=#tool_pan>tool_pan</a></code>, <code><a href=#tool_reset>tool_reset</a></code>, <code><a href=#tool_resize>tool_resize</a></code>, <code><a href=#tool_save>tool_save</a></code>, <code><a href=#tool_tap>tool_tap</a></code>, <code><a href=#tool_wheel_zoom>tool_wheel_zoom</a></code></p>
</div>
<div id="tool_selection" class="section level2">
<h2>tool_selection</h2>
<a id="tool_selection_alias"></a>
<h3>
Add “selection” tool callback to a Bokeh figure
</h3>
<p class="rd-p">
This adds a selection callback to be used with the box select or lasso select tools.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>tool_selection(fig, callback, ref_layer)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
callback
</dt>
<dd class="rd-dd">
a callback to be applied to this tool - either a character string of javascript code or any one of <code><a href=#debug_callback>debug_callback</a></code>, <code><a href=#shiny_callback>shiny_callback</a></code>, <code><a href=#console_callback>console_callback</a></code>, <code><a href=#custom_callback>custom_callback</a></code>
</dd>
<dt>
ref_layer
</dt>
<dd class="rd-dd">
name of the layer that the callback should be applied to
</dd>
</dl>
</div>
<div id="tool_tap" class="section level2">
<h2>tool_tap</h2>
<a id="tool_tap_alias"></a>
<h3>
Add “tap” tool to a Bokeh figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>tool_tap(fig, callback, ref_layer)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
callback
</dt>
<dd class="rd-dd">
a callback to be applied to this tool - either a character string of javascript code or any one of <code><a href=#debug_callback>debug_callback</a></code>, <code><a href=#shiny_callback>shiny_callback</a></code>, <code><a href=#console_callback>console_callback</a></code>, <code><a href=#custom_callback>custom_callback</a></code>
</dd>
<dt>
ref_layer
</dt>
<dd class="rd-dd">
name of the layer that the callback should be applied to
</dd>
</dl>
<h4>
Note
</h4>
<p class="rd-p">
Tools can be easily specified as a vector of tool names in the <code>tools</code> argument when instantiating a <code><a href=#figure>figure</a></code>. In this case, they are added with defaults. Explicitly calling these <code>tool_</code> functions will manually add the tool to a figure and allow additional specification of parameters.
</p>
<h4>
Examples
</h4>
<pre class="r"><code>figure() %&gt;%
  ly_points(1:10, lname = &quot;points&quot;) %&gt;%
  tool_tap(debug_callback(&quot;points&quot;), &quot;points&quot;)</code></pre>
<div id="htmlwidget-3d9c221976f6ce3a97de" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-3d9c221976f6ce3a97de" id="htmlwidget-3d9c221976f6ce3a97de-script"></script>
<h4>
See also
</h4>
<p>Other tools: <code><a href=#tool_box_select>tool_box_select</a></code>, <code><a href=#tool_box_zoom>tool_box_zoom</a></code>, <code><a href=#tool_crosshair>tool_crosshair</a></code>, <code><a href=#tool_hover>tool_hover</a></code>, <code><a href=#tool_lasso_select>tool_lasso_select</a></code>, <code><a href=#tool_pan>tool_pan</a></code>, <code><a href=#tool_reset>tool_reset</a></code>, <code><a href=#tool_resize>tool_resize</a></code>, <code><a href=#tool_save>tool_save</a></code>, <code><a href=#tool_wheel_zoom>tool_wheel_zoom</a></code></p>
</div>
<div id="tool_box_select" class="section level2">
<h2>tool_box_select</h2>
<a id="tool_box_select_alias"></a>
<h3>
Add “box_select” tool to a Bokeh figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>tool_box_select(fig, callback&nbsp;=&nbsp;NULL, ref_layer&nbsp;=&nbsp;NULL, line_color&nbsp;=&nbsp;"black", line_alpha&nbsp;=&nbsp;1, fill_color&nbsp;=&nbsp;"lightgrey", fill_alpha&nbsp;=&nbsp;0.5, line_width&nbsp;=&nbsp;2, line_dash&nbsp;=&nbsp;c(4, 4), level&nbsp;=&nbsp;"overlay")</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
callback
</dt>
<dd class="rd-dd">
a callback to be applied to this tool - either a character string of javascript code or any one of <code><a href=#debug_callback>debug_callback</a></code>, <code><a href=#shiny_callback>shiny_callback</a></code>, <code><a href=#console_callback>console_callback</a></code>, <code><a href=#custom_callback>custom_callback</a></code>
</dd>
<dt>
ref_layer
</dt>
<dd class="rd-dd">
name of the layer that the callback should be applied to
</dd>
<dt>
line_color, line_alpha, fill_color, fill_alpha, line_width, line_dash, level
</dt>
<dd class="rd-dd">
parameters to control the look of the selection bounding region
</dd>
</dl>
<h4>
Note
</h4>
<p class="rd-p">
Tools can be easily specified as a vector of tool names in the <code>tools</code> argument when instantiating a <code><a href=#figure>figure</a></code>. In this case, they are added with defaults. Explicitly calling these <code>tool_</code> functions will manually add the tool to a figure and allow additional specification of parameters.
</p>
<h4>
Examples
</h4>
<pre class="r"><code>figure() %&gt;% ly_points(1:10) %&gt;%
 tool_box_select()</code></pre>
<div id="htmlwidget-b53a6ff473a3ff5d482e" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-b53a6ff473a3ff5d482e" id="htmlwidget-b53a6ff473a3ff5d482e-script"></script>
<h4>
See also
</h4>
<p>Other tools: <code><a href=#tool_box_zoom>tool_box_zoom</a></code>, <code><a href=#tool_crosshair>tool_crosshair</a></code>, <code><a href=#tool_hover>tool_hover</a></code>, <code><a href=#tool_lasso_select>tool_lasso_select</a></code>, <code><a href=#tool_pan>tool_pan</a></code>, <code><a href=#tool_reset>tool_reset</a></code>, <code><a href=#tool_resize>tool_resize</a></code>, <code><a href=#tool_save>tool_save</a></code>, <code><a href=#tool_tap>tool_tap</a></code>, <code><a href=#tool_wheel_zoom>tool_wheel_zoom</a></code></p>
</div>
<div id="tool_box_zoom" class="section level2">
<h2>tool_box_zoom</h2>
<a id="tool_box_zoom_alias"></a>
<h3>
Add “box_zoom” tool to a Bokeh figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>tool_box_zoom(fig, line_color&nbsp;=&nbsp;"black", line_alpha&nbsp;=&nbsp;1, fill_color&nbsp;=&nbsp;"lightgrey", fill_alpha&nbsp;=&nbsp;0.5, line_width&nbsp;=&nbsp;2, line_dash&nbsp;=&nbsp;c(4, 4), level&nbsp;=&nbsp;"overlay")</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
line_color, line_alpha, fill_color, fill_alpha, line_width, line_dash, level
</dt>
<dd class="rd-dd">
parameters to control the look of the selection bounding region
</dd>
</dl>
<h4>
Note
</h4>
<p class="rd-p">
Tools can be easily specified as a vector of tool names in the <code>tools</code> argument when instantiating a <code><a href=#figure>figure</a></code>. In this case, they are added with defaults. Explicitly calling these <code>tool_</code> functions will manually add the tool to a figure and allow additional specification of parameters.
</p>
<h4>
Examples
</h4>
<pre class="r"><code>figure() %&gt;% ly_points(1:10) %&gt;%
 tool_box_zoom()</code></pre>
<div id="htmlwidget-79a2102d4d7b1f04af17" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-79a2102d4d7b1f04af17" id="htmlwidget-79a2102d4d7b1f04af17-script"></script>
<h4>
See also
</h4>
<p>Other tools: <code><a href=#tool_box_select>tool_box_select</a></code>, <code><a href=#tool_crosshair>tool_crosshair</a></code>, <code><a href=#tool_hover>tool_hover</a></code>, <code><a href=#tool_lasso_select>tool_lasso_select</a></code>, <code><a href=#tool_pan>tool_pan</a></code>, <code><a href=#tool_reset>tool_reset</a></code>, <code><a href=#tool_resize>tool_resize</a></code>, <code><a href=#tool_save>tool_save</a></code>, <code><a href=#tool_tap>tool_tap</a></code>, <code><a href=#tool_wheel_zoom>tool_wheel_zoom</a></code></p>
</div>
<div id="tool_crosshair" class="section level2">
<h2>tool_crosshair</h2>
<a id="tool_crosshair_alias"></a>
<h3>
Add “crosshair” tool to a Bokeh figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>tool_crosshair(fig)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
</dl>
<h4>
Note
</h4>
<p class="rd-p">
Tools can be easily specified as a vector of tool names in the <code>tools</code> argument when instantiating a <code><a href=#figure>figure</a></code>. In this case, they are added with defaults. Explicitly calling these <code>tool_</code> functions will manually add the tool to a figure and allow additional specification of parameters.
</p>
<h4>
Examples
</h4>
<pre class="r"><code>figure() %&gt;% ly_points(1:10) %&gt;%
 tool_crosshair()</code></pre>
<div id="htmlwidget-ed26f7fd22307cd85320" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-ed26f7fd22307cd85320" id="htmlwidget-ed26f7fd22307cd85320-script"></script>
<h4>
See also
</h4>
<p>Other tools: <code><a href=#tool_box_select>tool_box_select</a></code>, <code><a href=#tool_box_zoom>tool_box_zoom</a></code>, <code><a href=#tool_hover>tool_hover</a></code>, <code><a href=#tool_lasso_select>tool_lasso_select</a></code>, <code><a href=#tool_pan>tool_pan</a></code>, <code><a href=#tool_reset>tool_reset</a></code>, <code><a href=#tool_resize>tool_resize</a></code>, <code><a href=#tool_save>tool_save</a></code>, <code><a href=#tool_tap>tool_tap</a></code>, <code><a href=#tool_wheel_zoom>tool_wheel_zoom</a></code></p>
</div>
<div id="tool_lasso_select" class="section level2">
<h2>tool_lasso_select</h2>
<a id="tool_lasso_select_alias"></a>
<h3>
Add “lasso_select” tool to a Bokeh figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>tool_lasso_select(fig, callback&nbsp;=&nbsp;NULL, ref_layer&nbsp;=&nbsp;NULL, line_color&nbsp;=&nbsp;"black", line_alpha&nbsp;=&nbsp;1, fill_color&nbsp;=&nbsp;"lightgrey", fill_alpha&nbsp;=&nbsp;0.5, line_width&nbsp;=&nbsp;2, line_dash&nbsp;=&nbsp;c(4, 4), level&nbsp;=&nbsp;"overlay")</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
callback
</dt>
<dd class="rd-dd">
a callback to be applied to this tool - either a character string of javascript code or any one of <code><a href=#debug_callback>debug_callback</a></code>, <code><a href=#shiny_callback>shiny_callback</a></code>, <code><a href=#console_callback>console_callback</a></code>, <code><a href=#custom_callback>custom_callback</a></code>
</dd>
<dt>
ref_layer
</dt>
<dd class="rd-dd">
name of the layer that the callback should be applied to
</dd>
<dt>
line_color, line_alpha, fill_color, fill_alpha, line_width, line_dash, level
</dt>
<dd class="rd-dd">
parameters to control the look of the selection bounding region
</dd>
</dl>
<h4>
Note
</h4>
<p class="rd-p">
Tools can be easily specified as a vector of tool names in the <code>tools</code> argument when instantiating a <code><a href=#figure>figure</a></code>. In this case, they are added with defaults. Explicitly calling these <code>tool_</code> functions will manually add the tool to a figure and allow additional specification of parameters.
</p>
<h4>
Examples
</h4>
<pre class="r"><code>figure() %&gt;% ly_points(1:10) %&gt;%
 tool_lasso_select()</code></pre>
<div id="htmlwidget-6debf6e2f20d0ff99ee0" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-6debf6e2f20d0ff99ee0" id="htmlwidget-6debf6e2f20d0ff99ee0-script"></script>
<h4>
See also
</h4>
<p>Other tools: <code><a href=#tool_box_select>tool_box_select</a></code>, <code><a href=#tool_box_zoom>tool_box_zoom</a></code>, <code><a href=#tool_crosshair>tool_crosshair</a></code>, <code><a href=#tool_hover>tool_hover</a></code>, <code><a href=#tool_pan>tool_pan</a></code>, <code><a href=#tool_reset>tool_reset</a></code>, <code><a href=#tool_resize>tool_resize</a></code>, <code><a href=#tool_save>tool_save</a></code>, <code><a href=#tool_tap>tool_tap</a></code>, <code><a href=#tool_wheel_zoom>tool_wheel_zoom</a></code></p>
</div>
<div id="tool_pan" class="section level2">
<h2>tool_pan</h2>
<a id="tool_pan_alias"></a>
<h3>
Add “pan” tool to a Bokeh figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>tool_pan(fig, dimensions&nbsp;=&nbsp;c("width", "height"))</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
dimensions
</dt>
<dd class="rd-dd">
a vector specifying whether the pan tool should pan with respect to the x axis (“width”) and the y axis (“height”) or both (c(“width”, “height”))
</dd>
</dl>
<h4>
Note
</h4>
<p class="rd-p">
Tools can be easily specified as a vector of tool names in the <code>tools</code> argument when instantiating a <code><a href=#figure>figure</a></code>. In this case, they are added with defaults. Explicitly calling these <code>tool_</code> functions will manually add the tool to a figure and allow additional specification of parameters.
</p>
<h4>
Examples
</h4>
<pre class="r"><code># only pan on x axis
figure() %&gt;% ly_points(1:10) %&gt;%
 tool_pan(dimensions = &quot;height&quot;)</code></pre>
<div id="htmlwidget-c2da0e5ae72af65eae95" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-c2da0e5ae72af65eae95" id="htmlwidget-c2da0e5ae72af65eae95-script"></script>
<h4>
See also
</h4>
<p>Other tools: <code><a href=#tool_box_select>tool_box_select</a></code>, <code><a href=#tool_box_zoom>tool_box_zoom</a></code>, <code><a href=#tool_crosshair>tool_crosshair</a></code>, <code><a href=#tool_hover>tool_hover</a></code>, <code><a href=#tool_lasso_select>tool_lasso_select</a></code>, <code><a href=#tool_reset>tool_reset</a></code>, <code><a href=#tool_resize>tool_resize</a></code>, <code><a href=#tool_save>tool_save</a></code>, <code><a href=#tool_tap>tool_tap</a></code>, <code><a href=#tool_wheel_zoom>tool_wheel_zoom</a></code></p>
</div>
<div id="tool_reset" class="section level2">
<h2>tool_reset</h2>
<a id="tool_reset_alias"></a>
<h3>
Add “reset” tool to a Bokeh figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>tool_reset(fig)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
</dl>
<h4>
Note
</h4>
<p class="rd-p">
Tools can be easily specified as a vector of tool names in the <code>tools</code> argument when instantiating a <code><a href=#figure>figure</a></code>. In this case, they are added with defaults. Explicitly calling these <code>tool_</code> functions will manually add the tool to a figure and allow additional specification of parameters.
</p>
<h4>
Examples
</h4>
<pre class="r"><code>figure() %&gt;% ly_points(1:10) %&gt;%
 tool_reset()</code></pre>
<div id="htmlwidget-bbab473f1439642400b5" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-bbab473f1439642400b5" id="htmlwidget-bbab473f1439642400b5-script"></script>
<h4>
See also
</h4>
<p>Other tools: <code><a href=#tool_box_select>tool_box_select</a></code>, <code><a href=#tool_box_zoom>tool_box_zoom</a></code>, <code><a href=#tool_crosshair>tool_crosshair</a></code>, <code><a href=#tool_hover>tool_hover</a></code>, <code><a href=#tool_lasso_select>tool_lasso_select</a></code>, <code><a href=#tool_pan>tool_pan</a></code>, <code><a href=#tool_resize>tool_resize</a></code>, <code><a href=#tool_save>tool_save</a></code>, <code><a href=#tool_tap>tool_tap</a></code>, <code><a href=#tool_wheel_zoom>tool_wheel_zoom</a></code></p>
</div>
<div id="tool_resize" class="section level2">
<h2>tool_resize</h2>
<a id="tool_resize_alias"></a>
<h3>
Add “resize” tool to a Bokeh figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>tool_resize(fig)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
</dl>
<h4>
Note
</h4>
<p class="rd-p">
Tools can be easily specified as a vector of tool names in the <code>tools</code> argument when instantiating a <code><a href=#figure>figure</a></code>. In this case, they are added with defaults. Explicitly calling these <code>tool_</code> functions will manually add the tool to a figure and allow additional specification of parameters.
</p>
<h4>
Examples
</h4>
<pre class="r"><code>figure() %&gt;% ly_points(1:10) %&gt;%
 tool_resize()</code></pre>
<div id="htmlwidget-c138fd786cf4c3ee6296" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-c138fd786cf4c3ee6296" id="htmlwidget-c138fd786cf4c3ee6296-script"></script>
<h4>
See also
</h4>
<p>Other tools: <code><a href=#tool_box_select>tool_box_select</a></code>, <code><a href=#tool_box_zoom>tool_box_zoom</a></code>, <code><a href=#tool_crosshair>tool_crosshair</a></code>, <code><a href=#tool_hover>tool_hover</a></code>, <code><a href=#tool_lasso_select>tool_lasso_select</a></code>, <code><a href=#tool_pan>tool_pan</a></code>, <code><a href=#tool_reset>tool_reset</a></code>, <code><a href=#tool_save>tool_save</a></code>, <code><a href=#tool_tap>tool_tap</a></code>, <code><a href=#tool_wheel_zoom>tool_wheel_zoom</a></code></p>
</div>
<div id="tool_save" class="section level2">
<h2>tool_save</h2>
<a id="tool_save_alias"></a>
<h3>
Add “save” tool to a Bokeh figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>tool_save(fig)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
</dl>
<h4>
Note
</h4>
<p class="rd-p">
Tools can be easily specified as a vector of tool names in the <code>tools</code> argument when instantiating a <code><a href=#figure>figure</a></code>. In this case, they are added with defaults. Explicitly calling these <code>tool_</code> functions will manually add the tool to a figure and allow additional specification of parameters.
</p>
<h4>
Examples
</h4>
<pre class="r"><code>figure() %&gt;% ly_points(1:10) %&gt;%
 tool_save()</code></pre>
<div id="htmlwidget-2bfbd19870959749e096" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-2bfbd19870959749e096" id="htmlwidget-2bfbd19870959749e096-script"></script>
<h4>
See also
</h4>
<p>Other tools: <code><a href=#tool_box_select>tool_box_select</a></code>, <code><a href=#tool_box_zoom>tool_box_zoom</a></code>, <code><a href=#tool_crosshair>tool_crosshair</a></code>, <code><a href=#tool_hover>tool_hover</a></code>, <code><a href=#tool_lasso_select>tool_lasso_select</a></code>, <code><a href=#tool_pan>tool_pan</a></code>, <code><a href=#tool_reset>tool_reset</a></code>, <code><a href=#tool_resize>tool_resize</a></code>, <code><a href=#tool_tap>tool_tap</a></code>, <code><a href=#tool_wheel_zoom>tool_wheel_zoom</a></code></p>
</div>
<div id="tool_wheel_zoom" class="section level2">
<h2>tool_wheel_zoom</h2>
<a id="tool_wheel_zoom_alias"></a>
<h3>
Add “wheel_zoom” tool to a Bokeh figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>tool_wheel_zoom(fig, dimensions&nbsp;=&nbsp;c("width", "height"))</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to modify
</dd>
<dt>
dimensions
</dt>
<dd class="rd-dd">
a vector specifying whether the wheel_zoom tool should zoom with respect to the x axis (“width”) and the y axis (“height”) or both (c(“width”, “height”))
</dd>
</dl>
<h4>
Note
</h4>
<p class="rd-p">
Tools can be easily specified as a vector of tool names in the <code>tools</code> argument when instantiating a <code><a href=#figure>figure</a></code>. In this case, they are added with defaults. Explicitly calling these <code>tool_</code> functions will manually add the tool to a figure and allow additional specification of parameters.
</p>
<h4>
Examples
</h4>
<pre class="r"><code># only zoom on x axis
figure() %&gt;% ly_points(1:10) %&gt;%
 tool_wheel_zoom(dimensions = &quot;height&quot;)</code></pre>
<div id="htmlwidget-76666459f79aed5bdf5f" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-76666459f79aed5bdf5f" id="htmlwidget-76666459f79aed5bdf5f-script"></script>
<h4>
See also
</h4>
<p>Other tools: <code><a href=#tool_box_select>tool_box_select</a></code>, <code><a href=#tool_box_zoom>tool_box_zoom</a></code>, <code><a href=#tool_crosshair>tool_crosshair</a></code>, <code><a href=#tool_hover>tool_hover</a></code>, <code><a href=#tool_lasso_select>tool_lasso_select</a></code>, <code><a href=#tool_pan>tool_pan</a></code>, <code><a href=#tool_reset>tool_reset</a></code>, <code><a href=#tool_resize>tool_resize</a></code>, <code><a href=#tool_save>tool_save</a></code>, <code><a href=#tool_tap>tool_tap</a></code></p>
</div>
</div>
<div id="callback-interactivity" class="section level1">
<h1>Callback Interactivity</h1>
<div id="console_callback" class="section level2">
<h2>console_callback</h2>
<a id="console_callback_alias"></a>
<h3>
Specify a console callback
</h3>
<p class="rd-p">
This registers a callback that simply prints the callback objects in the javascript console of your web browser. A probalby more useful callback is the <code><a href='debug_callback.html'>debug_callback</a></code> which will place you inside a debugger in your web browser allowing you to inspect the callback objects.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>console_callback()</div></code></pre>
<h4>
Examples
</h4>
<pre class="r"><code>figure() %&gt;%
  ly_points(1:10) %&gt;%
  x_range(callback = console_callback()) %&gt;%
  y_range(callback = console_callback())</code></pre>
<div id="htmlwidget-8629f0ab2486472771c3" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-8629f0ab2486472771c3" id="htmlwidget-8629f0ab2486472771c3-script"></script>
</div>
<div id="custom_callback" class="section level2">
<h2>custom_callback</h2>
<a id="custom_callback_alias"></a>
<h3>
Specify a custom callback
</h3>
<p class="rd-p">
This registers a callback that allows you to specify your own custom callback javascript code. A probalby more useful callback to use in conjunction with this for working on the javascript code is the <code><a href='debug_callback.html'>debug_callback</a></code> which will place you inside a debugger in your web browser allowing you to inspect the callback objects.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>custom_callback(code, lnames&nbsp;=&nbsp;NULL, args&nbsp;=&nbsp;NULL)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
code
</dt>
<dd class="rd-dd">
a string of javascript callback code
</dd>
<dt>
lnames
</dt>
<dd class="rd-dd">
vector of layer names to be made available inside the callback in addition to the default callback objects (see details)
</dd>
<dt>
args
</dt>
<dd class="rd-dd">
named list of additional references to objects to be addressable in the callback
</dd>
</dl>
<h4>
Details
</h4>
<p class="rd-p">
If we add a layer and provide it, for example the <code>lname</code> “points”, then if we refer to it using the <code>lnames</code> parameter to the callback, several objects will be made available inside the callback for you to access, given the names “points_data”, “points_glyph”, “points_glyph_rend”, “points_hov_glyph”, “points_ns_glyph”, all pointers to different objects associated with the “points” layer that your callback can manipulate.
</p>
<h4>
Examples
</h4>
<pre class="r"><code># hover over the blue points and make the orange points move
figure(title = &quot;hover a blue point&quot;) %&gt;%
  ly_points(1:10, lname = &quot;blue&quot;, lgroup = &quot;g1&quot;) %&gt;%
  ly_points(2:12, lname = &quot;orange&quot;, lgroup = &quot;g1&quot;) %&gt;%
  tool_hover(custom_callback(
    code = &quot;debugger;if(cb_data.index[&#39;1d&#39;].indices.length &gt; 0)
    orange_data.get(&#39;data&#39;).x[cb_data.index[&#39;1d&#39;].indices] += 0.1
    orange_data.trigger(&#39;change&#39;)&quot;, &quot;orange&quot;), &quot;blue&quot;)</code></pre>
<div id="htmlwidget-668b29f411c2619eb780" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-668b29f411c2619eb780" id="htmlwidget-668b29f411c2619eb780-script"></script>
</div>
<div id="debug_callback" class="section level2">
<h2>debug_callback</h2>
<a id="debug_callback_alias"></a>
<h3>
Specify a “debug” callback
</h3>
<p class="rd-p">
This registers a callback that simply places you inside a debugger in your web browser allowing you to inspect the callback objects.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>debug_callback(lnames&nbsp;=&nbsp;NULL, args&nbsp;=&nbsp;NULL)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
lnames
</dt>
<dd class="rd-dd">
vector of layer names to be made available inside the callback in addition to the default callback objects (see <code><a href=#custom_callback>custom_callback</a></code> for details)
</dd>
<dt>
args
</dt>
<dd class="rd-dd">
named list of additional references to objects to be addressable in the callback
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code>figure() %&gt;%
  ly_points(1:10, lname = &quot;points&quot;) %&gt;%
  tool_tap(debug_callback(&quot;points&quot;), &quot;points&quot;)</code></pre>
<div id="htmlwidget-d731817ba9ea163e27d5" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-d731817ba9ea163e27d5" id="htmlwidget-d731817ba9ea163e27d5-script"></script>
</div>
<div id="shiny_callback" class="section level2">
<h2>shiny_callback</h2>
<a id="shiny_callback_alias"></a>
<h3>
Specify a Shiny callback
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>shiny_callback(id)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
id
</dt>
<dd class="rd-dd">
a name that will be made available in your Shiny app as <code>input$id</code>
</dd>
</dl>
<h4>
Note
</h4>
<p class="rd-p">
Depending on the type of callback you are using (selection, range, hover, tap), the value of <code>input$id</code> will change. The best way to get familiar with what to expect as these values is to debug inside your Shiny app and inspect the contents. You can also use <code><a href=#custom_callback>custom_callback</a></code> to write your own custom callbacks that can register other data in your Shiny app. To see what the callbacks look like for each callback type, see, for example, the contents of <code>rbokeh:::handle_range_callback.shinyCallback</code>
</p>
</div>
</div>
<div id="output" class="section level1">
<h1>Output</h1>
<div id="print_model_json" class="section level2">
<h2>print_model_json</h2>
<a id="print_model_json_alias"></a>
<h3>
Print the JSON of a Bokeh figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>print_model_json(fig, prepare&nbsp;=&nbsp;TRUE, pretty&nbsp;=&nbsp;TRUE, file&nbsp;=&nbsp;"", pbcopy&nbsp;=&nbsp;FALSE)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure to print
</dd>
<dt>
prepare
</dt>
<dd class="rd-dd">
logical - should the figure be sent through preparations that need to be done prior to plotting (TRUE), or printed as-is (FALSE)
</dd>
<dt>
pretty
</dt>
<dd class="rd-dd">
parameter passed on to <code><a href=http://www.rdocumentation.org/packages/jsonlite/topics/fromJSON>toJSON</a></code>
</dd>
<dt>
file
</dt>
<dd class="rd-dd">
parameter passed on to <code><a href=http://www.rdocumentation.org/packages/base/topics/cat>cat</a></code>
</dd>
<dt>
pbcopy
</dt>
<dd class="rd-dd">
logical - if on OSX, should the results be passed to the clipboard (TRUE) instead of printed to the screen (FALSE)?
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code>## Not run: 
# p &lt;- figure() %&gt;% ly_points(1:10) %&gt;%
#  tool_pan(dimensions = &quot;height&quot;)
# print_model_json(p)
# ## End(Not run)</code></pre>
</div>
<div id="bokeh_render_json" class="section level2">
<h2>bokeh_render_json</h2>
<a id="bokeh_render_json_alias"></a>
<h3>
Plot a Bokeh JSON specification
</h3>
<p class="rd-p">
Take a path to a Bokeh JSON plot specification file and render it in the browser.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>bokeh_render_json(json_file)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
json_file
</dt>
<dd class="rd-dd">
path to json file
</dd>
</dl>
<h4>
Note
</h4>
<p class="rd-p">
This is mainly useful for development / debugging purposes for reading in json created from another platform like Python, or to be used with tweaking json output from <code><a href=#print_model_json>print_model_json</a></code>.
</p>
<h4>
See also
</h4>
<p><code><a href=#print_model_json>print_model_json</a></code></p>
</div>
<div id="rbokehoutput" class="section level2">
<h2>rbokehOutput</h2>
<a id="rbokehOutput_alias"></a>
<h3>
Widget output function for use in Shiny
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>rbokehOutput(outputId, width&nbsp;=&nbsp;"100%", height&nbsp;=&nbsp;"400px")</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
outputId
</dt>
<dd class="rd-dd">
output variable to read from
</dd>
<dt>
width
</dt>
<dd class="rd-dd">
a valid CSS unit for the width or a number, which will be coerced to a string and have “px” appended.
</dd>
<dt>
height
</dt>
<dd class="rd-dd">
a valid CSS unit for the height or a number, which will be coerced to a string and have “px” appended.
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code>## Not run: 
# library(&quot;shiny&quot;)
# library(&quot;rbokeh&quot;)
# 
# ui &lt;- fluidPage(
#   rbokehOutput(&quot;rbokeh&quot;)
# )
# 
# server &lt;- function(input, output, session) {
#   output$rbokeh &lt;- renderRbokeh({
#     # Use invalidateLater() and jitter() to add some motion
#     invalidateLater(1000, session)
#     figure() %&gt;%
#       ly_points(jitter(cars$speed), jitter(cars$dist))
#   })
# }
# 
# shinyApp(ui, server)
# 
# 
# library(&quot;shiny&quot;)
# library(&quot;rbokeh&quot;)
# 
# ui &lt;- fluidPage(
#   rbokehOutput(&quot;rbokeh&quot;, width = 500, height = 540),
#   textOutput(&quot;x_range_text&quot;)
# )
# 
# server &lt;- function(input, output, session) {
#   output$rbokeh &lt;- renderRbokeh({
#     figure() %&gt;% ly_points(1:10) %&gt;%
#       x_range(callback = shiny_callback(&quot;x_range&quot;))
#   })
# 
#   output$x_range_text &lt;- reactive({
#     xrng &lt;- input$x_range
#     if(!is.null(xrng)) {
#       paste0(&quot;factors: &quot;, xrng$factors, &quot;, start: &quot;, xrng$start,
#         &quot;, end: &quot;, xrng$end)
#     } else {
#       &quot;waiting for axis event...&quot;
#     }
#   })
# }
# 
# shinyApp(ui, server)
# ## End(Not run)</code></pre>
</div>
<div id="renderrbokeh" class="section level2">
<h2>renderRbokeh</h2>
<a id="renderRbokeh_alias"></a>
<h3>
Widget render function for use in Shiny
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>renderRbokeh(expr, env&nbsp;=&nbsp;parent.frame(), quoted&nbsp;=&nbsp;FALSE)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
expr
</dt>
<dd class="rd-dd">
an expression that generates a rbokeh figure
</dd>
<dt>
env
</dt>
<dd class="rd-dd">
the environment in which to evaluate expr.
</dd>
<dt>
quoted
</dt>
<dd class="rd-dd">
is expr a quoted expression (with quote())? This is useful if you want to save an expression in a variable.
</dd>
</dl>
<h4>
See also
</h4>
<p><code><a href=#rbokehoutput>rbokehOutput</a></code> for an example in Shiny</p>
</div>
<div id="widget2gist" class="section level2">
<h2>widget2gist</h2>
<a id="widget2gist_alias"></a>
<h3>
Export htmlwidget plot to a gist
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>widget2gist(widget_string, name, created&nbsp;=&nbsp;NULL, description&nbsp;=&nbsp;"", license&nbsp;=&nbsp;c("none", "apache-2.0", "bsd-2-clause", "bsd-3-clause", "cc-by-4.0", "cc-by-nc-4.0", "cc-by-nc-nd-4.0", "cc-by-nc-sa-4.0", "cc-by-nd-4.0", "cc-by-sa-4.0", "cddl-1.0", "epl-1.0", "gpl-2.0", "gpl-3.0", "lgpl-2.1", "lgpl-3.0", "mit", "mpl-2.0"), border&nbsp;=&nbsp;TRUE, scrolling&nbsp;=&nbsp;FALSE, secure&nbsp;=&nbsp;TRUE, view&nbsp;=&nbsp;TRUE)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
widget_string
</dt>
<dd class="rd-dd">
a string containing R code to create an htmlwidget
</dd>
<dt>
name
</dt>
<dd class="rd-dd">
name of the gist
</dd>
<dt>
created
</dt>
<dd class="rd-dd">
optional string for a “Created by” to preceed the README
</dd>
<dt>
description
</dt>
<dd class="rd-dd">
optional text to go in README.md to describe the gist
</dd>
<dt>
license
</dt>
<dd class="rd-dd">
license under which gist is released - one of those accepted here: <a href = http://bl.ocks.org/licenses.txt>http://bl.ocks.org/licenses.txt</a>
</dd>
<dt>
border
</dt>
<dd class="rd-dd">
should the bl.ocks.org iframe have a border?
</dd>
<dt>
scrolling
</dt>
<dd class="rd-dd">
should the bl.ocks.org iframe scroll?
</dd>
<dt>
secure
</dt>
<dd class="rd-dd">
should https be used for cdn links?
</dd>
<dt>
view
</dt>
<dd class="rd-dd">
should the resulting gist be opened in the browser on bl.ocks.org?
</dd>
</dl>
<h4>
Note
</h4>
<p class="rd-p">
This requires that you have a github personal access token stored as an environment variable <code>GITHUB_PAT</code>. See <code><a href=http://www.rdocumentation.org/packages/gistr/topics/gist_create>gist_create</a></code> for more information.
</p>
<p class="rd-p">
Also note that this currently cant handle thumbnails but we are looking into ways to do that.
</p>
<h4>
Examples
</h4>
<pre class="r"><code>## Not run: 
# widget2gist(&quot;figure() %&gt;% ly_points(1:10)&quot;, name = &quot;test&quot;)
# ## End(Not run)</code></pre>
</div>
<div id="widget2png" class="section level2">
<h2>widget2png</h2>
<a id="widget2png_alias"></a>
<h3>
Make a static png file for an htmlwidget
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>widget2png(p, file, timeout&nbsp;=&nbsp;500)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
p
</dt>
<dd class="rd-dd">
htmlwidget object
</dd>
<dt>
file
</dt>
<dd class="rd-dd">
where to save png file
</dd>
<dt>
timeout
</dt>
<dd class="rd-dd">
plot render timeout in milliseconds (see details)
</dd>
</dl>
<h4>
Details
</h4>
<p class="rd-p">
This uses phantomjs (<a href = http://phantomjs.org>http://phantomjs.org</a>) to render your htmlwidget in a headless browser and take a screenshot of it, creating a static output. This assumes that phantomjs has been installed on your machine and is available as a system call. For plots that take longer to load and render, you may need to increase the value of <code>timeout</code>. Note that this function is experimental.
</p>
<h4>
Examples
</h4>
<pre class="r"><code>figure(tools = NULL) %&gt;%
  ly_points(1:10) %&gt;%
  widget2png(&quot;/tmp/test.png&quot;)</code></pre>
</div>
<div id="rbokeh2html" class="section level2">
<h2>rbokeh2html</h2>
<a id="rbokeh2html_alias"></a>
<h3>
Get the HTML content required to embed a Bokeh figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>rbokeh2html(fig, file&nbsp;=&nbsp;tempfile(fileext&nbsp;=&nbsp;".html"), pretty&nbsp;=&nbsp;FALSE, secure&nbsp;=&nbsp;TRUE)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
figure
</dd>
<dt>
file
</dt>
<dd class="rd-dd">
html file name to write the figure to
</dd>
<dt>
pretty
</dt>
<dd class="rd-dd">
should the json model be pretty printed to the html file?
</dd>
<dt>
secure
</dt>
<dd class="rd-dd">
should https be used for cdn links?
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code>p &lt;- figure() %&gt;% ly_points(1:10)
rbokeh2html(p)</code></pre>
<pre><code>## html file written to: /tmp/RtmpFukaaU/file25097bbca6cb.html</code></pre>
</div>
</div>
<div id="misc" class="section level1">
<h1>Misc</h1>
<div id="flightfreq" class="section level2">
<h2>flightfreq</h2>
<a id="flightfreq_alias"></a>
<h3>
Flight frequency dataset
</h3>
<p class="rd-p">
Daily counts of domestic flights in the U.S. from 1999 to mid-2008
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>flightfreq</div></code></pre>
<h4>
Examples
</h4>
<pre class="r"><code>p &lt;- figure(width = 1000) %&gt;%
  ly_points(date, Freq, data = flightfreq,
    hover = list(date, Freq, dow), size = 5) %&gt;%
  ly_abline(v = as.Date(&quot;2001-09-11&quot;))
p</code></pre>
<div id="htmlwidget-6f89ffa4dc8a8fc62d0f" style="width:1000px;height:500px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-6f89ffa4dc8a8fc62d0f" id="htmlwidget-6f89ffa4dc8a8fc62d0f-script"></script>
</div>
<div id="elements" class="section level2">
<h2>elements</h2>
<a id="elements_alias"></a>
<h3>
“Periodic Table” dataset
</h3>
<p class="rd-p">
Data for periodic table of the elements
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>elements</div></code></pre>
<h4>
Examples
</h4>
<pre class="r"><code># prepare data
elements &lt;- subset(elements, !is.na(group))
elements$group &lt;- as.character(elements$group)
elements$period &lt;- as.character(elements$period)

# add colors for groups
metals &lt;- c(&quot;alkali metal&quot;, &quot;alkaline earth metal&quot;, &quot;halogen&quot;,
  &quot;metal&quot;, &quot;metalloid&quot;, &quot;noble gas&quot;, &quot;nonmetal&quot;, &quot;transition metal&quot;)
colors &lt;- c(&quot;#a6cee3&quot;, &quot;#1f78b4&quot;, &quot;#fdbf6f&quot;, &quot;#b2df8a&quot;, &quot;#33a02c&quot;,
  &quot;#bbbb88&quot;, &quot;#baa2a6&quot;, &quot;#e08e79&quot;)
elements$color &lt;- colors[match(elements$metal, metals)]
elements$type &lt;- elements$metal

# make coordinates for labels
elements$symx &lt;- paste(elements$group, &quot;:0.1&quot;, sep = &quot;&quot;)
elements$numbery &lt;- paste(elements$period, &quot;:0.8&quot;, sep = &quot;&quot;)
elements$massy &lt;- paste(elements$period, &quot;:0.15&quot;, sep = &quot;&quot;)
elements$namey &lt;- paste(elements$period, &quot;:0.3&quot;, sep = &quot;&quot;)

# create figure
p &lt;- figure(title = &quot;Periodic Table&quot;, tools = &quot;&quot;,
  ylim = as.character(c(7:1)), xlim = as.character(1:18),
  xgrid = FALSE, ygrid = FALSE, xlab = &quot;&quot;, ylab = &quot;&quot;,
  height = 600, width = 1200) %&gt;%

# plot rectangles
ly_crect(group, period, data = elements, 0.9, 0.9,
  fill_color = color, line_color = color, fill_alpha = 0.6,
  hover = list(name, atomic.number, type, atomic.mass,
    electronic.configuration)) %&gt;%

# add symbol text
ly_text(symx, period, text = symbol, data = elements,
  font_style = &quot;bold&quot;, font_size = &quot;15pt&quot;,
  align = &quot;left&quot;, baseline = &quot;middle&quot;) %&gt;%

# add atomic number text
ly_text(symx, numbery, text = atomic.number, data = elements,
  font_size = &quot;9pt&quot;, align = &quot;left&quot;, baseline = &quot;middle&quot;) %&gt;%

# add name text
ly_text(symx, namey, text = name, data = elements,
  font_size = &quot;6pt&quot;, align = &quot;left&quot;, baseline = &quot;middle&quot;) %&gt;%

# add atomic mass text
ly_text(symx, massy, text = atomic.mass, data = elements,
  font_size = &quot;6pt&quot;, align = &quot;left&quot;, baseline = &quot;middle&quot;)

p</code></pre>
<div id="htmlwidget-547b1e7baa59f16edcc8" style="width:1200px;height:600px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-547b1e7baa59f16edcc8" id="htmlwidget-547b1e7baa59f16edcc8-script"></script>
</div>
<div id="nyctaxihex" class="section level2">
<h2>nyctaxihex</h2>
<a id="nyctaxihex_alias"></a>
<h3>
Hexagon binned counts of NYC taxi pickup locations
</h3>
<p class="rd-p">
Counts of NYC taxi pickups by location for January 2013, obtained from <a href = 'http://chriswhong.com/open-data/foil_nyc_taxi/'>here</a>.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>nyctaxihex</div></code></pre>
<h4>
Examples
</h4>
<pre class="r"><code>## Not run: 
# gmap(title = &quot;NYC taxi pickups January 2013&quot;,
#   lat = 40.74, lng = -73.95, zoom = 11,
#   map_type = &quot;roadmap&quot;, width = 1000, height = 800) %&gt;%
#   ly_hexbin(nyctaxihex, alpha = 0.5,
#     palette = &quot;Spectral10&quot;, trans = log, inv = exp)
# ## End(Not run)</code></pre>
</div>
<div id="catjitter" class="section level2">
<h2>catjitter</h2>
<a id="catjitter_alias"></a>
<h3>
Add a small amount of (rbokeh-compatible) noise to a character vector
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>catjitter(x, factor&nbsp;=&nbsp;0.5)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
x
</dt>
<dd class="rd-dd">
numeric vector to which jitter should be added
</dd>
<dt>
factor
</dt>
<dd class="rd-dd">
a factor between 0 and 1 that
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code>figure(data = lattice::singer) %&gt;%
  ly_points(catjitter(voice.part), jitter(height), color = &quot;black&quot;) %&gt;%
  ly_boxplot(voice.part, height, with_outliers = FALSE)</code></pre>
<div id="htmlwidget-ecb1953df2da425ccfa7" style="width:500px;height:540px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-ecb1953df2da425ccfa7" id="htmlwidget-ecb1953df2da425ccfa7-script"></script>
</div>
<div id="get_object_refs" class="section level2">
<h2>get_object_refs</h2>
<a id="get_object_refs_alias"></a>
<h3>
Get object ids and types from a figure
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>get_object_refs(fig)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fig
</dt>
<dd class="rd-dd">
a figure object
</dd>
</dl>
</div>
<div id="phantom_install" class="section level2">
<h2>phantom_install</h2>
<a id="phantom_install_alias"></a>
<h3>
Instructions for installing phantomjs
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>phantom_install()</div></code></pre>
</div>
<div id="pipe" class="section level2">
<h2>pipe</h2>
<a id="pipe_alias"></a>
<h3>
Pipe figures
</h3>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
lhs
</dt>
<dd class="rd-dd">
a Bokeh figure
</dd>
<dt>
rhs
</dt>
<dd class="rd-dd">
a layer to add to the figure
</dd>
</dl>
</div>
<div id="point_types" class="section level2">
<h2>point_types</h2>
<a id="point_types_alias"></a>
<h3>
Display glyph types available for ly_points()
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>point_types(size&nbsp;=&nbsp;25, color&nbsp;=&nbsp;"blue", width&nbsp;=&nbsp;800, height&nbsp;=&nbsp;450)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
size
</dt>
<dd class="rd-dd">
size of the glyph
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
color to use for line and fill properties
</dd>
<dt>
width, height
</dt>
<dd class="rd-dd">
dimensions of output plot
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code>point_types()</code></pre>
<div id="htmlwidget-5f9bab8277a307e6a15a" style="width:800px;height:450px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-5f9bab8277a307e6a15a" id="htmlwidget-5f9bab8277a307e6a15a-script"></script>
</div>
<div id="gmap_style" class="section level2">
<h2>gmap_style</h2>
<a id="gmap_style_alias"></a>
<h3>
Get a Google Map Style
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>gmap_style(name)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
name
</dt>
<dd class="rd-dd">
name of map style to retrieve (see details)
</dd>
</dl>
<h4>
Details
</h4>
<p class="rd-p">
This function provides Google Maps themes that can be passed to the <code>map_style</code> argument of <code><a href=#gmap>gmap</a></code>. Currently the most popular styles from <a href = https://snazzymaps.com>https://snazzymaps.com</a> are available. You can also visit this site or others to specify a custom <code>map_style</code>. Available styles are: “subtle_grayscale”, “shades_of_grey”, “blue_water”, “pale_dawn”, “blue_essence”, “apple_mapsesque”, “midnight_commander”, “light_monochrome”, “paper”, “retro”, “flat_map”, “cool_grey”.
</p>
<h4>
Examples
</h4>
<pre class="r"><code># custom map style
gmap(lat = 40.74, lng = -73.95, zoom = 11,
  width = 600, height = 600,
  map_style = gmap_style(&quot;blue_water&quot;))</code></pre>
<div id="htmlwidget-edc487e60681b2561c1e" style="width:600px;height:600px;" class="lazy-widget">
<div class="lazy-loading"></div>
<div class="lazy-loading-text">lazy loading...</div>
</div>
<script type="application/json" data-for="htmlwidget-edc487e60681b2561c1e" id="htmlwidget-edc487e60681b2561c1e-script"></script>
<pre class="r"><code>## Not run: 
# gmap(title = &quot;NYC taxi pickups January 2013&quot;,
#   lat = 40.74, lng = -73.95, zoom = 11,
#   map_type = &quot;roadmap&quot;, width = 1000, height = 800) %&gt;%
#   ly_hexbin(nyctaxihex, alpha = 0.5,
#     palette = &quot;Spectral10&quot;, trans = log, inv = exp)
# ## End(Not run)</code></pre>
<h4>
See also
</h4>
<p><code><a href=#gmap>gmap</a></code></p>
</div>
</div>


      </div>
    </div>
  </div>

  <div id="footer">
    <div class="container">
      <div class="col-md-6">
                <p>&copy; Ryan Hafen, 2016</p>
              </div>
      <div class="col-md-6">
        <p class="pull-right">created with <a href="https://github.com/hafen/packagedocs">packagedocs</a>
                  </p>
      </div>
    </div>
  </div>

  
</body>
</html>
